'use strict';

var pe = require('fs');
var ce = require('path');
var jsonSchemaRefParser = require('@hey-api/json-schema-ref-parser');
var c12 = require('c12');
var g = require('typescript');
var os$1 = require('os');
var y = require('handlebars');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var pe__default = /*#__PURE__*/_interopDefault(pe);
var ce__default = /*#__PURE__*/_interopDefault(ce);
var g__default = /*#__PURE__*/_interopDefault(g);
var y__default = /*#__PURE__*/_interopDefault(y);

var hc=Object.create;var As=Object.defineProperty;var xc=Object.getOwnPropertyDescriptor;var bc=Object.getOwnPropertyNames;var Oc=Object.getPrototypeOf,Rc=Object.prototype.hasOwnProperty;var ge=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var te=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Sc=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bc(t))!Rc.call(e,s)&&s!==r&&As(e,s,{get:()=>t[s],enumerable:!(n=xc(t,s))||n.enumerable});return e};var Tc=(e,t,r)=>(r=e!=null?hc(Oc(e)):{},Sc(As(r,"default",{value:e,enumerable:true}),e));var ks=te((Tf,qs)=>{qs.exports=vs;vs.sync=Pc;var Es=ge("fs");function Cc(e,t){var r=t.pathExt!==undefined?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return  true;for(var n=0;n<r.length;n++){var s=r[n].toLowerCase();if(s&&e.substr(-s.length).toLowerCase()===s)return  true}return  false}function js(e,t,r){return !e.isSymbolicLink()&&!e.isFile()?false:Cc(t,r)}function vs(e,t,r){Es.stat(e,function(n,s){r(n,n?false:js(s,e,t));});}function Pc(e,t){return js(Es.statSync(e),e,t)}});var Ms=te((Cf,Ds)=>{Ds.exports=Ns;Ns.sync=Ic;var ws=ge("fs");function Ns(e,t,r){ws.stat(e,function(n,s){r(n,n?false:$s(s,t));});}function Ic(e,t){return $s(ws.statSync(e),t)}function $s(e,t){return e.isFile()&&Ac(e,t)}function Ac(e,t){var r=e.mode,n=e.uid,s=e.gid,o=t.uid!==undefined?t.uid:process.getuid&&process.getuid(),i=t.gid!==undefined?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),m=parseInt("001",8),l=a|c,u=r&m||r&c&&s===i||r&a&&n===o||r&l&&o===0;return u}});var Ls=te((If,Fs)=>{ge("fs");var fr;process.platform==="win32"||global.TESTING_WINDOWS?fr=ks():fr=Ms();Fs.exports=Cn;Cn.sync=Ec;function Cn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,s){Cn(e,t||{},function(o,i){o?s(o):n(i);});})}fr(e,t||{},function(n,s){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,s=false),r(n,s);});}function Ec(e,t){try{return fr.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return  false;throw r}}});var Us=te((Af,Ws)=>{var xt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Bs=ge("path"),jc=xt?";":":",_s=Ls(),Hs=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Ks=(e,t)=>{let r=t.colon||jc,n=e.match(/\//)||xt&&e.match(/\\/)?[""]:[...xt?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],s=xt?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=xt?s.split(r):[""];return xt&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:s}},Vs=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:s,pathExtExe:o}=Ks(e,t),i=[],a=m=>new Promise((l,u)=>{if(m===n.length)return t.all&&i.length?l(i):u(Hs(e));let f=n[m],d=/^".*"$/.test(f)?f.slice(1,-1):f,x=Bs.join(d,e),h=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+x:x;l(c(h,m,0));}),c=(m,l,u)=>new Promise((f,d)=>{if(u===s.length)return f(a(l+1));let x=s[u];_s(m+x,{pathExt:o},(h,T)=>{if(!h&&T)if(t.all)i.push(m+x);else return f(m+x);return f(c(m,l,u+1))});});return r?a(0).then(m=>r(null,m),r):a(0)},vc=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:s}=Ks(e,t),o=[];for(let i=0;i<r.length;i++){let a=r[i],c=/^".*"$/.test(a)?a.slice(1,-1):a,m=Bs.join(c,e),l=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;for(let u=0;u<n.length;u++){let f=l+n[u];try{if(_s.sync(f,{pathExt:s}))if(t.all)o.push(f);else return f}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Hs(e)};Ws.exports=Vs;Vs.sync=vc;});var Xs=te((Ef,Pn)=>{var Qs=(e={})=>{let t=e.env||process.env;return (e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Pn.exports=Qs;Pn.exports.default=Qs;});var Zs=te((jf,Js)=>{var zs=ge("path"),qc=Us(),kc=Xs();function Gs(e,t){let r=e.options.env||process.env,n=process.cwd(),s=e.options.cwd!=null,o=s&&process.chdir!==undefined&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd);}catch{}let i;try{i=qc.sync(e.command,{path:r[kc({env:r})],pathExt:t?zs.delimiter:void 0});}catch{}finally{o&&process.chdir(n);}return i&&(i=zs.resolve(s?e.options.cwd:"",i)),i}function wc(e){return Gs(e)||Gs(e,true)}Js.exports=wc;});var Ys=te((vf,An)=>{var In=/([()\][%!^"`<>&|;, *?])/g;function Nc(e){return e=e.replace(In,"^$1"),e}function $c(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(In,"^$1"),t&&(e=e.replace(In,"^$1")),e}An.exports.command=Nc;An.exports.argument=$c;});var to=te((qf,eo)=>{eo.exports=/^#!(.*)/;});var no=te((kf,ro)=>{var Dc=to();ro.exports=(e="")=>{let t=e.match(Dc);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?n:n?`${s} ${n}`:s};});var oo=te((wf,so)=>{var En=ge("fs"),Mc=no();function Fc(e){let r=Buffer.alloc(150),n;try{n=En.openSync(e,"r"),En.readSync(n,r,0,150,0),En.closeSync(n);}catch{}return Mc(r.toString())}so.exports=Fc;});var co=te((Nf,po)=>{var Lc=ge("path"),io=Zs(),ao=Ys(),Bc=oo(),_c=process.platform==="win32",Hc=/\.(?:com|exe)$/i,Kc=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Vc(e){e.file=io(e);let t=e.file&&Bc(e.file);return t?(e.args.unshift(e.file),e.command=t,io(e)):e.file}function Wc(e){if(!_c)return e;let t=Vc(e),r=!Hc.test(t);if(e.options.forceShell||r){let n=Kc.test(t);e.command=Lc.normalize(e.command),e.command=ao.command(e.command),e.args=e.args.map(o=>ao.argument(o,n));let s=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${s}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=true;}return e}function Uc(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:undefined,original:{command:e,args:t}};return r.shell?n:Wc(n)}po.exports=Uc;});var uo=te(($f,lo)=>{var jn=process.platform==="win32";function vn(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Qc(e,t){if(!jn)return;let r=e.emit;e.emit=function(n,s){if(n==="exit"){let o=mo(s,t);if(o)return r.call(e,"error",o)}return r.apply(e,arguments)};}function mo(e,t){return jn&&e===1&&!t.file?vn(t.original,"spawn"):null}function Xc(e,t){return jn&&e===1&&!t.file?vn(t.original,"spawnSync"):null}lo.exports={hookChildProcess:Qc,verifyENOENT:mo,verifyENOENTSync:Xc,notFoundError:vn};});var go=te((Df,bt)=>{var fo=ge("child_process"),qn=co(),kn=uo();function yo(e,t,r){let n=qn(e,t,r),s=fo.spawn(n.command,n.args,n.options);return kn.hookChildProcess(s,n),s}function zc(e,t,r){let n=qn(e,t,r),s=fo.spawnSync(n.command,n.args,n.options);return s.error=s.error||kn.verifyENOENTSync(s.status,n),s}bt.exports=yo;bt.exports.spawn=yo;bt.exports.sync=zc;bt.exports._parse=qn;bt.exports._enoent=kn;});var Ps=Tc(go());var Ot=/^[^$_\p{ID_Start}]+/u,we=/^-?\d+(\.\d+)?$/,ho=/^(document|history|location|navigator|window)$/g,xo=/^(console|Array|Date|Error|Function|JSON|Map|Math|Object|Promise|RegExp|Set|WeakMap|WeakSet)$/g,oe=/^(arguments|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|eval|export|extends|false|finally|for|from|function|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)$/g,bo=/^(global|process|Buffer)$/g,Oo=/^(any|as|bigint|boolean|namespace|never|null|number|string|symbol|type|undefined|unknown|void)$/g,ue=/^[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*$/u;var ie=e=>(e||e==="")&&(ue.lastIndex=0,!ue.test(e))?`'${e}'`:e,Rt=e=>e&&e.startsWith("'")&&e.endsWith("'")?e.slice(1,e.length-1):e,E=e=>e.replace(/\*\//g,"*").replace(/\/\*/g,"*").replace(/\r?\n(.*)/g,(t,r)=>os$1.EOL+r.trim());var Ro,b=()=>Ro,So=e=>(Ro=e,b()),I=e=>("client"in e?e.client.name:e.name).startsWith("legacy/"),w=e=>{if(I(e))return e.name};var Jc=g__default.default.createPrinter({newLine:g__default.default.NewLineKind.LineFeed,removeComments:false}),To=e=>g__default.default.createSourceFile("",e,g__default.default.ScriptTarget.ESNext,false,g__default.default.ScriptKind.TS),Zc=To(""),Yc=e=>e.replace(/\\u([0-9a-fA-F]{4})/g,(t,r)=>String.fromCharCode(Number.parseInt(r,16)));function he({node:e,unescape:t=false}){let r=Jc.printNode(g__default.default.EmitHint.Unspecified,e,Zc);if(!t)return r;try{return Yc(r)}catch{return b().logs.level==="debug"&&console.warn("Could not decode value:",r),r}}function Co(e){return To(e).statements[0]}var R=({text:e})=>g__default.default.factory.createIdentifier(e),re={boolean:e=>e?g__default.default.factory.createTrue():g__default.default.factory.createFalse(),export:({alias:e,asType:t=false,name:r})=>{let n=R({text:r});if(e){let s=R({text:e});return g__default.default.factory.createExportSpecifier(t,n,s)}return g__default.default.factory.createExportSpecifier(t,undefined,n)},import:({alias:e,asType:t=false,name:r})=>{let n=R({text:r});if(e){let s=R({text:e});return g__default.default.factory.createImportSpecifier(t,n,s)}return g__default.default.factory.createImportSpecifier(t,undefined,n)},number:e=>e<0?g__default.default.factory.createPrefixUnaryExpression(g__default.default.SyntaxKind.MinusToken,g__default.default.factory.createNumericLiteral(Math.abs(e))):g__default.default.factory.createNumericLiteral(e),string:(e,t=false)=>{let r=e;t&&(r=Rt(r));let n=r.includes("'")&&r.includes('"'),s=r.includes(`
`),o=r.startsWith("`"),i=r.startsWith("\\`")&&r.endsWith("\\`");return (s||n||o)&&!i&&(r=`\`${r.replace(/(?<!\\)`/g,"\\`").replace(/\${/g,"\\${")}\``),r.startsWith("`")?R({text:r}):pt({text:r})}},at=e=>e!==null&&typeof e=="object"&&typeof e.kind=="number"&&typeof e.flags=="number"&&typeof e.pos=="number"&&typeof e.end=="number",We=e=>e!==undefined,em=({commentObject:e,node:t})=>{let r=e.lines.filter(i=>!!i||i==="");if(!r.length)return;if(!e.jsdoc){for(let i of r)g__default.default.addSyntheticLeadingComment(t,g__default.default.SyntaxKind.SingleLineCommentTrivia,` ${i}`,true);return}let n=r.map((i,a)=>{let c=i;return a!==r.length&&(c=`${c}
`),g__default.default.factory.createJSDocText(c)}),s=g__default.default.factory.createJSDocComment(g__default.default.factory.createNodeArray(n),undefined),o=he({node:s,unescape:true}).replace("/*","").replace("*  */","");g__default.default.addSyntheticLeadingComment(t,g__default.default.SyntaxKind.MultiLineCommentTrivia,o,true);},_=({comments:e=[],node:t})=>{let r=!!e.find(s=>typeof s=="object"&&s),n=e;r||(n=[{jsdoc:true,lines:e}]);for(let s of n)em({commentObject:s,node:t});};var U=(e,t)=>g__default.default.isTypeNode(e)?e:typeof e=="number"?g__default.default.factory.createLiteralTypeNode(re.number(e)):fe({typeArguments:t?.map(r=>U(r)),typeName:e}),wn=({expression:e,name:t})=>g__default.default.factory.createPropertyAccessChain(e,g__default.default.factory.createToken(g__default.default.SyntaxKind.QuestionDotToken),t),be=({expression:e,isOptional:t,name:r})=>{let n=typeof e=="string"?R({text:e}):e;if(t)return wn({expression:n,name:r});if(typeof r=="string"&&(ue.lastIndex=0,!ue.test(r))){!r.startsWith("'")&&!r.endsWith("'")&&(r=`'${r}'`);let o=R({text:r});return g__default.default.factory.createElementAccessExpression(n,o)}let s=typeof r=="string"?R({text:r}):r;return g__default.default.factory.createPropertyAccessExpression(n,s)},Nn=()=>g__default.default.factory.createNull(),xe=({identifiers:e=[],isValueAccess:t,shorthand:r,unescape:n,value:s})=>{if(s===null)return Nn();if(Array.isArray(s))return $n({elements:s});if(typeof s=="object")return hr({identifiers:e,obj:s,shorthand:r});if(typeof s=="number")return re.number(s);if(typeof s=="boolean")return re.boolean(s);if(typeof s=="string"){if(t){let o=s.split(".");return be({expression:o[0],name:o[1]})}return re.string(s,n)}},yr=e=>{let t=e==="public"?g__default.default.SyntaxKind.PublicKeyword:e==="protected"?g__default.default.SyntaxKind.ProtectedKeyword:e==="private"?g__default.default.SyntaxKind.PrivateKeyword:undefined,r=[];return t&&r.push(g__default.default.factory.createModifier(t)),r},Vt=e=>e.map(t=>{if("destructure"in t)return St({name:g__default.default.factory.createObjectBindingPattern(t.destructure.map(n=>"destructure"in n?undefined:g__default.default.factory.createBindingElement(undefined,undefined,R({text:n.name}),undefined)).filter(Boolean))});let r=yr(t.accessLevel);return t.isReadOnly&&(r=[...r,g__default.default.factory.createModifier(g__default.default.SyntaxKind.ReadonlyKeyword)]),St({initializer:t.default!==undefined?xe({value:t.default}):undefined,modifiers:r,name:R({text:t.name}),required:t.isRequired!==false,type:t.type!==undefined?U(t.type):undefined})}),Tt=({keyword:e})=>{let t=g__default.default.SyntaxKind.AnyKeyword;switch(e){case "boolean":t=g__default.default.SyntaxKind.BooleanKeyword;break;case "never":t=g__default.default.SyntaxKind.NeverKeyword;break;case "number":t=g__default.default.SyntaxKind.NumberKeyword;break;case "string":t=g__default.default.SyntaxKind.StringKeyword;break;case "undefined":t=g__default.default.SyntaxKind.UndefinedKeyword;break;case "unknown":t=g__default.default.SyntaxKind.UnknownKeyword;break;case "void":t=g__default.default.SyntaxKind.VoidKeyword;break}return g__default.default.factory.createKeywordTypeNode(t)},Wt=e=>e.map(t=>g__default.default.factory.createTypeParameterDeclaration(undefined,t.name,t.extends?typeof t.extends=="string"?Tt({keyword:"boolean"}):t.extends:undefined,t.default!==undefined?at(t.default)?t.default:g__default.default.factory.createLiteralTypeNode(t.default?g__default.default.factory.createTrue():g__default.default.factory.createFalse()):undefined)),Po=({literal:e})=>g__default.default.factory.createLiteralTypeNode(e),gr=({async:e,comment:t,multiLine:r,parameters:n=[],returnType:s,statements:o=[],types:i=[]})=>{let a=g__default.default.factory.createArrowFunction(e?[g__default.default.factory.createModifier(g__default.default.SyntaxKind.AsyncKeyword)]:undefined,i?Wt(i):undefined,Vt(n),s?U(s):undefined,undefined,Array.isArray(o)?ae({multiLine:r,statements:o}):o);return _({comments:t,node:a}),a},Io=({async:e,comment:t,multiLine:r,parameters:n=[],returnType:s,statements:o=[],types:i=[]})=>{let a=g__default.default.factory.createFunctionExpression(e?[g__default.default.factory.createModifier(g__default.default.SyntaxKind.AsyncKeyword)]:undefined,undefined,undefined,i?Wt(i):undefined,Vt(n),s?U(s):undefined,ae({multiLine:r,statements:o}));return _({comments:t,node:a}),a},$n=({elements:e,multiLine:t=false})=>g__default.default.factory.createArrayLiteralExpression(e.map(n=>at(n)?n:xe({value:n})).filter(We),t||!Array.isArray(e[0])&&typeof e[0]=="object"),Ao=({expression:e})=>g__default.default.factory.createAwaitExpression(e),Eo=({parameters:e=[],returnType:t,typeParameters:r})=>g__default.default.factory.createFunctionTypeNode(r,e,t),hr=({comments:e,identifiers:t=[],multiLine:r=true,obj:n,shorthand:s,unescape:o=false})=>{let i=Array.isArray(n)?n.map(c=>{let m=false;if("key"in c){let{key:u}=c;m=u===c.value,(u.match(/^[0-9]/)&&u.match(/\D+/g)||u.match(/\W/g)||u==="")&&!u.startsWith("'")&&!u.endsWith("'")&&(c.key=`'${u}'`);}let l;if("spread"in c){let u=at(c.spread)?c.spread:R({text:c.spread});l=g__default.default.factory.createSpreadAssignment(c.assertion?Qt({expression:u,type:typeof c.assertion=="string"?Tt({keyword:c.assertion}):c.assertion}):u);}else if(c.shorthand||s&&m)l=g__default.default.factory.createShorthandPropertyAssignment(c.value);else {let u=at(c.value)?c.value:Array.isArray(c.value)?hr({multiLine:r,obj:c.value,shorthand:s,unescape:o}):xe({identifiers:t.includes(c.key)?Object.keys(c.value):[],isValueAccess:c.isValueAccess,shorthand:s,unescape:o,value:c.value});if(!u)return;t.includes(c.key)&&!g__default.default.isObjectLiteralExpression(u)&&(u=R({text:c.value})),l=dr({initializer:u,name:c.key});}return _({comments:c.comments,node:l}),l}).filter(We):Object.entries(n).map(([c,m])=>{let l=xe({identifiers:t.includes(c)?Object.keys(m):[],shorthand:s,unescape:o,value:m});if(!l)return;t.includes(c)&&!g__default.default.isObjectLiteralExpression(l)&&(l=R({text:m}));let u=c===m;return c.match(/^[0-9]/)&&c.match(/\D+/g)&&!c.startsWith("'")&&!c.endsWith("'")&&(c=`'${c}'`),c.match(/\W/g)&&!c.startsWith("'")&&!c.endsWith("'")&&(c=`'${c}'`),s&&u?g__default.default.factory.createShorthandPropertyAssignment(m):dr({initializer:l,name:c})}).filter(We),a=g__default.default.factory.createObjectLiteralExpression(i,r);return _({comments:e,node:a}),a},jo=({comments:e={},leadingComment:t,name:r,obj:n})=>{let s=Array.isArray(n)?n.map(i=>{let a=rm({initializer:xe({value:i.value}),name:i.key});return _({comments:i.comments,node:a}),a}):Object.entries(n).map(([i,a])=>{let c=g__default.default.factory.createEnumMember(i,xe({unescape:true,value:a}));return _({comments:e[i],node:c}),c}),o=g__default.default.factory.createEnumDeclaration([g__default.default.factory.createModifier(g__default.default.SyntaxKind.ExportKeyword)],R({text:r}),s);return _({comments:t,node:o}),o},rm=({initializer:e,name:t})=>{let r=t;return typeof r=="string"&&(r.startsWith("'")&&r.endsWith("'")?r=pt({isSingleQuote:false,text:r}):r=ie(r)),g__default.default.factory.createEnumMember(r,e)},vo=({name:e,statements:t})=>g__default.default.factory.createModuleDeclaration([g__default.default.factory.createModifier(g__default.default.SyntaxKind.ExportKeyword)],R({text:e}),g__default.default.factory.createModuleBlock(t),g__default.default.NodeFlags.Namespace),qo=({indexType:e,objectType:t})=>g__default.default.factory.createIndexedAccessTypeNode(t,e),pt=({isSingleQuote:e,text:t})=>(e===undefined&&(e=!t.includes("'")),g__default.default.factory.createStringLiteral(t,e)),ko=({condition:e,whenFalse:t,whenTrue:r})=>g__default.default.factory.createConditionalExpression(e,g__default.default.factory.createToken(g__default.default.SyntaxKind.QuestionToken),r,g__default.default.factory.createToken(g__default.default.SyntaxKind.ColonToken),t),wo=({text:e})=>g__default.default.factory.createTypeOfExpression(R({text:e})),No=({comment:e,exportType:t,name:r,type:n,typeParameters:s=[]})=>{let o=g__default.default.factory.createTypeAliasDeclaration(t?[g__default.default.factory.createModifier(g__default.default.SyntaxKind.ExportKeyword)]:undefined,R({text:r}),Wt(s),U(n));return _({comments:e,node:o}),o},fe=({typeArguments:e,typeName:t})=>g__default.default.factory.createTypeReferenceNode(t,e),$o=({type:e})=>g__default.default.factory.createParenthesizedType(e),St=({initializer:e,modifiers:t,name:r,required:n=true,type:s})=>g__default.default.factory.createParameterDeclaration(t,undefined,r,n?undefined:g__default.default.factory.createToken(g__default.default.SyntaxKind.QuestionToken),s,e),Ut=({argumentsArray:e,expression:t,typeArguments:r})=>g__default.default.factory.createNewExpression(t,r,e),Do=({awaitModifier:e,expression:t,initializer:r,statement:n})=>g__default.default.factory.createForOfStatement(e,r,t,n),Mo=({left:e,right:t})=>g__default.default.factory.createAssignment(e,t),ae=({multiLine:e=true,statements:t})=>g__default.default.factory.createBlock(t,e),dr=({initializer:e,name:t})=>g__default.default.factory.createPropertyAssignment(t,e),Fo=({flags:e=[],text:t})=>g__default.default.factory.createRegularExpressionLiteral(`/${t}/${e.join("")}`),Qt=({expression:e,type:t})=>g__default.default.factory.createAsExpression(e,t);var Lo=({module:e})=>g__default.default.factory.createExportDeclaration(undefined,false,undefined,re.string(e)),Oe=({functionName:e,parameters:t=[],types:r})=>{let n=typeof e=="string"?R({text:e}):e,s=t.filter(i=>i!==undefined).map(i=>typeof i=="string"?R({text:i}):i);return g__default.default.factory.createCallExpression(n,r,s)},Bo=({exports:e,module:t})=>{let r=Array.isArray(e)?e:[e],n=r.some(c=>typeof c!="object"||!c.asType),s=r.map(c=>{let m=typeof c=="string"?{name:c}:c;return re.export({alias:m.alias,asType:n&&m.asType,name:m.name})}),o=g__default.default.factory.createNamedExports(s),i=re.string(t);return g__default.default.factory.createExportDeclaration(undefined,!n,o,i)},_o=({assertion:e,comment:t,destructure:r,exportConst:n,expression:s,name:o,typeName:i})=>{let a=e?Qt({expression:s,type:typeof e=="string"?fe({typeName:e}):e}):s,c=R({text:o}),m=g__default.default.factory.createVariableDeclaration(r?g__default.default.factory.createObjectBindingPattern([g__default.default.factory.createBindingElement(undefined,undefined,c,undefined)]):c,undefined,i?typeof i=="string"?fe({typeName:i}):i:undefined,a),l=g__default.default.factory.createVariableStatement(n?[g__default.default.factory.createModifier(g__default.default.SyntaxKind.ExportKeyword)]:undefined,g__default.default.factory.createVariableDeclarationList([m],g__default.default.NodeFlags.Const));return _({comments:t,node:l}),l},Ho=({imports:e,module:t})=>{let r=Array.isArray(e)?e:[e],n=r.some(m=>typeof m!="object"||!m.asType),s=r.map(m=>{let l=typeof m=="string"?{name:m}:m;return re.import({alias:l.alias,asType:n&&l.asType,name:l.name})}),o=g__default.default.factory.createNamedImports(s),i=g__default.default.factory.createImportClause(!n,undefined,o),a=re.string(t);return g__default.default.factory.createImportDeclaration(undefined,i,a)};var Ko=({accessLevel:e,comment:t,multiLine:r=true,parameters:n=[],statements:s=[]})=>{let o=g__default.default.factory.createConstructorDeclaration(yr(e),Vt(n),ae({multiLine:r,statements:s}));return _({comments:t,node:o}),o},Vo=({accessLevel:e,comment:t,isStatic:r=false,multiLine:n=true,name:s,parameters:o=[],returnType:i,statements:a=[],types:c=[]})=>{let m=yr(e);r&&(m=[...m,g__default.default.factory.createModifier(g__default.default.SyntaxKind.StaticKeyword)]);let l=g__default.default.factory.createMethodDeclaration(m,undefined,R({text:s}),undefined,c?Wt(c):undefined,Vt(o),i?U(i):undefined,ae({multiLine:n,statements:a}));return _({comments:t,node:l}),l},Wo=({decorator:e,members:t=[],name:r})=>{let n=[g__default.default.factory.createModifier(g__default.default.SyntaxKind.ExportKeyword)];e&&(n=[g__default.default.factory.createDecorator(Oe({functionName:e.name,parameters:e.args.map(o=>xe({value:o})).filter(We)})),...n]);let s=[];return t.forEach(o=>{s=[...s,o,R({text:`
`})];}),g__default.default.factory.createClassDeclaration(n,R({text:r}),[],[],s)};var ct=({expression:e})=>g__default.default.factory.createExpressionStatement(e);var xr=({expression:e})=>g__default.default.factory.createReturnStatement(e),Qo=({args:e=[],name:t,types:r=[]})=>{let n=r.map(a=>fe({typeName:a})),s=e.map(a=>g__default.default.isExpression(a)?a:R({text:a})).filter(We),o=Oe({functionName:t,parameters:s,types:n});return xr({expression:o})},Xo=({expression:e})=>xr({expression:typeof e=="string"?R({text:e}):e});var Ct=e=>e.slice(1).reduce((t,r)=>(ue.lastIndex=0,ue.test(r)?wn({expression:t,name:r}):g__default.default.factory.createElementAccessChain(t,g__default.default.factory.createToken(g__default.default.SyntaxKind.QuestionDotToken),R({text:r}))),R({text:e[0]})),br=e=>e.slice(1).reduce((t,r)=>be({expression:t,name:r}),R({text:e[0]})),zo=({expressions:e})=>e.reduce((r,n)=>be({expression:r,name:n})),Go=({left:e,operator:t="=",right:r})=>g__default.default.factory.createBinaryExpression(e,t==="="?g__default.default.SyntaxKind.EqualsToken:t==="==="?g__default.default.SyntaxKind.EqualsEqualsEqualsToken:g__default.default.SyntaxKind.InKeyword,typeof r=="string"?R({text:r}):r),Pt=({elseStatement:e,expression:t,thenStatement:r})=>g__default.default.factory.createIfStatement(t,r,e),Jo=({path:e})=>{let t=Ct(e),r=br(e),n=ae({statements:[ct({expression:g__default.default.factory.createBinaryExpression(r,g__default.default.SyntaxKind.EqualsToken,Ut({argumentsArray:[r],expression:R({text:"Date"})}))})]});return Pt({expression:t,thenStatement:n})},Zo=({path:e,transformerName:t})=>{let r=Ct(e),n=br(e),s=ae({statements:[ct({expression:Oe({functionName:t,parameters:[n]})})]});return [Pt({expression:r,thenStatement:s})]},Yo=({path:e,transformerName:t})=>{let r=Ct(e),n=br(e);return Pt({expression:Oe({functionName:be({expression:"Array",name:"isArray"}),parameters:[r]}),thenStatement:ae({statements:[ct({expression:g__default.default.factory.createCallChain(be({expression:n,name:"forEach"}),undefined,undefined,[R({text:t})])})]})})},ei=({parameterName:e})=>{let t=R({text:"Date"});return Ut({argumentsArray:[R({text:e})],expression:t})},ti=({path:e,transformExpression:t})=>{let r=Ct(e),n=br(e);return Pt({expression:Oe({functionName:be({expression:"Array",name:"isArray"}),parameters:[r]}),thenStatement:ae({statements:[ct({expression:g__default.default.factory.createBinaryExpression(n,g__default.default.factory.createToken(g__default.default.SyntaxKind.EqualsToken),g__default.default.factory.createCallChain(be({expression:n,name:"map"}),undefined,undefined,[gr({parameters:[{name:"item"}],statements:t})]))})]})})};var mm=fe({typeName:"null"}),It=({isNullable:e,node:t})=>e?g__default.default.factory.createUnionTypeNode([t,mm]):t,Dn=({indexProperty:e,isNullable:t,properties:r,useLegacyResolution:n})=>{let o=r.map(a=>{let c=a.isReadOnly?[g__default.default.factory.createModifier(g__default.default.SyntaxKind.ReadonlyKeyword)]:undefined,m=a.isRequired!==false?undefined:g__default.default.factory.createToken(g__default.default.SyntaxKind.QuestionToken),l=U(a.type);let u=g__default.default.factory.createPropertySignature(c,n||typeof a.name=="string"&&a.name.match(ue)||typeof a.name!="string"&&g__default.default.isPropertyName(a.name)?a.name:pt({text:a.name}),m,l);return _({comments:a.comment,node:u}),u});if(e){let a=e.isReadOnly?[g__default.default.factory.createModifier(g__default.default.SyntaxKind.ReadonlyKeyword)]:undefined,c=g__default.default.factory.createIndexSignature(a,[St({name:R({text:String(e.name)}),type:Tt({keyword:"string"})})],U(e.type));o.push(c);}let i=g__default.default.factory.createTypeLiteralNode(o);return It({isNullable:t,node:i})},Xt=({isNullable:e,types:t})=>{let r=t.map(s=>U(s)),n=g__default.default.factory.createUnionTypeNode(r);return It({isNullable:e,node:n})},ri=({isNullable:e,types:t})=>{let r=t.map(s=>U(s)),n=g__default.default.factory.createIntersectionTypeNode(r);return It({isNullable:e,node:n})},ni=({isNullable:e=false,types:t})=>{let r=t.map(s=>U(s)),n=g__default.default.factory.createTupleTypeNode(r);return It({isNullable:e,node:n})},si=(e,t,r=false,n=true)=>{let s=Xt({types:e}),o=Xt({types:t}),i=Dn({properties:[{name:`[key: ${he({node:s,unescape:true})}]`,type:o}],useLegacyResolution:n});return It({isNullable:r,node:i})},oi=(e,t=false)=>{let r=fe({typeArguments:[Array.isArray(e)?Xt({types:e}):e],typeName:"Array"});return It({isNullable:t,node:r})};var p={anonymousFunction:Io,arrayLiteralExpression:$n,arrowFunction:gr,asExpression:Qt,assignment:Mo,awaitExpression:Ao,binaryExpression:Go,block:ae,callExpression:Oe,classDeclaration:Wo,conditionalExpression:ko,constVariable:_o,constructorDeclaration:Ko,enumDeclaration:jo,exportAllDeclaration:Lo,exportNamedDeclaration:Bo,expressionToStatement:ct,forOfStatement:Do,functionTypeNode:Eo,identifier:R,ifStatement:Pt,indexedAccessTypeNode:qo,isTsNode:at,keywordTypeNode:Tt,literalTypeNode:Po,methodDeclaration:Vo,namedImportDeclarations:Ho,namespaceDeclaration:vo,newExpression:Ut,nodeToString:he,null:Nn,objectExpression:hr,ots:re,parameterDeclaration:St,propertyAccessExpression:be,propertyAccessExpressions:zo,propertyAssignment:dr,regularExpressionLiteral:Fo,returnFunctionCall:Qo,returnStatement:xr,returnVariable:Xo,safeAccessExpression:Ct,stringLiteral:pt,stringToTsNodes:Co,transformArrayMap:ti,transformArrayMutation:Yo,transformDateMutation:Jo,transformFunctionMutation:Zo,transformNewDate:ei,typeAliasDeclaration:No,typeArrayNode:oi,typeInterfaceNode:Dn,typeIntersectionNode:ri,typeNode:U,typeOfExpression:wo,typeParenthesizedNode:$o,typeRecordNode:si,typeReferenceNode:fe,typeTupleNode:ni,typeUnionNode:Xt,valueToExpression:xe};var ii=async({context:e})=>{if(await e.broadcast("before"),e.ir.components){for(let t in e.ir.components.schemas){let r=e.ir.components.schemas[t],n=`#/components/schemas/${t}`;await e.broadcast("schema",{$ref:n,name:t,schema:r});}for(let t in e.ir.components.parameters){let r=e.ir.components.parameters[t],n=`#/components/parameters/${t}`;await e.broadcast("parameter",{$ref:n,name:t,parameter:r});}for(let t in e.ir.components.requestBodies){let r=e.ir.components.requestBodies[t],n=`#/components/requestBodies/${t}`;await e.broadcast("requestBody",{$ref:n,name:t,requestBody:r});}}for(let t in e.ir.paths){let r=e.ir.paths[t];for(let n in r){let s=n,o=r[s];await e.broadcast("operation",{method:s,operation:o,path:t});}}await e.broadcast("after");};var Or=e=>{switch(e.name){case "legacy/angular":return "AngularHttpRequest";case "legacy/axios":return "AxiosHttpRequest";case "legacy/fetch":return "FetchHttpRequest";case "legacy/node":return "NodeHttpRequest";case "legacy/xhr":return "XHRHttpRequest";default:return ""}};function At(e,t){let r=e.toLocaleLowerCase(),n=t.toLocaleLowerCase();return r.localeCompare(n,"en")}var zt=(e,t)=>At(e.name,t.name);function Gt(e){return e.sort(zt)}var Qe=e=>{pe__default.default.existsSync(e)||pe__default.default.mkdirSync(e,{recursive:true});},Mn=e=>{pe__default.default.existsSync(e)&&pe__default.default.rmSync(e,{force:true,recursive:true});},Jt=({moduleOutput:e,sourceOutput:t})=>{let r=t.split("/");return `${new Array(r.length).fill("").join("../")||"./"}${e}`};var ai=async(e,t,r,n)=>{let s=b(),o=n.client({$config:s,...r,httpRequest:Or(s.client),models:Gt(r.models),services:Gt(r.services)});w(s)&&(Qe(t),pe__default.default.writeFileSync(ce__default.default.resolve(t,`${w(s)}.ts`),o));};var ne=({config:e,sourceOutput:t})=>e.client.bundle?Jt({moduleOutput:"client",sourceOutput:t}):e.client.name,D={Options:{asType:true,name:"Options"},OptionsLegacyParser:{asType:true,name:"OptionsLegacyParser"}},Fn=({name:e,outputPath:t})=>{let r=ce__default.default.resolve(t,"client");Qe(r);let s=ce__default.default.normalize(ge.resolve(e)).split(ce__default.default.sep),o=[...s.slice(0,s.indexOf("dist")),"src"].join(ce__default.default.sep);["index.ts","types.ts","utils.ts"].forEach(a=>{pe__default.default.copyFileSync(ce__default.default.resolve(o,a),ce__default.default.resolve(r,a));});};var pi=async(e,t,r)=>{let n=b();if(n.exportCore){let s={httpRequest:Or(n.client),server:n.base!==undefined?n.base:t.server,version:t.version};if(pe__default.default.rmSync(ce__default.default.resolve(e),{force:true,recursive:true}),pe__default.default.mkdirSync(ce__default.default.resolve(e),{recursive:true}),await pe__default.default.writeFileSync(ce__default.default.resolve(e,"OpenAPI.ts"),r.core.settings({$config:n,...s})),await pe__default.default.writeFileSync(ce__default.default.resolve(e,"ApiError.ts"),r.core.apiError({$config:n,...s})),await pe__default.default.writeFileSync(ce__default.default.resolve(e,"ApiRequestOptions.ts"),r.core.apiRequestOptions({$config:n,...s})),await pe__default.default.writeFileSync(ce__default.default.resolve(e,"ApiResult.ts"),r.core.apiResult({$config:n,...s})),n.client.name!=="legacy/angular"&&await pe__default.default.writeFileSync(ce__default.default.resolve(e,"CancelablePromise.ts"),r.core.cancelablePromise({$config:n,...s})),await pe__default.default.writeFileSync(ce__default.default.resolve(e,"request.ts"),r.core.request({$config:n,...s})),w(n)&&(await pe__default.default.writeFileSync(ce__default.default.resolve(e,"BaseHttpRequest.ts"),r.core.baseHttpRequest({$config:n,...s})),await pe__default.default.writeFileSync(ce__default.default.resolve(e,`${s.httpRequest}.ts`),r.core.httpRequest({$config:n,...s}))),n.request){let o=ce__default.default.resolve(process.cwd(),n.request);if(!await pe__default.default.existsSync(o))throw new Error(`Custom request file "${o}" does not exists`);await pe__default.default.copyFileSync(o,ce__default.default.resolve(e,"request.ts"));}}};var ym=[oe,Oo,xo,bo,ho],Sr=e=>{let t=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_");if(Ot.lastIndex=0,Ot.test(t))return `_${t}`;for(let r of ym){if(t.startsWith("_"))return t;t=t.replace(r,"_$1");}return t};var ci=/[\p{Lu}]/u,Ln=/[\p{Ll}]/u,li=/([\p{Alpha}\p{N}_]|$)/u,jt=/[_.\- `\\[\]{}\\/]+/,gm=new RegExp(`^${jt.source}`),Bn=new RegExp(`${jt.source}${li.source}`,"gu"),mi=new RegExp(`\\d+${li.source}`,"gu"),hm=({case:e,string:t})=>{let r=false,n=false,s=false,o=false,i=e==="snake_case"||e==="SCREAMING_SNAKE_CASE"?"_":"-";for(let a=0;a<t.length;a++){let c=t[a];o=a>2?t[a-3]===i:true;let m=a+1,l=t[m];for(jt.lastIndex=0;l&&jt.test(l);)m+=1,l=t[m];let u=m!==a+1;if(Ln.lastIndex=0,ci.lastIndex=0,ci.test(c)&&(r||l&&!u&&l!=="s"&&Ln.test(l)))t=`${t.slice(0,a)}${i}${t.slice(a)}`,a++,s=n,r=false,n=true;else if(n&&s&&Ln.test(c)&&!o&&!(c==="s"&&(!l||l.toLocaleLowerCase()!==l)))t=`${t.slice(0,a-1)}${i}${t.slice(a-1)}`,s=n,r=true,n=false;else {let f=c.toLocaleLowerCase(),d=c.toLocaleUpperCase();s=n,r=f===c&&d!==c,n=d===c&&f!==c;}}return t},C=({case:e,stripLeadingSeparators:t=true,value:r})=>{let n=r.trim();return n.length?!e||e==="preserve"?n:n.length===1?(jt.lastIndex=0,jt.test(n)?"":e==="PascalCase"||e==="SCREAMING_SNAKE_CASE"?n.toLocaleUpperCase():n.toLocaleLowerCase()):(n!==n.toLocaleLowerCase()&&(n=hm({case:e,string:n})),(t||n[0]!==r[0])&&(n=n.replace(gm,"")),n=e==="SCREAMING_SNAKE_CASE"?n.toLocaleUpperCase():n.toLocaleLowerCase(),e==="PascalCase"&&(n=`${n.charAt(0).toLocaleUpperCase()}${n.slice(1)}`),e==="snake_case"||e==="SCREAMING_SNAKE_CASE"?(n=n.replaceAll(Bn,(o,i,a)=>a===0&&!t?o:`_${i}`),n[n.length-1]==="_"&&(n=n.slice(0,n.length-1))):(Bn.lastIndex=0,mi.lastIndex=0,n=n.replaceAll(mi,(o,i,a)=>["_","-","."].includes(n.charAt(a+o.length))?o:o.toLocaleUpperCase()),n=n.replaceAll(Bn,(o,i,a)=>a===0&&!t&&o[0]&&r.startsWith(o[0])?o:i.toLocaleUpperCase())),n):""};var Y=class{_exportFromIndex;_headers=[];_identifierCase;_imports=new Map;_items=[];_name;_path;namespaces={type:{},value:{}};constructor({dir:t,exportFromIndex:r=false,header:n=true,identifierCase:s,name:o}){this._exportFromIndex=r,this._identifierCase=s,this._name=this._setName(o),this._path=ce__default.default.resolve(t,this._name),n&&this._headers.push("// This file is auto-generated by @hey-api/openapi-ts");}add(...t){this._items=this._items.concat(t);}blockIdentifier({$ref:t,namespace:r}){let n=this.namespaces[r][t];if(!n)throw new Error(`Identifier for $ref ${t} in namespace ${r} not found`);return n.name=false,{created:false,name:n.name}}get exportFromIndex(){return this._exportFromIndex}identifier({namespace:t,...r}){return fi({case:this._identifierCase,namespace:this.namespaces[t],...r})}import({module:t,...r}){let n=this._imports.get(t);n||(n=new Map,this._imports.set(t,n));let s=n.get(r.name);return s||(n.set(r.name,r),r)}isEmpty(){return !this._items.length}nameWithoutExtension(){let{name:t}=_n(this._name);return t}relativePathToFile({context:t,id:r}){let n=t.file({id:r});if(!n)throw new Error(`File with id ${r} does not exist`);let s=this._path.substring(t.config.output.path.length+1),o=n._path.substring(t.config.output.path.length+1),i=s.split(ce__default.default.sep);return `${new Array(i.length).fill("").join("../")||"./"}${_n(o).name}`}remove(t){pe__default.default.rmSync(this._path,t);}removeNode(){this._items=this._items.slice(0,this._items.length-1);}_setName(t){if(t.includes("index"))return t;let{extension:r,name:n}=_n(t);return [n,"gen",r].filter(Boolean).join(".")}toString(t=`
`){let r=[];this._headers.length&&r.push(this._headers.join(`
`));let n=[];for(let[s,o]of this._imports.entries()){let i=Array.from(o.values()),a=p.namedImportDeclarations({imports:i,module:s});n.push(he({node:a}));}return n.length&&r.push(n.join(`
`)),r=r.concat(this._items.map(s=>typeof s=="string"?s:he({node:s,unescape:true}))),r.join(t)}write(t=`
`){if(this.isEmpty()){this.remove({force:true});return}let r=this._path;if(typeof this._path=="string"){let n=this._path.split(ce__default.default.sep);r=n.slice(0,n.length-1).join(ce__default.default.sep);}Qe(r),pe__default.default.writeFileSync(this._path,this.toString(t));}},fi=({$ref:e,case:t,count:r=1,create:n=false,nameTransformer:s,namespace:o})=>{let i=e.split("/"),a=i[i.length-1]||"";if(!a)return {created:false,name:""};let c=o[e];if(c)return {created:false,name:c.name};let m=s?.(a)??a,l=C({case:t,value:m});r>1&&(l=`${l}${r}`);let u=o[l];return u?u.$ref===e?{created:false,name:u.name}:fi({$ref:e,case:t,count:r+1,create:n,nameTransformer:s,namespace:o}):n?(u={$ref:e,name:Sr(l)},o[l]=u,o[u.$ref]=u,{created:true,name:u.name}):{created:false,name:""}},_n=e=>{let t=e.match(/\.[0-9a-z]+$/i),r=t?t[0].slice(1):"",n=e.slice(0,e.length-(r?r.length+1:0));return {extension:r,name:n}};var di=({files:e})=>{let t=b();e.index=new Y({dir:t.output.path,name:"index.ts"}),w(t)&&e.index.add(p.exportNamedDeclaration({exports:w(t),module:`./${w(t)}`})),t.exportCore&&(e.index.add(p.exportNamedDeclaration({exports:"ApiError",module:"./core/ApiError"})),t.plugins["@hey-api/sdk"]?.response==="response"&&e.index.add(p.exportNamedDeclaration({exports:{asType:true,name:"ApiResult"},module:"./core/ApiResult"})),w(t)&&e.index.add(p.exportNamedDeclaration({exports:"BaseHttpRequest",module:"./core/BaseHttpRequest"})),t.client.name!=="legacy/angular"&&e.index.add(p.exportNamedDeclaration({exports:["CancelablePromise","CancelError"],module:"./core/CancelablePromise"})),e.index.add(p.exportNamedDeclaration({exports:["OpenAPI",{asType:true,name:"OpenAPIConfig"}],module:"./core/OpenAPI"}))),Object.keys(e).sort().forEach(r=>{let n=e[r];r==="index"||n.isEmpty()||["sdk","types"].includes(r)&&e.index.add(p.exportAllDeclaration({module:`./${n.nameWithoutExtension()}`}));});};var yi=async({client:e,openApi:t,templates:r})=>{let n=b(),s=t;if(e){if(n.plugins["@hey-api/sdk"]?.include&&n.plugins["@hey-api/sdk"].asClass){let a=new RegExp(n.plugins["@hey-api/sdk"].include);e.services=e.services.filter(c=>a.test(c.name));}if(n.plugins["@hey-api/typescript"]?.include){let a=new RegExp(n.plugins["@hey-api/typescript"].include);e.models=e.models.filter(c=>a.test(c.name));}}let o=ce__default.default.resolve(n.output.path);n.output.clean&&Mn(o),!I(n)&&n.client.bundle&&await Fn({name:n.client.name,outputPath:o}),await ai(s,o,e,r),await pi(ce__default.default.resolve(n.output.path,"core"),e,r);let i={};for(let a of n.pluginOrder){let c=n.plugins[a],m=(c.output??"").split("/"),l=ce__default.default.resolve(n.output.path,...m.slice(0,m.length-1));i[c.name]=new Y({dir:l,name:`${m[m.length-1]}.ts`}),c._handlerLegacy({client:e,files:i,openApi:s,plugin:c});}di({files:i}),Object.entries(i).forEach(([a,c])=>{n.dryRun||(a==="index"?c.write():c.write(`

`));});},gi=async({context:e})=>{let t=ce__default.default.resolve(e.config.output.path);e.config.output.clean&&Mn(t),e.config.client.bundle&&Fn({name:e.config.client.name,outputPath:t});for(let r of e.config.pluginOrder){let n=e.config.plugins[r];n._handler({context:e,plugin:n});}if(await ii({context:e}),!e.config.dryRun){let r=e.createFile({id:"_index",path:"index"});for(let n of Object.values(e.files)){let s=n.nameWithoutExtension();s!==r.nameWithoutExtension()&&(!n.isEmpty()&&n.exportFromIndex&&r.add(p.exportAllDeclaration({module:`./${s}`})),n.write(`

`));}r.write();}};var vt="#/ir/",Pr=e=>{let t=Hn(e);return t.length===3&&t[0]==="components"},H=e=>{let t=Hn(e),r=t[t.length-1];return decodeURI(r)},Hn=e=>e.replace(/^#\//,"").split("/"),Kn=({$ref:e,spec:t})=>{let r=Hn(decodeURI(e)),n=t;for(let s of r){let o=s;if(n[o]===undefined)throw new Error(`Reference not found: ${e}`);n=n[o];}return n};var Ir=class{config;files;ir;spec;listeners;constructor({config:t,spec:r}){this.config=t,this.files={},this.ir={},this.listeners={},this.spec=r;}async broadcast(t,...r){this.listeners[t]&&await Promise.all(this.listeners[t].map((n,s)=>{try{let o=n(...r);return Promise.resolve(o)}catch(o){throw console.error(`\u{1F525} Event broadcast: "${t}"
index: ${s}
arguments: ${JSON.stringify(r,null,2)}`),o}}));}createFile(t){let r=t.path.split("/"),n=ce__default.default.resolve(this.config.output.path,...r.slice(0,r.length-1)),s=new Y({dir:n,exportFromIndex:t.exportFromIndex,identifierCase:t.identifierCase,name:`${r[r.length-1]}.ts`});return this.files[t.id]=s,s}file({id:t}){return this.files[t]}resolveIrRef(t){return Kn({$ref:t,spec:this.ir})}resolveRef(t){return Kn({$ref:t,spec:this.spec})}subscribe(t,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(r);}};var qt=({$ref:e,excludeRegExp:t,includeRegExp:r})=>!t&&!r?true:t&&(t.lastIndex=0,t.test(e))?false:r?(r.lastIndex=0,r.test(e)):true;var P=({source:e,target:t})=>{let r={...t};if(e&&(e.cookie&&(r.cookie?r.cookie={...r.cookie,...e.cookie}:r.cookie=e.cookie),e.header&&(r.header?r.header={...r.header,...e.header}:r.header=e.header),e.path&&(r.path?r.path={...r.path,...e.path}:r.path=e.path),e.query&&(r.query?r.query={...r.query,...e.query}:r.query=e.query)),!!Object.keys(r).length)return r};var de=e=>{let t=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_");return Ot.lastIndex=0,Ot.test(t)?`_${t}`:t},Xe=e=>e.replace(/^[^\p{ID_Start}]+/u,"").replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"-").replace(/\$/g,"-"),Vn=e=>{let t=e.replace("[]","Array");return Xe(t)};var kt=({id:e,method:t,operationIds:r,path:n})=>{if(!e)return;let s=`${t.toUpperCase()} ${n}`;r.has(e)?console.warn(`\u2757\uFE0F Duplicate operationId: ${e} in ${s}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(e,s);},wt=({context:e,id:t,method:r,path:n})=>{if(t&&(!e.config.plugins["@hey-api/sdk"]||e.config.plugins["@hey-api/sdk"].operationId))return C({case:"camelCase",value:Xe(t)});let s=n.replace(/{(.*?)}/g,"by-$1").replace(/[/:]/g,"-");return C({case:"camelCase",value:`${r}-${s}`})};var hi=/^(application\/(pdf|rtf|msword|vnd\.(ms-|openxmlformats-officedocument\.)|zip|x-(7z|tar|rar|zip|iso)|octet-stream|gzip|x-msdownload|json\+download|xml|x-yaml|x-7z-compressed|x-tar)|text\/(plain|yaml|css|javascript)|audio\/(mpeg|wav)|video\/(mp4|x-matroska)|image\/(vnd\.adobe\.photoshop|svg\+xml))(; ?charset=[^;]+)?$/i,xi=/^application\/(.*\+)?json(;.*)?$/i,bi=/^multipart\/form-data(;.*)?$/i,Oi=/^application\/x-www-form-urlencoded(;.*)?$/i,Ne=({mediaType:e})=>(hi.lastIndex=0,hi.test(e)),Nt=({mediaType:e})=>{if(xi.lastIndex=0,xi.test(e))return "json";if(bi.lastIndex=0,bi.test(e))return "form-data";if(Oi.lastIndex=0,Oi.test(e))return "url-search-params"};var Ri=({content:e})=>{let{mediaType:t,schema:r}=e;return r&&"$ref"in r?{allOf:[{...r}]}:r?r.type==="string"&&!r.format&&Ne({mediaType:t})?{...r,format:"binary"}:r:Ne({mediaType:t})?{format:"binary",type:"string"}:undefined},Wn=({mimeTypes:e,response:t})=>{for(let r of e??[])return {mediaType:r,schema:t.schema,type:Nt({mediaType:r})}};var j=/^(after|before|cursor|offset|page|start)$/;var v=({items:e,logicalOperator:t="or",mutateSchemaOneItem:r=false,schema:n})=>e.length?n.type==="tuple"?(n.items=e,n):e.length!==1?(n.items=e,n.logicalOperator=t,n):r?(n={...n,...e[0]},n):(n.items=e,n):n;var Re=(e,t)=>{for(let r in t)if(t[r]===e)return r;return H(e)};var Zt=({schema:e})=>{if(e.type)return e.type;if(e.properties)return "object"},bm=({irSchema:e,schema:t})=>{t.description&&(e.description=t.description),t.title&&(e.title=t.title);},Ar=({irSchema:e,schema:t})=>{t.default!==undefined&&(e.default=t.default),t.exclusiveMaximum?t.maximum!==undefined&&(e.exclusiveMaximum=t.maximum):t.maximum!==undefined&&(e.maximum=t.maximum),t.exclusiveMinimum?t.minimum!==undefined&&(e.exclusiveMinimum=t.minimum):t.minimum!==undefined&&(e.minimum=t.minimum),t.format&&(e.format=t.format),t.maxItems!==undefined&&(e.maxItems=t.maxItems),t.maxLength!==undefined&&(e.maxLength=t.maxLength),t.minItems!==undefined&&(e.minItems=t.minItems),t.minLength!==undefined&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly&&(e.accessScope="read");},Om=({context:e,irSchema:t={},schema:r})=>{r.maxItems&&r.maxItems===r.minItems?t.type="tuple":t.type="array";let n=[];if(r.items){let s=Se({context:e,schema:r.items});if(!n.length&&r.maxItems&&r.maxItems===r.minItems)n=Array(r.maxItems).fill(s);else if("$ref"in r.items)n.push(s);else {let o=r.items.allOf;o&&o.length>1&&!r.items["x-nullable"]?t={...t,...s}:n.push(s);}}return t=v({items:n,schema:t}),t},Rm=({irSchema:e={}})=>(e.type="boolean",e),Sm=({irSchema:e={},schema:t})=>(e.type=t.type,e),Tm=({context:e,irSchema:t={},schema:r})=>{t.type="object";let n={};for(let s in r.properties){let o=r.properties[s];typeof o=="boolean"||(n[s]=Se({context:e,schema:o}));}if(Object.keys(n).length&&(t.properties=n),r.additionalProperties===undefined)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let s=Se({context:e,schema:r.additionalProperties});(t.properties||s.type!=="unknown")&&(t.additionalProperties=s);}return r.required&&(t.required=r.required),t},Cm=({irSchema:e={}})=>(e.type="string",e),$t=({schema:e})=>{let t={};return bm({irSchema:t,schema:e}),t},Pm=({$ref:e,context:t,schema:r})=>{let n=$t({schema:r}),s=[],o=Zt({schema:r}),i=r.allOf;for(let a of i){let c=Se({context:t,schema:a});if(r.required&&(c.required?c.required=[...c.required,...r.required]:c.required=r.required),s.push(c),a.$ref){let m=t.resolveRef(a.$ref);if(m.discriminator&&e){let l={properties:{[m.discriminator]:{const:Re(e),type:"string"}},type:"object"};m.required?.includes(m.discriminator)&&(l.required=[m.discriminator]),s.push(l);}}}if(o==="object"){let a=Yt({context:t,schema:{...r,type:"object"}});if(a.properties){for(let c of a.required??[])if(!a.properties[c])for(let m of i){let l=m.$ref?t.resolveRef(m.$ref):m;if(Zt({schema:l})==="object"){let u=Yt({context:t,schema:{...l,type:"object"}});if(u.properties?.[c]){a.properties[c]=u.properties[c];break}}}s.push(a);}}if(n=v({items:s,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),r["x-nullable"]){let a=[{type:"null"}];s.length&&a.unshift(n),n={items:a,logicalOperator:"or"},a[0].deprecated&&(n.deprecated=a[0].deprecated),a[0].description&&(n.description=a[0].description);}return n},Im=({context:e,schema:t})=>{let r=$t({schema:t});r.type="enum";let n=[];for(let[s,o]of t.enum.entries()){let i=typeof o,a;if(i==="string"||i==="number"||i==="boolean"?a=i:o===null?t["x-nullable"]&&(a="null"):console.warn("\u{1F6A8}",`unhandled "${i}" typeof value "${o}" for enum`,t.enum),!a)continue;let c=Yt({context:e,schema:{description:t["x-enum-descriptions"]?.[s],title:t["x-enum-varnames"]?.[s]??t["x-enumNames"]?.[s],type:a==="null"?"string":a}});c.const=o,a==="null"&&(c.type=a),n.push(c);}return r=v({items:n,schema:r}),r},Am=({schema:e})=>{let t={};return t.$ref=decodeURI(e.$ref),t.$ref=t.$ref.replace(/#\/definitions\/([^/]+)/g,"#/components/schemas/$1"),t},Em=({context:e,irSchema:t,schema:r})=>{t||(t=$t({schema:r}));let n={};Ar({irSchema:n,schema:r}),n.default===null&&delete n.default;let s=[Yt({context:e,irSchema:n,schema:r}),{type:"null"}];return t=v({items:s,schema:t}),t},jm=({context:e,schema:t})=>{let r=$t({schema:t});Ar({irSchema:r,schema:t});let n=Zt({schema:t});return n?t["x-nullable"]?Em({context:e,irSchema:r,schema:{...t,type:n}}):Yt({context:e,irSchema:r,schema:{...t,type:n}}):r},Yt=({context:e,irSchema:t,schema:r})=>{switch(t||(t=$t({schema:r}),Ar({irSchema:t,schema:r})),r.type){case "array":return Om({context:e,irSchema:t,schema:r});case "boolean":return Rm({context:e,irSchema:t,schema:r});case "integer":case "number":return Sm({context:e,irSchema:t,schema:r});case "object":return Tm({context:e,irSchema:t,schema:r});case "string":return Cm({context:e,irSchema:t,schema:r});default:return Si({context:e,irSchema:t,schema:r})}},Si=({irSchema:e,schema:t})=>(e||(e=$t({schema:t})),e.type="unknown",Ar({irSchema:e,schema:t}),e),Se=({$ref:e,context:t,schema:r})=>r.$ref?Am({$ref:e,context:t,schema:r}):r.enum?Im({$ref:e,context:t,schema:r}):r.allOf?Pm({$ref:e,context:t,schema:r}):r.type||r.properties?jm({$ref:e,context:t,schema:r}):Si({$ref:e,context:t,schema:r}),Ti=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[H(e)]=Se({$ref:e,context:t,schema:r});};var vm=e=>e==="boolean"||e==="integer"||e==="number"||e==="string",ze=({context:e,name:t,schema:r})=>{if(j.lastIndex=0,j.test(t))return  true;if("$ref"in r){let n=e.resolveRef(r.$ref??"");if("in"in n&&n.in){let s="schema"in n?n.schema:{...n,in:undefined};return ze({context:e,name:t,schema:s})}return ze({context:e,name:t,schema:n})}if("in"in r){if(!r.in)return  false;let n="schema"in r?r.schema:{...r,in:undefined};return ze({context:e,name:t,schema:n})}for(let n in r.properties)if(j.lastIndex=0,j.test(n)){let s=r.properties[n];if(typeof s!="boolean"&&!("$ref"in s)){let o=Zt({schema:s});if(vm(o))return n}}for(let n of r.allOf??[]){let s=ze({context:e,name:t,schema:n});if(s)return s}return  false};var qm=({irOperation:e,operation:t})=>{t.deprecated!==undefined&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},km=({method:e,operation:t,path:r})=>{let n={id:t.id,method:e,path:r};return qm({irOperation:n,operation:t}),n},wm=({context:e,method:t,operation:r,path:n,securitySchemesMap:s})=>{let o=km({method:t,operation:r,path:n});r.parameters&&(o.parameters=r.parameters);let i=false,a={mediaType:"",schema:{properties:{},required:[],type:"object"}},c=[];for(let m of r.requestBody??[]){let l="$ref"in m?e.resolveRef(m.$ref):m,u=l.in==="body"?l.schema:{...l,format:l.type==="file"?"binary":l.format,required:undefined,type:l.type==="file"?"string":l.type},f=Wn({mimeTypes:r.consumes,response:{schema:u}});if(f){let d=ze({context:e,name:"",schema:f.schema&&"$ref"in f.schema?{allOf:[{...f.schema}],description:l.description}:{description:l.description,...f.schema}}),x=Se({context:e,schema:"$ref"in l?{allOf:[{...l,$ref:l.$ref,required:[],type:"string"}],description:l.description}:f.schema&&"$ref"in f.schema?{allOf:[{...f.schema}],description:l.description}:{description:l.description,...f.schema}});a.mediaType=f.mediaType,l.in==="body"?a.schema=x:(a.schema.properties[l.name]=x,l.required&&c.push(l.name)),d&&(a.pagination=d),f.type&&(a.type=f.type);}l.required&&(i=true);}a.mediaType&&(c.length&&(a.schema.required=c),o.body=a,i&&(o.body.required=i));for(let m in r.responses){o.responses||(o.responses={});let l=r.responses[m],u="$ref"in l?e.resolveRef(l.$ref):l,f=Wn({mimeTypes:r.produces?r.produces:["application/json"],response:u});f?o.responses[m]={mediaType:f.mediaType,schema:Se({context:e,schema:{description:u.description,...Ri({content:f})}})}:o.responses[m]={schema:{description:u.description,type:m==="204"?"void":"unknown"}};}if(r.security){let m=[];for(let l of r.security)for(let u in l){let f=s.get(u);if(!f)continue;let d;if(f.type==="apiKey"&&(d=f),f.type==="basic"&&(d={description:f.description,scheme:"basic",type:"http"}),f.type==="oauth2")switch(d={description:f.description,flows:{},type:"oauth2"},f.flow){case "accessCode":d.flows.authorizationCode={authorizationUrl:f.authorizationUrl,scopes:f.scopes,tokenUrl:f.tokenUrl};break;case "application":d.flows.clientCredentials={scopes:f.scopes,tokenUrl:f.tokenUrl};break;case "implicit":d.flows.implicit={authorizationUrl:f.authorizationUrl,scopes:f.scopes};break;case "password":d.flows.password={scopes:f.scopes,tokenUrl:f.tokenUrl};break}d&&m.push(d);}m.length&&(o.security=m);}return o},Ge=({context:e,method:t,operation:r,operationIds:n,path:s,securitySchemesMap:o})=>{kt({id:r.operationId,method:t,operationIds:n,path:s}),e.ir.paths||(e.ir.paths={}),e.ir.paths[s]||(e.ir.paths[s]={}),r.id=wt({context:e,id:r.operationId,method:t,path:s}),e.ir.paths[s][t]=wm({context:e,method:t,operation:r,path:s,securitySchemesMap:o});};var Nm=e=>{switch(e){case "multi":return  true;case "csv":case "pipes":case "ssv":case "tsv":default:return  false}},$m=e=>{switch(e){case "header":case "path":return "simple";case "query":default:return "form"}},$e=({context:e,operation:t,parameters:r})=>{if(!r||!Object.keys(r).length)return;let n={};for(let s of r){let o="$ref"in s?e.resolveRef(s.$ref):s;if(o.in==="body"||o.in==="formData"){t.requestBody||(t.requestBody=[]),t.requestBody.push(o);continue}n[o.in]||(n[o.in]={}),n[o.in][o.name]=Dm({context:e,parameter:o});}return n},Dm=({context:e,parameter:t})=>{let r=t,n=r&&"$ref"in r?{allOf:[{...r,$ref:r.$ref,required:Array.isArray(r.required)?r.required:[],type:r.type}],description:t.description}:{description:t.description,...r,required:Array.isArray(r.required)?r.required:[],type:r.type},s=ze({context:e,name:t.name,schema:n}),o=$m(t.in),c={allowReserved:false,explode:Nm(t.collectionFormat),location:t.in,name:t.name,schema:Se({context:e,schema:n}),style:o};return t.description&&(c.description=t.description),s&&(c.pagination=s),t.required&&(c.required=t.required),c};var Un=e=>{let t=new Map,r=new Map,n=e.config.input.exclude?new RegExp(e.config.input.exclude):undefined,s=e.config.input.include?new RegExp(e.config.input.include):undefined,o=i=>qt({$ref:i,excludeRegExp:n,includeRegExp:s});for(let i in e.spec.securityDefinitions){let a=e.spec.securityDefinitions[i];r.set(i,a);}if(e.spec.definitions)for(let i in e.spec.definitions){let a=`#/definitions/${i}`;if(!o(a))continue;let c=e.spec.definitions[i];Ti({$ref:a,context:e,schema:c});}for(let i in e.spec.paths){if(i.startsWith("x-"))continue;let a=e.spec.paths[i],c=a.$ref?{...e.resolveRef(a.$ref),...a}:a,m={consumes:e.spec.consumes,produces:e.spec.produces,responses:{},security:e.spec.security},l={context:e,operation:{...m,id:"",parameters:$e({context:e,operation:m,parameters:c.parameters})},operationIds:t,path:i,securitySchemesMap:r},u=`#/paths${i}/delete`;if(c.delete&&o(u)){let $=P({source:$e({context:e,operation:c.delete,parameters:c.delete.parameters}),target:l.operation.parameters});Ge({...l,method:"delete",operation:{...l.operation,...c.delete,parameters:$}});}let f=`#/paths${i}/get`;if(c.get&&o(f)){let $=P({source:$e({context:e,operation:c.get,parameters:c.get.parameters}),target:l.operation.parameters});Ge({...l,method:"get",operation:{...l.operation,...c.get,parameters:$}});}let d=`#/paths${i}/head`;if(c.head&&o(d)){let $=P({source:$e({context:e,operation:c.head,parameters:c.head.parameters}),target:l.operation.parameters});Ge({...l,method:"head",operation:{...l.operation,...c.head,parameters:$}});}let x=`#/paths${i}/options`;if(c.options&&o(x)){let $=P({source:$e({context:e,operation:c.options,parameters:c.options.parameters}),target:l.operation.parameters});Ge({...l,method:"options",operation:{...l.operation,...c.options,parameters:$}});}let h=`#/paths${i}/patch`;if(c.patch&&o(h)){let $=P({source:$e({context:e,operation:c.patch,parameters:c.patch.parameters}),target:l.operation.parameters});Ge({...l,method:"patch",operation:{...l.operation,...c.patch,parameters:$}});}let T=`#/paths${i}/post`;if(c.post&&o(T)){let $=P({source:$e({context:e,operation:c.post,parameters:c.post.parameters}),target:l.operation.parameters});Ge({...l,method:"post",operation:{...l.operation,...c.post,parameters:$}});}let O=`#/paths${i}/put`;if(c.put&&o(O)){let $=P({source:$e({context:e,operation:c.put,parameters:c.put.parameters}),target:l.operation.parameters});Ge({...l,method:"put",operation:{...l.operation,...c.put,parameters:$}});}}};var Ci=({content:e})=>{let{mediaType:t,schema:r}=e;return r&&"$ref"in r?{allOf:[{...r}]}:r?r.type==="string"&&!r.format&&Ne({mediaType:t})?{...r,format:"binary"}:r:Ne({mediaType:t})?{format:"binary",type:"string"}:undefined},De=({content:e})=>{for(let t in e)return {mediaType:t,schema:e[t].schema,type:Nt({mediaType:t})}};var mt=({schema:e})=>{if(e.type)return e.type;if(e.properties)return "object"},Mm=({irSchema:e,schema:t})=>{t.deprecated!==undefined&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},Er=({irSchema:e,schema:t})=>{t.default!==undefined&&(e.default=t.default),t.exclusiveMaximum?t.maximum!==undefined&&(e.exclusiveMaximum=t.maximum):t.maximum!==undefined&&(e.maximum=t.maximum),t.exclusiveMinimum?t.minimum!==undefined&&(e.exclusiveMinimum=t.minimum):t.minimum!==undefined&&(e.minimum=t.minimum),t.format&&(e.format=t.format),t.maxItems!==undefined&&(e.maxItems=t.maxItems),t.maxLength!==undefined&&(e.maxLength=t.maxLength),t.minItems!==undefined&&(e.minItems=t.minItems),t.minLength!==undefined&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?e.accessScope="read":t.writeOnly&&(e.accessScope="write");},Fm=({context:e,irSchema:t={},schema:r})=>{r.maxItems&&r.maxItems===r.minItems?t.type="tuple":t.type="array";let n=[];if(r.items){let s=ee({context:e,schema:r.items});if(!n.length&&r.maxItems&&r.maxItems===r.minItems)n=Array(r.maxItems).fill(s);else if("$ref"in r.items)n.push(s);else {let o=r.items.allOf||r.items.anyOf||r.items.oneOf;o&&o.length>1&&!r.items.nullable?t={...t,...s}:n.push(s);}}return t=v({items:n,schema:t}),t},Lm=({irSchema:e={}})=>(e.type="boolean",e),Bm=({irSchema:e={},schema:t})=>(e.type=t.type,e),_m=({context:e,irSchema:t={},schema:r})=>{t.type="object";let n={};for(let s in r.properties){let o=r.properties[s];typeof o=="boolean"||(n[s]=ee({context:e,schema:o}));}if(Object.keys(n).length&&(t.properties=n),r.additionalProperties===undefined)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let s=ee({context:e,schema:r.additionalProperties});(t.properties||s.type!=="unknown")&&(t.additionalProperties=s);}return r.required&&(t.required=r.required),t},Hm=({irSchema:e={}})=>(e.type="string",e),Je=({schema:e})=>{let t={};return Mm({irSchema:t,schema:e}),t},Km=({$ref:e,context:t,schema:r})=>{let n=Je({schema:r}),s=[],o=mt({schema:r}),i=r.allOf;for(let a of i){let c=ee({context:t,schema:a});if(r.required&&(c.required?c.required=[...c.required,...r.required]:c.required=r.required),s.push(c),"$ref"in a){let m=t.resolveRef(a.$ref);if(m.discriminator&&e){let l={properties:{[m.discriminator.propertyName]:{const:Re(e,m.discriminator.mapping),type:"string"}},type:"object"};m.required?.includes(m.discriminator.propertyName)&&(l.required=[m.discriminator.propertyName]),s.push(l);}}}if(o==="object"){let a=lt({context:t,schema:{...r,type:"object"}});if(a.properties){for(let c of a.required??[])if(!a.properties[c])for(let m of i){let l="$ref"in m?t.resolveRef(m.$ref):m;if(mt({schema:l})==="object"){let u=lt({context:t,schema:{...l,type:"object"}});if(u.properties?.[c]){a.properties[c]=u.properties[c];break}}}s.push(a);}}if(n=v({items:s,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),r.nullable){let a=[{type:"null"}];s.length&&a.unshift(n),n={items:a,logicalOperator:"or"},a[0].deprecated&&(n.deprecated=a[0].deprecated),a[0].description&&(n.description=a[0].description);}return n},Vm=({context:e,schema:t})=>{let r=Je({schema:t}),n=[],s=mt({schema:t}),o=t.anyOf;for(let i of o){let a=ee({context:e,schema:i});t.discriminator&&"$ref"in i&&(a={items:[{properties:{[t.discriminator.propertyName]:{const:Re(i.$ref,t.discriminator.mapping),type:"string"}},type:"object"},a],logicalOperator:"and"}),n.push(a);}if(t.nullable&&n.push({type:"null"}),r=v({items:n,mutateSchemaOneItem:true,schema:r}),s==="object"){let i=lt({context:e,schema:{...t,type:"object"}});i.properties&&(r={items:[r,i],logicalOperator:"and"});}return r},Wm=({context:e,schema:t})=>{let r=Je({schema:t});r.type="enum";let n=[];for(let[s,o]of t.enum.entries()){let i=typeof o,a;if(i==="string"||i==="number"||i==="boolean"?a=i:o===null?t.nullable&&(a="null"):console.warn("\u{1F6A8}",`unhandled "${i}" typeof value "${o}" for enum`,t.enum),!a)continue;let c=lt({context:e,schema:{description:t["x-enum-descriptions"]?.[s],title:t["x-enum-varnames"]?.[s]??t["x-enumNames"]?.[s],type:a==="null"?"string":a}});c.const=o,a==="null"&&(c.type=a),n.push(c);}return r=v({items:n,schema:r}),r},Um=({context:e,schema:t})=>{let r=Je({schema:t}),n=[],s=mt({schema:t}),o=t.oneOf;for(let i of o){let a=ee({context:e,schema:i});t.discriminator&&"$ref"in i&&(a={items:[{properties:{[t.discriminator.propertyName]:{const:Re(i.$ref,t.discriminator.mapping),type:"string"}},type:"object"},a],logicalOperator:"and"}),a.logicalOperator==="or"&&a.items?n=n.concat(a.items):n.push(a);}if(t.nullable&&n.push({type:"null"}),r=v({items:n,mutateSchemaOneItem:true,schema:r}),s==="object"){let i=lt({context:e,schema:{...t,type:"object"}});i.properties&&(r={items:[r,i],logicalOperator:"and"});}return r},Qm=({schema:e})=>{let t={};return t.$ref=decodeURI(e.$ref),t},Xm=({context:e,irSchema:t,schema:r})=>{t||(t=Je({schema:r}));let n={};Er({irSchema:n,schema:r}),n.default===null&&delete n.default;let s=[lt({context:e,irSchema:n,schema:r}),{type:"null"}];return t=v({items:s,schema:t}),t},zm=({context:e,schema:t})=>{let r=Je({schema:t});Er({irSchema:r,schema:t});let n=mt({schema:t});return n?t.nullable?Xm({context:e,irSchema:r,schema:{...t,type:n}}):lt({context:e,irSchema:r,schema:{...t,type:n}}):r},lt=({context:e,irSchema:t,schema:r})=>{switch(t||(t=Je({schema:r}),Er({irSchema:t,schema:r})),r.type){case "array":return Fm({context:e,irSchema:t,schema:r});case "boolean":return Lm({context:e,irSchema:t,schema:r});case "integer":case "number":return Bm({context:e,irSchema:t,schema:r});case "object":return _m({context:e,irSchema:t,schema:r});case "string":return Hm({context:e,irSchema:t,schema:r});default:return Pi({context:e,irSchema:t,schema:r})}},Pi=({irSchema:e,schema:t})=>(e||(e=Je({schema:t})),e.type="unknown",Er({irSchema:e,schema:t}),e),ee=({$ref:e,context:t,schema:r})=>"$ref"in r?Qm({$ref:e,context:t,schema:r}):r.enum?Wm({$ref:e,context:t,schema:r}):r.allOf?Km({$ref:e,context:t,schema:r}):r.anyOf?Vm({$ref:e,context:t,schema:r}):r.oneOf?Um({$ref:e,context:t,schema:r}):r.type||r.properties?zm({$ref:e,context:t,schema:r}):Pi({$ref:e,context:t,schema:r}),Ii=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[H(e)]=ee({$ref:e,context:t,schema:r});};var Gm=e=>e==="boolean"||e==="integer"||e==="number"||e==="string",ut=({context:e,name:t,schema:r})=>{if(j.lastIndex=0,j.test(t))return  true;if("$ref"in r){let n=e.resolveRef(r.$ref);if("content"in n||"in"in n){let s;if("in"in n&&(s=n.schema),!s){let o=De({content:n.content});o?.schema&&(s=o.schema);}return s?ut({context:e,name:t,schema:s}):false}return ut({context:e,name:t,schema:n})}for(let n in r.properties)if(j.lastIndex=0,j.test(n)){let s=r.properties[n];if(typeof s!="boolean"&&!("$ref"in s)){let o=mt({schema:s});if(Gm(o))return n}}for(let n of r.allOf??[]){let s=ut({context:e,name:t,schema:n});if(s)return s}return  false};var Jm=({irOperation:e,operation:t})=>{t.deprecated!==undefined&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},Zm=({method:e,operation:t,path:r})=>{let n={id:t.id,method:e,path:r};return Jm({irOperation:n,operation:t}),n},Ym=({context:e,method:t,operation:r,path:n,securitySchemesMap:s})=>{let o=Zm({method:t,operation:r,path:n});if(r.parameters&&(o.parameters=r.parameters),r.requestBody){let i="$ref"in r.requestBody?e.resolveRef(r.requestBody.$ref):r.requestBody,a=De({content:i.content});if(a){let c=ut({context:e,name:"",schema:a.schema&&"$ref"in a.schema?{allOf:[{...a.schema}],description:i.description}:{description:i.description,...a.schema}});o.body={mediaType:a.mediaType,schema:ee({context:e,schema:"$ref"in r.requestBody?{allOf:[{...r.requestBody}],description:i.description}:a.schema&&"$ref"in a.schema?{allOf:[{...a.schema}],description:i.description}:{description:i.description,...a.schema}})},c&&(o.body.pagination=c),i.required&&(o.body.required=i.required),a.type&&(o.body.type=a.type);}}for(let i in r.responses){o.responses||(o.responses={});let a=r.responses[i],c="$ref"in a?e.resolveRef(a.$ref):a,m=De({content:c.content});m?o.responses[i]={mediaType:m.mediaType,schema:ee({context:e,schema:{description:c.description,...Ci({content:m})}})}:o.responses[i]={schema:{description:c.description,type:i==="204"?"void":"unknown"}};}if(r.security){let i=[];for(let a of r.security)for(let c in a){let m=s.get(c);m&&i.push(m);}i.length&&(o.security=i);}return o},Me=({context:e,method:t,operation:r,operationIds:n,path:s,securitySchemesMap:o})=>{kt({id:r.operationId,method:t,operationIds:n,path:s}),e.ir.paths||(e.ir.paths={}),e.ir.paths[s]||(e.ir.paths[s]={}),r.id=wt({context:e,id:r.operationId,method:t,path:s}),e.ir.paths[s][t]=Ym({context:e,method:t,operation:r,path:s,securitySchemesMap:o});};var el=e=>{switch(e){case "query":return  false;default:return}},tl=e=>{switch(e){case "deepObject":case "form":return  true;default:return  false}},rl=e=>{switch(e){case "header":case "path":return "simple";case "cookie":case "query":return "form"}},Te=({context:e,parameters:t})=>{if(!t||!Object.keys(t).length)return;let r={};for(let n of t){let s="$ref"in n?e.resolveRef(n.$ref):n;r[s.in]||(r[s.in]={}),r[s.in][s.name]=Ai({context:e,parameter:s});}return r},Ai=({context:e,parameter:t})=>{let r=t.schema;if(!r){let m=De({content:t.content});m&&(r=m.schema);}let n=r&&"$ref"in r?{allOf:[{...r}],deprecated:t.deprecated,description:t.description}:{deprecated:t.deprecated,description:t.description,...r},s=ut({context:e,name:t.name,schema:n}),o=t.style||rl(t.in),i=t.explode!==undefined?t.explode:tl(o),c={allowReserved:t.allowReserved!==undefined?t.allowReserved:el(t.in),explode:i,location:t.in,name:t.name,schema:ee({context:e,schema:n}),style:o};return t.deprecated&&(c.deprecated=t.deprecated),t.description&&(c.description=t.description),s&&(c.pagination=s),t.required&&(c.required=t.required),c},Ei=({$ref:e,context:t,parameter:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.parameters||(t.ir.components.parameters={}),t.ir.components.parameters[H(e)]=Ai({context:t,parameter:r});};var nl=({context:e,requestBody:t})=>{let r=De({content:t.content}),n=r?r.schema:undefined,s={description:t.description,...n},o={schema:ee({context:e,schema:s})};return t.description&&(o.description=t.description),t.required&&(o.required=t.required),o},ji=({$ref:e,context:t,requestBody:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.requestBodies||(t.ir.components.requestBodies={}),t.ir.components.requestBodies[H(e)]=nl({context:t,requestBody:r});};var Qn=e=>{let t=new Map,r=new Map,n=e.config.input.exclude?new RegExp(e.config.input.exclude):undefined,s=e.config.input.include?new RegExp(e.config.input.include):undefined,o=i=>qt({$ref:i,excludeRegExp:n,includeRegExp:s});if(e.spec.components){for(let i in e.spec.components.securitySchemes){let a=e.spec.components.securitySchemes[i],c="$ref"in a?e.resolveRef(a.$ref):a;r.set(i,c);}for(let i in e.spec.components.parameters){let a=`#/components/parameters/${i}`;if(!o(a))continue;let c=e.spec.components.parameters[i],m="$ref"in c?e.resolveRef(c.$ref):c;Ei({$ref:a,context:e,parameter:m});}for(let i in e.spec.components.requestBodies){let a=`#/components/requestBodies/${i}`;if(!o(a))continue;let c=e.spec.components.requestBodies[i],m="$ref"in c?e.resolveRef(c.$ref):c;ji({$ref:a,context:e,requestBody:m});}for(let i in e.spec.components.schemas){let a=`#/components/schemas/${i}`;if(!o(a))continue;let c=e.spec.components.schemas[i];Ii({$ref:a,context:e,schema:c});}}for(let i in e.spec.paths){let a=e.spec.paths[i],c=a.$ref?{...e.resolveRef(a.$ref),...a}:a,m={context:e,operation:{description:c.description,id:"",parameters:Te({context:e,parameters:c.parameters}),security:e.spec.security,servers:c.servers,summary:c.summary},operationIds:t,path:i,securitySchemesMap:r},l=`#/paths${i}/delete`;c.delete&&o(l)&&Me({...m,method:"delete",operation:{...m.operation,...c.delete,parameters:P({source:Te({context:e,parameters:c.delete.parameters}),target:m.operation.parameters})}});let u=`#/paths${i}/get`;c.get&&o(u)&&Me({...m,method:"get",operation:{...m.operation,...c.get,parameters:P({source:Te({context:e,parameters:c.get.parameters}),target:m.operation.parameters})}});let f=`#/paths${i}/head`;c.head&&o(f)&&Me({...m,method:"head",operation:{...m.operation,...c.head,parameters:P({source:Te({context:e,parameters:c.head.parameters}),target:m.operation.parameters})}});let d=`#/paths${i}/options`;c.options&&o(d)&&Me({...m,method:"options",operation:{...m.operation,...c.options,parameters:P({source:Te({context:e,parameters:c.options.parameters}),target:m.operation.parameters})}});let x=`#/paths${i}/patch`;c.patch&&o(x)&&Me({...m,method:"patch",operation:{...m.operation,...c.patch,parameters:P({source:Te({context:e,parameters:c.patch.parameters}),target:m.operation.parameters})}});let h=`#/paths${i}/post`;c.post&&o(h)&&Me({...m,method:"post",operation:{...m.operation,...c.post,parameters:P({source:Te({context:e,parameters:c.post.parameters}),target:m.operation.parameters})}});let T=`#/paths${i}/put`;c.put&&o(T)&&Me({...m,method:"put",operation:{...m.operation,...c.put,parameters:P({source:Te({context:e,parameters:c.put.parameters}),target:m.operation.parameters})}});let O=`#/paths${i}/trace`;c.trace&&o(O)&&Me({...m,method:"trace",operation:{...m.operation,...c.trace,parameters:P({source:Te({context:e,parameters:c.trace.parameters}),target:m.operation.parameters})}});}};var vi=({content:e})=>{let{mediaType:t,schema:r}=e;return r?r.type==="string"&&!r.format&&Ne({mediaType:t})?{...r,format:"binary"}:r:Ne({mediaType:t})?{format:"binary",type:"string"}:undefined},Fe=({content:e})=>{for(let t in e)return {mediaType:t,schema:e[t].schema,type:Nt({mediaType:t})}};var Ce=({schema:e})=>typeof e.type=="string"?[e.type]:e.type?e.type:e.properties?["object"]:[],sl=({irSchema:e,schema:t})=>{t.deprecated!==undefined&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},jr=({irSchema:e,schema:t})=>{if(t.const!==undefined&&(e.const=t.const,!t.type))if(t.const===null)e.type="null";else switch(typeof t.const){case "bigint":case "number":e.type="number";break;case "boolean":e.type="boolean";break;case "string":e.type="string";break}t.default!==undefined&&(e.default=t.default),t.exclusiveMaximum&&(e.exclusiveMaximum=t.exclusiveMaximum),t.exclusiveMinimum&&(e.exclusiveMinimum=t.exclusiveMinimum),t.format&&(e.format=t.format),t.maximum!==undefined&&(e.maximum=t.maximum),t.maxItems!==undefined&&(e.maxItems=t.maxItems),t.maxLength!==undefined&&(e.maxLength=t.maxLength),t.minimum!==undefined&&(e.minimum=t.minimum),t.minItems!==undefined&&(e.minItems=t.minItems),t.minLength!==undefined&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?e.accessScope="read":t.writeOnly&&(e.accessScope="write");},ol=({context:e,irSchema:t={},schema:r})=>{r.prefixItems&&r.prefixItems.length||r.maxItems&&r.maxItems===r.minItems||r.const!==undefined?t.type="tuple":t.type="array";let n=[];for(let s of r.prefixItems??[])n.push(z({context:e,schema:s}));if(r.items){let s=z({context:e,schema:r.items});if(!n.length&&r.maxItems&&r.maxItems===r.minItems)n=Array(r.maxItems).fill(s);else {let o=r.items.allOf||r.items.anyOf||r.items.oneOf;o&&o.length>1&&!Ce({schema:r.items}).includes("null")?t={...t,...s}:n.push(s);}}return t=v({items:n,schema:t}),t},il=({irSchema:e={}})=>(e.type="boolean",e),al=({irSchema:e={}})=>(e.type="null",e),pl=({irSchema:e={},schema:t})=>(e.type=t.type,e),cl=({context:e,irSchema:t={},schema:r})=>{t.type="object";let n={};for(let s in r.properties){let o=r.properties[s];typeof o=="boolean"||(n[s]=z({context:e,schema:o}));}if(Object.keys(n).length&&(t.properties=n),r.additionalProperties===undefined)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")t.additionalProperties={type:r.additionalProperties?"unknown":"never"};else {let s=z({context:e,schema:r.additionalProperties});(t.properties||s.type!=="unknown")&&(t.additionalProperties=s);}return r.required&&(t.required=r.required),t},ml=({irSchema:e={}})=>(e.type="string",e),Le=({schema:e})=>{let t={};return sl({irSchema:t,schema:e}),t},ll=({$ref:e,context:t,schema:r})=>{let n=Le({schema:r}),s=[],o=Ce({schema:r}),i=r.allOf;for(let a of i){let c=z({context:t,schema:a});if(r.required&&(c.required?c.required=[...c.required,...r.required]:c.required=r.required),s.push(c),a.$ref){let m=t.resolveRef(a.$ref);if(m.discriminator&&e){let l={properties:{[m.discriminator.propertyName]:{const:Re(e,m.discriminator.mapping),type:"string"}},type:"object"};m.required?.includes(m.discriminator.propertyName)&&(l.required=[m.discriminator.propertyName]),s.push(l);}}}if(o.includes("object")){let a=ft({context:t,schema:{...r,type:"object"}});if(a.properties){for(let c of a.required??[])if(!a.properties[c])for(let m of i){let l=m.$ref?t.resolveRef(m.$ref):m;if(Ce({schema:l}).includes("object")){let u=ft({context:t,schema:{...l,type:"object"}});if(u.properties?.[c]){a.properties[c]=u.properties[c];break}}}s.push(a);}}if(n=v({items:s,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),o.includes("null")){let a=[{type:"null"}];s.length&&a.unshift(n),n={items:a,logicalOperator:"or"};}return n},ul=({context:e,schema:t})=>{let r=Le({schema:t}),n=[],s=Ce({schema:t}),o=t.anyOf;for(let i of o){let a=z({context:e,schema:i});t.discriminator&&i.$ref&&(a={items:[{properties:{[t.discriminator.propertyName]:{const:Re(i.$ref,t.discriminator.mapping),type:"string"}},type:"object"},a],logicalOperator:"and"}),n.push(a);}if(s.includes("null")&&n.push({type:"null"}),r=v({items:n,mutateSchemaOneItem:true,schema:r}),s.includes("object")){let i=ft({context:e,schema:{...t,type:"object"}});i.properties&&(r={items:[r,i],logicalOperator:"and"});}return r},fl=({context:e,schema:t})=>{let r=Le({schema:t});r.type="enum";let n=[],s=Ce({schema:t});for(let[o,i]of t.enum.entries()){let a=typeof i,c;a==="string"||a==="number"||a==="boolean"?c=a:i===null?s.includes("null")&&(c="null"):console.warn("\u{1F6A8}",`unhandled "${a}" typeof value "${i}" for enum`,t.enum),c&&n.push(ft({context:e,schema:{const:i,description:t["x-enum-descriptions"]?.[o],title:t["x-enum-varnames"]?.[o]??t["x-enumNames"]?.[o],type:c}}));}return r=v({items:n,schema:r}),r},dl=({context:e,schema:t})=>{let r=Le({schema:t}),n=[],s=Ce({schema:t}),o=t.oneOf;for(let i of o){let a=z({context:e,schema:i});t.discriminator&&i.$ref&&(a={items:[{properties:{[t.discriminator.propertyName]:{const:Re(i.$ref,t.discriminator.mapping),type:"string"}},type:"object"},a],logicalOperator:"and"}),a.logicalOperator==="or"&&a.items?n=n.concat(a.items):n.push(a);}if(s.includes("null")&&n.push({type:"null"}),r=v({items:n,mutateSchemaOneItem:true,schema:r}),s.includes("object")){let i=ft({context:e,schema:{...t,type:"object"}});i.properties&&(r={items:[r,i],logicalOperator:"and"});}return r},yl=({schema:e})=>{let t=Le({schema:e});return t.$ref=decodeURI(e.$ref),t},ft=({context:e,irSchema:t,schema:r})=>{switch(t||(t=Le({schema:r}),jr({irSchema:t,schema:r})),r.type){case "array":return ol({context:e,irSchema:t,schema:r});case "boolean":return il({context:e,irSchema:t,schema:r});case "integer":case "number":return pl({context:e,irSchema:t,schema:r});case "null":return al({context:e,irSchema:t,schema:r});case "object":return cl({context:e,irSchema:t,schema:r});case "string":return ml({context:e,irSchema:t,schema:r});default:return qi({context:e,irSchema:t,schema:r})}},gl=({context:e,irSchema:t,schema:r})=>{t||(t=Le({schema:r}));let n={};jr({irSchema:n,schema:r}),r.type.includes("null")&&n.default===null&&delete n.default;let s=[];for(let o of r.type)o==="null"?s.push({type:"null"}):s.push(ft({context:e,irSchema:n,schema:{...r,type:o}}));return t=v({items:s,schema:t}),t},hl=({context:e,schema:t})=>{let r=Le({schema:t});jr({irSchema:r,schema:t});let n=Ce({schema:t});return n.length===1?ft({context:e,irSchema:r,schema:{...t,type:n[0]}}):gl({context:e,irSchema:r,schema:{...t,type:n}})},qi=({irSchema:e,schema:t})=>(e||(e=Le({schema:t})),e.type="unknown",jr({irSchema:e,schema:t}),e),z=({$ref:e,context:t,schema:r})=>r.$ref?yl({$ref:e,context:t,schema:r}):r.enum?fl({$ref:e,context:t,schema:r}):r.allOf?ll({$ref:e,context:t,schema:r}):r.anyOf?ul({$ref:e,context:t,schema:r}):r.oneOf?dl({$ref:e,context:t,schema:r}):r.type||r.properties?hl({$ref:e,context:t,schema:r}):qi({$ref:e,context:t,schema:r}),ki=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[H(e)]=z({$ref:e,context:t,schema:r});};var wi=e=>e.includes("boolean")||e.includes("integer")||e.includes("number")||e.includes("string"),dt=({context:e,name:t,schema:r})=>{if(j.lastIndex=0,j.test(t))return  true;if(r.$ref){let n=e.resolveRef(r.$ref);if("content"in n||"in"in n){let s;if("in"in n&&(s=n.schema),!s){let o=Fe({content:n.content});o?.schema&&(s=o.schema);}return s?dt({context:e,name:t,schema:s}):false}return dt({context:e,name:t,schema:n})}for(let n in r.properties)if(j.lastIndex=0,j.test(n)){let s=r.properties[n];if(typeof s!="boolean"){let o=Ce({schema:s});if(!o.length){let a=(s.anyOf??s.oneOf??[]).filter(c=>c.type!=="null");if(a.length===1){let c=Ce({schema:a[0]});if(wi(c))return n}}if(wi(o))return n}}for(let n of r.allOf??[]){let s=dt({context:e,name:t,schema:n});if(s)return s}return  false};var xl=({irOperation:e,operation:t})=>{t.deprecated!==undefined&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},bl=({method:e,operation:t,path:r})=>{let n={id:t.id,method:e,path:r};return xl({irOperation:n,operation:t}),n},Ol=({context:e,method:t,operation:r,path:n,securitySchemesMap:s})=>{let o=bl({method:t,operation:r,path:n});if(r.parameters&&(o.parameters=r.parameters),r.requestBody){let i="$ref"in r.requestBody?e.resolveRef(r.requestBody.$ref):r.requestBody,a=Fe({content:i.content});if(a){let c=dt({context:e,name:"",schema:{description:i.description,...a.schema}});o.body={mediaType:a.mediaType,schema:z({context:e,schema:{description:i.description,..."$ref"in r.requestBody?r.requestBody:a.schema}})},c&&(o.body.pagination=c),i.required&&(o.body.required=i.required),a.type&&(o.body.type=a.type);}}for(let i in r.responses){o.responses||(o.responses={});let a=r.responses[i],c="$ref"in a?e.resolveRef(a.$ref):a,m=Fe({content:c.content});m?o.responses[i]={mediaType:m.mediaType,schema:z({context:e,schema:{description:c.description,...vi({content:m})}})}:o.responses[i]={schema:{description:c.description,type:i==="204"?"void":"unknown"}};}if(r.security){let i=[];for(let a of r.security)for(let c in a){let m=s.get(c);m&&i.push(m);}i.length&&(o.security=i);}return o},Be=({context:e,method:t,operation:r,operationIds:n,path:s,securitySchemesMap:o})=>{kt({id:r.operationId,method:t,operationIds:n,path:s}),e.ir.paths||(e.ir.paths={}),e.ir.paths[s]||(e.ir.paths[s]={}),r.id=wt({context:e,id:r.operationId,method:t,path:s}),e.ir.paths[s][t]=Ol({context:e,method:t,operation:r,path:s,securitySchemesMap:o});};var Rl=e=>{switch(e){case "query":return  false;default:return}},Sl=e=>{switch(e){case "deepObject":case "form":return  true;default:return  false}},Tl=e=>{switch(e){case "header":case "path":return "simple";case "cookie":case "query":return "form"}},Pe=({context:e,parameters:t})=>{if(!t||!Object.keys(t).length)return;let r={};for(let n of t){let s="$ref"in n?e.resolveRef(n.$ref):n;r[s.in]||(r[s.in]={}),r[s.in][s.name]=Ni({context:e,parameter:s});}return r},Ni=({context:e,parameter:t})=>{let r=t.schema;if(!r){let m=Fe({content:t.content});m&&(r=m.schema);}let n={deprecated:t.deprecated,description:t.description,...r},s=dt({context:e,name:t.name,schema:n}),o=t.style||Tl(t.in),i=t.explode!==undefined?t.explode:Sl(o),c={allowReserved:t.allowReserved!==undefined?t.allowReserved:Rl(t.in),explode:i,location:t.in,name:t.name,schema:z({context:e,schema:n}),style:o};return t.deprecated&&(c.deprecated=t.deprecated),t.description&&(c.description=t.description),s&&(c.pagination=s),t.required&&(c.required=t.required),c},$i=({$ref:e,context:t,parameter:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.parameters||(t.ir.components.parameters={}),t.ir.components.parameters[H(e)]=Ni({context:t,parameter:r});};var Cl=({context:e,requestBody:t})=>{let r=Fe({content:t.content}),n=r?r.schema:undefined,s={description:t.description,...n},o={schema:z({context:e,schema:s})};return t.description&&(o.description=t.description),t.required&&(o.required=t.required),o},Di=({$ref:e,context:t,requestBody:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.requestBodies||(t.ir.components.requestBodies={}),t.ir.components.requestBodies[H(e)]=Cl({context:t,requestBody:r});};var Xn=e=>{let t=new Map,r=new Map,n=e.config.input.exclude?new RegExp(e.config.input.exclude):undefined,s=e.config.input.include?new RegExp(e.config.input.include):undefined,o=i=>qt({$ref:i,excludeRegExp:n,includeRegExp:s});if(e.spec.components){for(let i in e.spec.components.securitySchemes){let a=e.spec.components.securitySchemes[i],c="$ref"in a?e.resolveRef(a.$ref):a;r.set(i,c);}for(let i in e.spec.components.parameters){let a=`#/components/parameters/${i}`;if(!o(a))continue;let c=e.spec.components.parameters[i],m="$ref"in c?e.resolveRef(c.$ref):c;$i({$ref:a,context:e,parameter:m});}for(let i in e.spec.components.requestBodies){let a=`#/components/requestBodies/${i}`;if(!o(a))continue;let c=e.spec.components.requestBodies[i],m="$ref"in c?e.resolveRef(c.$ref):c;Di({$ref:a,context:e,requestBody:m});}for(let i in e.spec.components.schemas){let a=`#/components/schemas/${i}`;if(!o(a))continue;let c=e.spec.components.schemas[i];ki({$ref:a,context:e,schema:c});}}for(let i in e.spec.paths){let a=e.spec.paths[i],c=a.$ref?{...e.resolveRef(a.$ref),...a}:a,m={context:e,operation:{description:c.description,id:"",parameters:Pe({context:e,parameters:c.parameters}),security:e.spec.security,servers:c.servers,summary:c.summary},operationIds:t,path:i,securitySchemesMap:r},l=`#/paths${i}/delete`;c.delete&&o(l)&&Be({...m,method:"delete",operation:{...m.operation,...c.delete,parameters:P({source:Pe({context:e,parameters:c.delete.parameters}),target:m.operation.parameters})}});let u=`#/paths${i}/get`;c.get&&o(u)&&Be({...m,method:"get",operation:{...m.operation,...c.get,parameters:P({source:Pe({context:e,parameters:c.get.parameters}),target:m.operation.parameters})}});let f=`#/paths${i}/head`;c.head&&o(f)&&Be({...m,method:"head",operation:{...m.operation,...c.head,parameters:P({source:Pe({context:e,parameters:c.head.parameters}),target:m.operation.parameters})}});let d=`#/paths${i}/options`;c.options&&o(d)&&Be({...m,method:"options",operation:{...m.operation,...c.options,parameters:P({source:Pe({context:e,parameters:c.options.parameters}),target:m.operation.parameters})}});let x=`#/paths${i}/patch`;c.patch&&o(x)&&Be({...m,method:"patch",operation:{...m.operation,...c.patch,parameters:P({source:Pe({context:e,parameters:c.patch.parameters}),target:m.operation.parameters})}});let h=`#/paths${i}/post`;c.post&&o(h)&&Be({...m,method:"post",operation:{...m.operation,...c.post,parameters:P({source:Pe({context:e,parameters:c.post.parameters}),target:m.operation.parameters})}});let T=`#/paths${i}/put`;c.put&&o(T)&&Be({...m,method:"put",operation:{...m.operation,...c.put,parameters:P({source:Pe({context:e,parameters:c.put.parameters}),target:m.operation.parameters})}});let O=`#/paths${i}/trace`;c.trace&&o(O)&&Be({...m,method:"trace",operation:{...m.operation,...c.trace,parameters:P({source:Pe({context:e,parameters:c.trace.parameters}),target:m.operation.parameters})}});}};var vr=["connect","delete","get","head","options","patch","post","put","trace"];function qr(e="1.0"){return String(e).replace(/^v/gi,"")}var Dt="#/components/parameters/",kr="#/components/schemas/";var Ie=({config:e,name:t})=>e.plugins["@hey-api/sdk"]?.serviceNameBuilder?e.plugins["@hey-api/sdk"].serviceNameBuilder.replace("{{name}}",t):t,zn=e=>b().plugins["@hey-api/typescript"]?.style==="PascalCase"?C({case:"PascalCase",value:e}):e,Mi=e=>{let t=zn(e);return de(t).replace(oe,"_$1")};var Fi=(e,t)=>{if(e.enum&&!t.includes("boolean"))return "enum"},Gn=e=>Mt(e).includes("null"),Ze=e=>e.nullable===true||Gn(e),Mt=({type:e})=>Array.isArray(e)?e:e?[e]:[];var er=e=>e.trim().replace(/^#\/definitions\//,"").replace(/^#\/parameters\//,"").replace(/^#\/responses\//,"").replace(/^#\/securityDefinitions\//,"").replace(/^#\/components\/schemas\//,"").replace(/^#\/components\/responses\//,"").replace(/^#\/components\/parameters\//,"").replace(/^#\/components\/examples\//,"").replace(/^#\/components\/requestBodies\//,"").replace(/^#\/components\/headers\//,"").replace(/^#\/components\/securitySchemes\//,"").replace(/^#\/components\/links\//,"").replace(/^#\/components\/callbacks\//,"");var Li=(e,t)=>{if(t==="binary")return "binary";switch(e){case "any":case "object":case "unknown":return "unknown";case "array":return "unknown[]";case "boolean":return "boolean";case "byte":case "double":case "float":case "int":case "integer":case "long":case "number":case "short":return "number";case "char":case "date":case "date-time":case "password":case "string":return "string";case "file":return "binary";case "null":return "null";case "void":return "void"}},Bi=/(?<!`1)\[.*\]$/g,S=({debug:e,format:t,type:r="unknown"})=>{let n={$refs:[],base:"unknown",imports:[],isNullable:false,template:null,type:"unknown"};if(Array.isArray(r)){let i=r.filter(a=>a!=="null").map(a=>Li(a,t)).filter(Boolean).join(" | ");return n.type=i,n.base=i,n.isNullable=Gn({type:r}),n}let s=Li(r,t);if(s)return n.type=s,n.base=s,n;let o=decodeURIComponent(er(r));if(Bi.lastIndex=0,Bi.test(o)){let i=o.match(/(.*?)\[(.*)\]$/);if(i?.length){let a=S({debug:e,type:de(i[1])}),c=S({debug:e,type:de(i[2])});return a.type==="unknown[]"?(n.type=`${c.type}[]`,n.base=`${c.type}`,a.$refs=[],a.imports=[]):c.type?(n.type=`${a.type}<${c.type}>`,n.base=a.type,n.template=c.type):(n.type=a.type,n.base=a.type,n.template=a.type),n.$refs=[...n.$refs,...a.$refs,...c.$refs],n.imports=[...n.imports,...a.imports,...c.imports],n}}if(o){let i=zn(de(o));return r.startsWith(Dt)&&(i=`Parameter${i}`),n.type=i,n.base=i,r.startsWith("#")&&(n.$refs=[...n.$refs,decodeURIComponent(r)]),n.imports=[...n.imports,i],n}return n};function G(e,t,r){return r.indexOf(e)===t}var Ft=(e,t)=>{if(!Array.isArray(t))return [];let r=(e["x-enum-descriptions"]??[]).filter(s=>typeof s=="string"),n=(e["x-enum-varnames"]??e["x-enumNames"]??[]).filter(s=>typeof s=="string");return t.filter(G).filter(s=>typeof s=="number"||typeof s=="string").map((s,o)=>({customDescription:r[o],customName:n[o],description:undefined,value:s}))};var L=e=>e?.replace(/\\/g,"\\\\").replace(/'/g,"\\'");var wr=({definition:e,getModel:t,openApi:r,types:n})=>{let s=[];return Object.entries(e.properties??{}).forEach(([o,i])=>{let a=!!e.required?.includes(o);if(i.$ref){let c=S({type:i.$ref});s.push({$refs:[],base:c.base,description:i.description||null,enum:[],enums:[],exclusiveMaximum:i.exclusiveMaximum,exclusiveMinimum:i.exclusiveMinimum,export:"reference",format:i.format,imports:c.imports,in:"",isDefinition:false,isNullable:i["x-nullable"]===true,isReadOnly:i.readOnly===true,isRequired:a,link:null,maxItems:i.maxItems,maxLength:i.maxLength,maxProperties:i.maxProperties,maximum:i.maximum,minItems:i.minItems,minLength:i.minLength,minProperties:i.minProperties,minimum:i.minimum,multipleOf:i.multipleOf,name:ie(o),pattern:L(i.pattern),properties:[],template:c.template,type:c.type,uniqueItems:i.uniqueItems});}else {let c=t({definition:i,openApi:r,types:n});s.push({$refs:[],base:c.base,description:i.description||null,enum:c.enum,enums:c.enums,exclusiveMaximum:i.exclusiveMaximum,exclusiveMinimum:i.exclusiveMinimum,export:c.export,format:i.format,imports:c.imports,in:"",isDefinition:false,isNullable:i["x-nullable"]===true,isReadOnly:i.readOnly===true,isRequired:a,link:c.link,maxItems:i.maxItems,maxLength:i.maxLength,maxProperties:i.maxProperties,maximum:i.maximum,minItems:i.minItems,minLength:i.minLength,minProperties:i.minProperties,minimum:i.minimum,multipleOf:i.multipleOf,name:ie(o),pattern:L(i.pattern),properties:c.properties,template:c.template,type:c.type,uniqueItems:i.uniqueItems});}}),s};var Pl=/~1/g,Il=/~0/g;function q(e,t){if(t.$ref){let r=t.$ref.replace(/^#/g,"").split("/").filter(Boolean),n=e;return r.forEach(s=>{let o=decodeURIComponent(s.replace(Pl,"/").replace(Il,"~"));if(n.hasOwnProperty(o))n=n[o];else throw new Error(`Could not find reference: "${t.$ref}"`)}),n}return t}var _i=({definitions:e,getModel:t,openApi:r,required:n,types:s})=>e.reduce((o,i)=>{if(i.$ref){let a=q(r,i);return [...o,...t({definition:a,openApi:r,types:s}).properties]}return [...o,...t({definition:i,openApi:r,types:s}).properties]},[]).filter(o=>!o.isRequired&&n.includes(o.name)).map(o=>({...o,isRequired:true}));var Hi=({definition:e,definitions:t,getModel:r,openApi:n,type:s,types:o})=>{let i={$refs:[],enums:[],export:s,imports:[],properties:[]},a=[];if(t.map(c=>r({definition:c,openApi:n,types:o})).filter(c=>{let m=c.properties.length,l=c.enums.length;return !(c.type==="unknown"&&!m&&!l)}).forEach(c=>{i.imports.push(...c.imports),i.enums.push(...c.enums),i.properties.push(c);}),e.required&&s==="all-of"){let c=_i({definitions:t,getModel:r,openApi:n,required:e.required,types:o});c.forEach(m=>{i.imports.push(...m.imports),i.enums.push(...m.enums);}),a.push(...c);}if(e.properties){let c=wr({definition:e,getModel:r,openApi:n,types:o});c.forEach(m=>{i.imports.push(...m.imports),i.enums.push(...m.enums),m.export==="enum"&&i.enums.push(m);}),a.push(...c);}return a.length&&i.properties.push({$refs:[],base:"unknown",description:"",enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"properties",properties:a,template:null,type:"unknown"}),i};var Ae=({definition:e,isDefinition:t=false,meta:r,openApi:n,types:s})=>{let o={$refs:[],base:"unknown",description:e.description||null,enum:[],enums:[],exclusiveMaximum:e.exclusiveMaximum,exclusiveMinimum:e.exclusiveMinimum,export:"interface",format:e.format,imports:[],in:"",isDefinition:t,isNullable:e["x-nullable"]===true,isReadOnly:e.readOnly===true,isRequired:false,link:null,maxItems:e.maxItems,maxLength:e.maxLength,maxProperties:e.maxProperties,maximum:e.maximum,meta:r,minItems:e.minItems,minLength:e.minLength,minProperties:e.minProperties,minimum:e.minimum,multipleOf:e.multipleOf,name:r?.name??"",pattern:L(e.pattern),properties:[],template:null,type:"unknown",uniqueItems:e.uniqueItems};if(e.$ref){let i=S({type:e.$ref});return o.export="reference",o.type=i.type,o.base=i.base,o.template=i.template,o.imports.push(...i.imports),o}if(e.enum&&e.type!=="boolean"){let i=Ft(e,e.enum);if(i.length)return o.base="string",o.enum=[...o.enum,...i],o.export="enum",o.type="string",o}if(e.type==="array"&&e.items)if(e.items.$ref){let i=S({type:e.items.$ref});return o.export="array",o.type=i.type,o.base=i.base,o.template=i.template,o.imports.push(...i.imports),o}else {let i=Ae({definition:e.items,openApi:n,types:s});return o.export="array",o.type=i.type,o.base=i.base,o.template=i.template,o.link=i,o.imports.push(...i.imports),o}if(e.type==="object"&&typeof e.additionalProperties=="object")if(e.additionalProperties.$ref){let i=S({type:e.additionalProperties.$ref});return o.export="dictionary",o.type=i.type,o.base=i.base,o.template=i.template,o.imports.push(...i.imports),o}else {let i=Ae({definition:e.additionalProperties,openApi:n,types:s});return o.export="dictionary",o.type=i.type,o.base=i.base,o.template=i.template,o.link=i,o.imports.push(...i.imports),o}if(e.allOf?.length){let i=Hi({definition:e,definitions:e.allOf,getModel:Ae,openApi:n,type:"all-of",types:s});return o.export=i.export,o.imports.push(...i.imports),o.properties.push(...i.properties),o.enums=[...o.enums,...i.enums],o}if(e.type==="object")return o.export="interface",o.type="unknown",o.base="unknown",e.properties&&wr({definition:e,getModel:Ae,openApi:n,types:s}).forEach(a=>{o.imports.push(...a.imports),o.enums=[...o.enums,...a.enums],o.properties.push(a),a.export==="enum"&&(o.enums=[...o.enums,a]);}),o;if(e.type){let i=S({format:e.format,type:e.type});return o.export="generic",o.type=i.type,o.base=i.base,o.template=i.template,o.imports.push(...i.imports),o}return o};var Ki=e=>{let t={},r=[];return Object.entries(e.definitions??{}).forEach(([n,s])=>{let i=S({type:n}).base.replace(oe,"_$1"),a={$ref:`#/definitions/${n}`,name:i};t[i]=a;let c=Ae({definition:s,isDefinition:true,meta:a,openApi:e,types:t});r=[...r,c];}),{models:r,types:t}};var Al=(e,t)=>{if(t)return t;if(typeof e=="number")return `'_${e}'`;let r="";return typeof e=="string"&&(r=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_").replace(/^([^$_\p{ID_Start}])/u,"_$1").replace(/(\p{Lowercase})(\p{Uppercase}+)/gu,"$1_$2")),r=r.trim(),r||(r="empty_string"),r.toUpperCase()},Vi=e=>e.map(t=>Nr(t.value,true)).filter(G).join(" | "),Nr=(e,t=false)=>typeof e=="string"?e.includes("'")&&t?`"${e}"`:`'${e}'`:e,$r=e=>{let t=Al(e.value,e.customName),r=Nr(e.value);return {key:t,value:r}},Dr=e=>{let t=e.enum.map(r=>$r(r)).sort((r,n)=>At(r.key,n.key)).map(r=>`${r.key}=${r.value}`).join("&");return {$ref:`enum/${e.name}/${t}`,name:de(Rt(e.name))}};var Wi=e=>{let r=`Parameter${S({type:e}).base.replace(oe,"_$1")}`;return {$ref:Dt+e,name:r}},Mr=e=>{let t=Mi(e);return {$ref:kr+e,name:t}};var tr=e=>e.format==="date"||e.format==="date-time",Jn=e=>{let t=b();return e.base==="binary"?p.typeUnionNode({types:["Blob","File"]}):t.plugins["@hey-api/transformers"]?.dates&&tr(e)?p.typeNode("Date"):p.typeNode(e.base)},El=e=>{let t=e.base==="null"?false:e.isNullable,r=Jn(e);if(e.export==="reference"&&e.$refs.length===1&&e.$refs[0].startsWith(kr)){let s=Mr(e.base);r=p.typeNode(s.name);}return p.typeUnionNode({isNullable:t,types:[r]})},jl=e=>{if(e.link){if(Array.isArray(e.link)){let t=e.link.map(n=>me(n));return p.typeTupleNode({isNullable:e.isNullable,types:t})}if(e.export==="array"&&e.maxItems&&e.minItems&&e.maxItems===e.minItems&&e.maxItems<=100){let t=Array(e.maxItems).fill(me(e.link));return p.typeTupleNode({isNullable:e.isNullable,types:t})}return p.typeArrayNode([me(e.link)],e.isNullable)}return p.typeArrayNode([Jn(e)],e.isNullable)},vl=e=>{let t=e.enum.map(r=>Nr(r.value));return p.typeUnionNode({isNullable:e.isNullable,types:t})},ql=e=>{let t=e.link&&!Array.isArray(e.link)?me(e.link):Jn(e);return p.typeRecordNode(["string"],[t],e.isNullable,true)},Ui=({model:e,style:t})=>{let r=e.properties.map(s=>p.nodeToString({node:me(s),unescape:true})).filter(G),n=t==="union"?p.typeUnionNode({isNullable:e.isNullable&&!e.properties.find(s=>s.isNullable),types:r}):p.typeIntersectionNode({isNullable:e.isNullable,types:r});return e.meta?n:p.typeParenthesizedNode({type:n})},kl=e=>{if(!e.properties.length)return p.typeNode("unknown");let t=b(),r=I(t),n=e.properties.map(s=>{let o=s.isRequired?"":"?",i=me(s),a=r?/^\dXX$/.test(s.name)?ie(s.name):s.name:ie(Rt(Zn(s.name)));return s.name==="[key: string]"&&(a=s.name,o&&(o="",i=p.typeUnionNode({types:[i,"undefined"]}))),{comment:[s.description&&E(s.description),s.deprecated&&"@deprecated"],isReadOnly:s.isReadOnly,isRequired:o==="",name:a,type:i}});return p.typeInterfaceNode({isNullable:e.isNullable,properties:n,useLegacyResolution:true})},me=e=>{switch(e.export){case "all-of":return Ui({model:e,style:"intersection"});case "any-of":case "one-of":return Ui({model:e,style:"union"});case "array":return jl(e);case "dictionary":return ql(e);case "enum":return vl(e);case "interface":return kl(e);case "const":case "generic":case "reference":default:return El(e)}},le=({client:e,count:t=1,create:r=false,meta:n,nameTransformer:s})=>{let o={created:false,name:""},i=n.name;s&&(i=s(i)),t>1&&(i=`${i}${t}`);let a=e.types[i];return a?a.$ref===n.$ref?o={created:false,name:i}:o=le({client:e,count:t+1,create:r,meta:n,nameTransformer:s}):r&&(e.types[i]=n,o={created:true,name:i}),o},Qi=({client:e,name:t})=>{let r={deleted:false,name:""};return e.types[t]&&(delete e.types[t],r={deleted:true,name:t}),r},Zn=e=>{let t=b();return I(t)?C({case:"camelCase",value:Vn(e)}).replace(oe,"_$1"):e};var Ye=e=>`${e.method.toUpperCase()} ${e.path}`,Fr=e=>{let t=e.find(r=>r.in==="header");return t?t.name:null},Ee=e=>e.some(r=>r.isRequired),Lr=e=>{if(e==="default")return "default";if(e==="1XX")return "1XX";if(e==="2XX")return "2XX";if(e==="3XX")return "3XX";if(e==="4XX")return "4XX";if(e==="5XX")return "5XX";if(/\d{3}/g.test(e)){let t=Number.parseInt(e,10);if(t>=100&&t<600)return t}return null},Br=(e,t)=>e.code>t.code?1:e.code<t.code?-1:0,wl=e=>e==="3XX"||e==="4XX"||e==="5XX"||typeof e=="number"&&e>=300,Xi=e=>e==="2XX"||typeof e=="number"&&e>=200&&e<300,Nl=(e,t)=>{let r=[],n=m=>{r.includes(m)||(r=[...r,m]);};t.some(({code:m})=>Xi(m))||n("success");let o=(e.description??"").toLocaleLowerCase(),i=e.$refs.join("|").toLocaleLowerCase(),a=["error","problem"];return ["success"].some(m=>o.includes(m)||i.includes(m))&&n("success"),a.some(m=>o.includes(m)||i.includes(m))&&n("error"),r.length||n("error"),r},_r=({config:e,operationKey:t})=>{let r=e.plugins["@hey-api/sdk"]?.filter?new RegExp(e.plugins["@hey-api/sdk"]?.filter):undefined;return !r||r.test(t)},Hr=({config:e,method:t,operationId:r,path:n})=>{if(e.plugins["@hey-api/sdk"]?.operationId&&r)return C({case:"camelCase",value:Xe(r)});let s=n;return I(e)&&(s=s.replace(/[^/]*?{api-version}.*?\//g,"")),s=s.replace(/{(.*?)}/g,"by-$1").replace(/[/:]/g,"-"),C({case:"camelCase",value:`${t}-${s}`})},Kr=e=>{let t=b();return !I(t)||e.prop!=="api-version"},Vr=e=>{let t=b();return I(t)?Zn(e.prop):e.prop},Wr=e=>e.map(t=>{let{code:r}=t;return r==="default"?t.responseTypes=Nl(t,e):Xi(r)?t.responseTypes=["success"]:wl(r)&&(t.responseTypes=["error"]),t});var k=(e,t)=>{if(e.default===undefined||e.default===null)return e.default;switch(Mt(e).find(s=>s!=="null")||typeof e.default){case "int":case "integer":case "number":if(t?.export==="enum"&&t.enum?.[e.default]){let{value:s}=t.enum[e.default];return s}return e.default;case "array":case "boolean":case "object":case "string":return e.default;default:return}};var zi=({openApi:e,parameter:t,types:r})=>{let n={$refs:[],base:"unknown",description:t.description||null,enum:[],enums:[],exclusiveMaximum:t.exclusiveMaximum,exclusiveMinimum:t.exclusiveMinimum,export:"interface",format:t.format,imports:[],in:t.in,isDefinition:false,isNullable:t["x-nullable"]===true,isReadOnly:false,isRequired:t.required===true,link:null,maxItems:t.maxItems,maxLength:t.maxLength,maximum:t.maximum,mediaType:null,minItems:t.minItems,minLength:t.minLength,minimum:t.minimum,multipleOf:t.multipleOf,pattern:L(t.pattern),prop:t.name,properties:[],template:null,type:"unknown",uniqueItems:t.uniqueItems},s={...n,name:Vr(n)};if(t.$ref){let i=S({type:t.$ref});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,export:"reference",imports:[...s.imports,...i.imports],template:i.template,type:i.type},s.default=k(t,s),s}if(t.enum){let i=Ft(t,t.enum);if(i.length)return s={...s,base:"string",enum:[...s.enum,...i],export:"enum",type:"string"},s.default=k(t,s),s}if(t.type==="array"&&t.items){let i=S({format:t.items.format,type:t.items.type});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,export:"array",imports:[...s.imports,...i.imports],template:i.template,type:i.type},s.default=k(t,s),s}if(t.type==="object"&&t.items){let i=S({format:t.items.format,type:t.items.type});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,export:"dictionary",imports:[...s.imports,...i.imports],template:i.template,type:i.type},s.default=k(t,s),s}let o=t.schema;if(o){if(o.$ref?.startsWith("#/parameters/")&&(o=q(e,o)),o.$ref){let a=S({type:o.$ref});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,export:"reference",imports:[...s.imports,...a.imports],template:a.template,type:a.type},s.default=k(t,s),s}let i=Ae({definition:o,openApi:e,types:r});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,enum:[...s.enum,...i.enum],enums:[...s.enums,...i.enums],export:i.export,imports:[...s.imports,...i.imports],link:i.link,properties:[...s.properties,...i.properties],template:i.template,type:i.type},s.default=k(t,s),s}if(t.type){let i=S({format:t.format,type:t.type});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,export:"generic",imports:[...s.imports,...i.imports],template:i.template,type:i.type},s.default=k(t,s),s}return s};var $l=["body","formData","header","path","query"],Ur=({openApi:e,parameters:t,types:r})=>{let n={$refs:[],imports:[],parameters:[],parametersBody:null,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[]};return t.forEach(s=>{let o=q(e,s),i=zi({openApi:e,parameter:o,types:r}),a=!Kr(i);if(!(!$l.includes(o.in)||a)){switch(o.in){case "body":n.parametersBody=i;break;case "formData":n.parametersForm=[...n.parametersForm,i];break;case "header":n.parametersHeader=[...n.parametersHeader,i];break;case "path":n.parametersPath=[...n.parametersPath,i];break;case "query":n.parametersQuery=[...n.parametersQuery,i];break}n.$refs=[...n.$refs,...i.$refs],n.imports=[...n.imports,...i.imports],n.parameters=[...n.parameters,i];}}),n};function Qr(e){return e.sort((t,r)=>{let n=t.isRequired&&t.default===undefined,s=r.isRequired&&r.default===undefined;return n&&!s?-1:s&&!n?1:0})}var Gi=({code:e,openApi:t,response:r,types:n})=>{let s={$refs:[],base:e!==204?"unknown":"void",code:e,description:r.description||null,enum:[],enums:[],export:"generic",imports:[],in:"response",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],responseTypes:[],template:null,type:e!==204?"unknown":"void"},o=r.schema;if(o){if(o.$ref?.startsWith("#/responses/")&&(o=q(t,o)),o.$ref){let a=S({type:o.$ref});return s.export="reference",s.type=a.type,s.base=a.base,s.template=a.template,s.imports=[...s.imports,...a.imports],s}let i=Ae({definition:o,openApi:t,types:n});return s.export=i.export,s.type=i.type,s.base=i.base,s.template=i.template,s.link=i.link,s.isReadOnly=i.isReadOnly,s.isRequired=i.isRequired,s.isNullable=i.isNullable,s.format=i.format,s.maximum=i.maximum,s.exclusiveMaximum=i.exclusiveMaximum,s.minimum=i.minimum,s.exclusiveMinimum=i.exclusiveMinimum,s.multipleOf=i.multipleOf,s.maxLength=i.maxLength,s.minLength=i.minLength,s.maxItems=i.maxItems,s.minItems=i.minItems,s.uniqueItems=i.uniqueItems,s.maxProperties=i.maxProperties,s.minProperties=i.minProperties,s.pattern=L(i.pattern),s.imports=[...s.imports,...i.imports],s.enum=[...s.enum,...i.enum],s.enums=[...s.enums,...i.enums],s.properties=[...s.properties,...i.properties],s}if(r.headers)for(let i in r.headers)return s.in="header",s.name=i,s.type="string",s.base="string",s;return s};var Ji=({openApi:e,responses:t,types:r})=>{let n=[];return Object.entries(t).forEach(([s,o])=>{let i=Lr(s);if(!i)return;let a=q(e,o),c=Gi({code:i,openApi:e,response:a,types:r});n=[...n,c];}),n=Wr(n),n.sort(Br)};var Zi=({method:e,op:t,openApi:r,pathParams:n,types:s,url:o})=>{let i={$refs:[],deprecated:t.deprecated===true,description:t.description||null,id:t.operationId||null,imports:[],method:e.toUpperCase(),parameters:[...n.parameters],parametersBody:n.parametersBody,parametersCookie:[...n.parametersCookie],parametersForm:[...n.parametersForm],parametersHeader:[...n.parametersHeader],parametersPath:[...n.parametersPath],parametersQuery:[...n.parametersQuery],path:o,responseHeader:null,responses:[],summary:t.summary||null,tags:t.tags||null},a={...i,name:Hr({config:b(),method:i.method,operationId:t.operationId,path:i.path})};if(t.parameters){let c=Ur({openApi:r,parameters:t.parameters,types:s});a.$refs=[...a.$refs,...c.$refs],a.imports=[...a.imports,...c.imports],a.parameters=[...a.parameters,...c.parameters],a.parametersBody=c.parametersBody,a.parametersCookie=[...a.parametersCookie,...c.parametersCookie],a.parametersForm=[...a.parametersForm,...c.parametersForm],a.parametersHeader=[...a.parametersHeader,...c.parametersHeader],a.parametersPath=[...a.parametersPath,...c.parametersPath],a.parametersQuery=[...a.parametersQuery,...c.parametersQuery];}if(t.responses){a.responses=Ji({openApi:r,responses:t.responses,types:s});let c=a.responses.filter(m=>m.responseTypes.includes("success"));a.responseHeader=Fr(c),c.forEach(m=>{a.$refs=[...a.$refs,...m.$refs],a.imports=[...a.imports,...m.imports];});}return a.parameters=Qr(a.parameters),a};var Yi=({openApi:e,types:t})=>{let r=new Map,n=[];for(let s in e.paths){let o=e.paths[s],i=Ur({openApi:e,parameters:o.parameters??[],types:t});for(let a in o){let c=a,m=Ye({method:c,path:s});if(vr.includes(c)){let l=o[c];if(l.operationId&&(r.has(l.operationId)?console.warn(`\u2757\uFE0F Duplicate operationId: ${l.operationId} in ${m}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(l.operationId,m)),_r({config:b(),operationKey:m})){let u=Zi({method:c,op:l,openApi:e,pathParams:i,types:t,url:s});n.push(u);}}}}return n};var ea=e=>{let t=e.schemes?.[0]||"http",r=e.host,n=e.basePath||"";return (r?`${t}://${r}${n}`:n).replace(/\/$/g,"")};var ta=e=>{let t=qr(e.info.version),r=ea(e),{models:n,types:s}=Ki(e),o=Yi({openApi:e,types:s});return {models:n,operations:o,server:r,types:s,version:t}};var Dl=e=>{let t={};for(let r in e)t[e[r]]=r;return t},ra=(e,t)=>{if(e.components&&t){for(let r in e.components.schemas)if(e.components.schemas.hasOwnProperty(r)){let n=e.components.schemas[r];if(n.discriminator&&n.oneOf?.length&&n.oneOf.some(s=>s.$ref&&er(s.$ref)==t.name))return n.discriminator}}},na=(e,t)=>{if(e.mapping){let r=Dl(e.mapping),n=Object.keys(r).find(s=>er(s)==t.name);if(n&&r[n])return r[n]}return t.name};var Yn=({debug:e,definition:t,getModel:r,model:n,openApi:s,types:o})=>{let i=typeof t.additionalProperties=="object"?t.additionalProperties:{},a=r({debug:e,definition:i,openApi:s,parentDefinition:t,types:o});if(i.$ref){let c=S({type:i.$ref});return n.base=c.base,n.default=k(t,n),n.export="dictionary",n.imports.push(...c.imports),n.template=c.template,n.type=c.type,n}if(t.additionalProperties&&t.properties&&Object.keys(t.properties).length>0){let c=typeof t.additionalProperties=="object"&&t.additionalProperties.type&&!Array.isArray(t.additionalProperties.type)?t.additionalProperties.type:a.base,m=[S({type:c}).base,...n.properties.map(l=>l.base)];return a.base=m.filter(G).join(" | "),a.default=k(t,n),a.export="generic",a.isRequired=t.additionalProperties===true,a.name="[key: string]",a}return n.base=a.base,n.default=k(t,n),n.export="dictionary",n.imports.push(...a.imports),n.link=a,n.template=a.template,n.type=a.type,n},Xr=({debug:e,definition:t,getModel:r,openApi:n,parent:s,types:o})=>{let i=[],a=ra(n,s);return Object.entries(t.properties??{}).forEach(([c,m])=>{let l=!!t.required?.includes(c),u={default:m.default,deprecated:m.deprecated===true,description:m.description||null,exclusiveMaximum:m.exclusiveMaximum,exclusiveMinimum:m.exclusiveMinimum,format:m.type==="array"?m.items?.format??m.format:m.format,in:"",isDefinition:false,isReadOnly:m.readOnly===true,isRequired:l,maxItems:m.maxItems,maxLength:m.maxLength,maxProperties:m.maxProperties,maximum:m.maximum,minItems:m.minItems,minLength:m.minLength,minProperties:m.minProperties,minimum:m.minimum,multipleOf:m.multipleOf,name:ie(c),pattern:L(m.pattern),uniqueItems:m.uniqueItems};if(s&&a?.propertyName==c){i=[...i,{...u,$refs:[],base:`'${na(a,s)}'`,enum:[],enums:[],export:"reference",imports:[],isNullable:Ze(m),link:null,properties:[],template:null,type:"string"}];return}if(m.$ref){let d=S({type:m.$ref});i=[...i,{...u,$refs:d.$refs,base:d.base,enum:[],enums:[],export:"reference",imports:d.imports,isNullable:d.isNullable||Ze(m),link:null,properties:[],template:d.template,type:d.type}];return}let f=r({debug:e,definition:m,initialValues:u,openApi:n,parentDefinition:t,types:o});f.isNullable=f.isNullable||Ze(m),i=[...i,f];}),i};var sa=({debug:e,definitions:t,getModel:r,openApi:n,required:s,types:o})=>t.reduce((a,c)=>{if(c.$ref){let m=S({type:c.$ref}),l={$ref:c.$ref,name:m.base};o[m.base]=l;let u=q(n,c);return [...a,...r({debug:e,definition:u,meta:l,openApi:n,types:o}).properties]}return [...a,...r({debug:e,definition:c,openApi:n,parentDefinition:c,types:o}).properties]},[]).filter(a=>!a.isRequired&&s.includes(a.name)).map(a=>({...a,isRequired:true}));var zr=e=>[{definitions:e.allOf,type:"all-of"},{definitions:e.anyOf,type:"any-of"},{definitions:e.oneOf,type:"one-of"}].find(r=>r.definitions?.length),oa=({debug:e,definition:t,definitions:r,getModel:n,model:s,openApi:o,type:i,types:a})=>{let c={$refs:s.$refs,enums:s.enums,export:i,imports:s.imports,properties:s.properties},m=[];if(r.map(l=>n({debug:e,definition:l,openApi:o,parentDefinition:t,types:a})).forEach(l=>{c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports],c.enums=[...c.enums,...l.enums],c.properties=[...c.properties,l];}),t.required&&i==="all-of"){let l=sa({debug:e,definitions:r,getModel:n,openApi:o,required:t.required,types:a});l.forEach(u=>{c.$refs=[...c.$refs,...u.$refs],c.imports=[...c.imports,...u.imports],c.enums=[...c.enums,...u.enums];}),m=[...m,...l];}if(t.properties){let l=Xr({definition:t,getModel:n,openApi:o,types:a});l.forEach(u=>{c.$refs=[...c.$refs,...u.$refs],c.imports=[...c.imports,...u.imports],c.enums=[...c.enums,...u.enums],u.export==="enum"&&(c.enums=[...c.enums,u]);}),m=[...m,...l];}if(m.length){let l=zr(t);if(l){let u={$refs:[],base:"unknown",description:"",enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"properties",properties:m,template:null,type:"unknown"};l.type==="one-of"?(c.properties=[{...c,base:"",description:null,enum:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:true,link:null,name:"",template:null,type:""},u],c.export="all-of"):c.properties=[...c.properties,u];}}return c};var K=({debug:e,definition:t,initialValues:r={},isDefinition:n=false,meta:s,openApi:o,parentDefinition:i=null,types:a})=>{let c=Mt(t),m=Fi(t,c),l={$refs:[],base:"unknown",deprecated:!!t.deprecated,description:t.description||null,enum:[],enums:[],exclusiveMaximum:t.exclusiveMaximum,exclusiveMinimum:t.exclusiveMinimum,export:"interface",format:t.format,imports:[],in:"",isDefinition:n,isNullable:Ze(t),isReadOnly:t.readOnly===true,isRequired:false,link:null,maxItems:t.maxItems,maxLength:t.maxLength,maxProperties:t.maxProperties,maximum:t.maximum,meta:s,minItems:t.minItems,minLength:t.minLength,minProperties:t.minProperties,minimum:t.minimum,multipleOf:t.multipleOf,name:s?.name??"",pattern:L(t.pattern),properties:[],template:null,type:"unknown",uniqueItems:t.uniqueItems,...r};if(t.$ref){let f=S({debug:e,type:t.$ref});return l.$refs=[...l.$refs,decodeURIComponent(t.$ref)],l.base=f.base,l.export="reference",l.imports=[...l.imports,...f.imports],l.template=f.template,l.type=f.type,l.default=k(t,l),l}if(m==="enum"){let f=Ft(t,t.enum);if(f.length)return l.base="string",l.enum=[...l.enum,...f],l.export="enum",l.type="string",l.default=k(t,l),l.meta||(l.meta=Dr(l)),l}if(c.includes("array")&&(t.items||t.prefixItems)){if(t.prefixItems){let x=t.prefixItems.map(h=>K({definition:h,openApi:o,parentDefinition:t,types:a}));return l.export="array",l.$refs=[...l.$refs,...x.reduce((h,T)=>[...h,...T.$refs],[])],l.imports=[...l.imports,...x.reduce((h,T)=>[...h,...T.imports],[])],l.link=x,l.default=k(t,l),l}if(!t.items)return l;if(t.items.$ref){let x=S({type:t.items.$ref});return l.$refs=[...l.$refs,decodeURIComponent(t.items.$ref)],l.base=x.base,l.export="array",l.imports=[...l.imports,...x.imports],l.template=x.template,l.type=x.type,l.default=k(t,l),l}if(t.items.anyOf&&i&&i.type){let x=zr(i);if(x&&x.definitions.some(h=>!Mt(h).includes("array")))return K({definition:t.items,openApi:o,parentDefinition:t,types:a})}let f=Array.isArray(t.items)?{anyOf:t.items}:t.items,d=K({definition:f,openApi:o,parentDefinition:t,types:a});return l.base=d.base,l.export="array",l.$refs=[...l.$refs,...d.$refs],l.imports=[...l.imports,...d.imports],l.link=d,l.template=d.template,l.type=d.type,l.default=k(t,l),l}let u=zr(t);if(u){let f=oa({...u,debug:e,definition:t,getModel:K,model:l,openApi:o,types:a});return {...l,...f}}if(c.includes("object")||t.properties||t.additionalProperties){if(t.properties&&(Object.keys(t.properties).length>0||!t.additionalProperties)){if(l.base="unknown",l.export="interface",l.type="unknown",l.default=k(t,l),Xr({debug:e,definition:t,getModel:K,openApi:o,parent:l,types:a}).forEach(x=>{l.$refs=[...l.$refs,...x.$refs],l.enums=[...l.enums,...x.enums],l.imports=[...l.imports,...x.imports],l.properties=[...l.properties,x],x.export==="enum"&&(l.enums=[...l.enums,x]);}),t.additionalProperties){let x=Yn({debug:e,definition:t,getModel:K,model:l,openApi:o,types:a});l.properties=[...l.properties,x];}return !l.properties.length&&l.base==="unknown"&&l.type==="unknown"&&(l.export="dictionary",l.name||(l.name="[key: string]")),l}return Yn({debug:e,definition:t,getModel:K,model:l,openApi:o,types:a})}if(t.const!==undefined){let f=t.const,d=typeof f=="string"?`"${f}"`:`${f}`;return l.base=d,l.export="const",l.type=d,l}if(c.length){let f=S({format:t.format,type:t.type});return l.base=f.base,l.export="generic",l.$refs=[...l.$refs,...f.$refs],l.imports=[...l.imports,...f.imports],l.isNullable=f.isNullable||l.isNullable,l.template=f.template,l.type=f.type,l.default=k(t,l),l}return l};var Gr=e=>{if(e.schema)return e.schema;if(e.content){let t=Object.entries(e.content);for(let[r,n]of t)if(n.schema){let s=r;return e.content[s].schema}}};var ia=e=>{let t={},r=[];return e.components?(Object.entries(e.components.schemas??{}).forEach(([n,s])=>{let o=Mr(n);t[o.name]=o;let i=K({definition:s,isDefinition:true,meta:o,openApi:e,types:t});r=[...r,i];}),Object.entries(e.components.parameters??{}).forEach(([n,s])=>{let o=Gr(s);if(!o)return;let i=Wi(n);t[i.name]=i;let a=K({definition:o,isDefinition:true,meta:i,openApi:e,types:t});a.deprecated=s.deprecated,a.description=s.description||null,r=[...r,a];}),{models:r,types:t}):{models:r,types:t}};var aa=({openApi:e,parameter:t,types:r})=>{let n={$refs:[],base:"unknown",deprecated:t.deprecated===true,description:t.description||null,enum:[],enums:[],export:"interface",imports:[],in:t.in,isDefinition:false,isNullable:Ze(t),isReadOnly:false,isRequired:t.required===true,link:null,mediaType:null,prop:t.name,properties:[],template:null,type:"unknown"},s={...n,name:Vr(n)};if(t.$ref){let i=S({type:t.$ref});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,export:"reference",imports:[...s.imports,...i.imports],template:i.template,type:i.type},s}let o=Gr(t);if(o){if(o.$ref?.startsWith(Dt)&&(o=q(e,o)),o.$ref){let a=S({type:o.$ref});return s={...s,$refs:[...s.$refs,...a.$refs],base:a.base,export:"reference",imports:[...s.imports,...a.imports],template:a.template,type:a.type},s.default=k(o),s}let i=K({definition:o,openApi:e,types:r});return s={...s,$refs:[...s.$refs,...i.$refs],base:i.base,enum:[...s.enum,...i.enum],enums:[...s.enums,...i.enums],exclusiveMaximum:i.exclusiveMaximum,exclusiveMinimum:i.exclusiveMinimum,export:i.export,format:i.format,imports:[...s.imports,...i.imports],isNullable:s.isNullable||i.isNullable,isReadOnly:i.isReadOnly,isRequired:s.isRequired||i.isRequired,link:i.link,maxItems:i.maxItems,maxLength:i.maxLength,maxProperties:i.maxProperties,maximum:i.maximum,minItems:i.minItems,minLength:i.minLength,minProperties:i.minProperties,minimum:i.minimum,multipleOf:i.multipleOf,pattern:L(i.pattern),properties:[...s.properties,...i.properties],template:i.template,type:i.type,uniqueItems:i.uniqueItems},(s.enum.length||s.enums.length)&&!s.meta&&(s.meta=Dr(s)),s.default=i.default,s}return s};var Ml=["cookie","formData","header","path","query"],Jr=({openApi:e,parameters:t,types:r})=>{let n={$refs:[],imports:[],parameters:[],parametersBody:null,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[]};return t.forEach(s=>{let o=q(e,s),i=aa({openApi:e,parameter:o,types:r}),a=!Kr(i);if(!(!Ml.includes(o.in)||a)){switch(o.in){case "cookie":n.parametersCookie=[...n.parametersCookie,i];break;case "formData":n.parametersForm=[...n.parametersForm,i];break;case "header":n.parametersHeader=[...n.parametersHeader,i];break;case "path":n.parametersPath=[...n.parametersPath,i];break;case "query":n.parametersQuery=[...n.parametersQuery,i];break}n.$refs=[...n.$refs,...i.$refs],n.imports=[...n.imports,...i.imports],n.parameters=[...n.parameters,i];}}),n};var Fl=["application/json-patch+json","application/json","application/ld+json","application/x-www-form-urlencoded","multipart/batch","multipart/form-data","multipart/mixed","multipart/related","text/json","text/plain"],Zr=(e,t)=>{let r=Object.keys(t).filter(s=>{let o=s.split(";")[0].trim();return Fl.includes(o)}).find(s=>!!t[s]?.schema);if(r)return {mediaType:r,schema:t[r].schema};let n=Object.keys(t).find(s=>!!t[s]?.schema);if(n)return {mediaType:n,schema:t[n].schema}};var pa=({body:e,debug:t,openApi:r,types:n})=>{let s=e["x-body-name"]??"requestBody",o={$refs:[],base:"unknown",default:undefined,description:e.description||null,enum:[],enums:[],export:"interface",imports:[],in:"body",isDefinition:false,isNullable:e.nullable===true,isReadOnly:false,isRequired:e.required===true,link:null,mediaType:null,name:s,prop:s,properties:[],template:null,type:"unknown"};if(!e.content)return o;let i=Zr(r,e.content);if(!i)return o;switch(o.mediaType=i.mediaType,o.mediaType){case "application/x-www-form-urlencoded":case "multipart/form-data":o.in="formData",o.name="formData",o.prop="formData";break}if(i.schema.$ref){let c=S({type:i.schema.$ref});return o.export="reference",o.type=c.type,o.base=c.base,o.template=c.template,o.$refs=[...o.$refs,...c.$refs],o.imports=[...o.imports,...c.imports],o}let a=K({debug:t,definition:i.schema,openApi:r,types:n});return o.$refs=[...o.$refs,...a.$refs],o.base=a.base,o.enum=[...o.enum,...a.enum],o.enums=[...o.enums,...a.enums],o.exclusiveMaximum=a.exclusiveMaximum,o.exclusiveMinimum=a.exclusiveMinimum,o.export=a.export,o.format=a.format,o.imports=[...o.imports,...a.imports],o.isNullable=o.isNullable||a.isNullable,o.isReadOnly=a.isReadOnly,o.isRequired=o.isRequired||a.isRequired,o.link=a.link,o.maximum=a.maximum,o.maxItems=a.maxItems,o.maxLength=a.maxLength,o.maxProperties=a.maxProperties,o.minimum=a.minimum,o.minItems=a.minItems,o.minLength=a.minLength,o.minProperties=a.minProperties,o.multipleOf=a.multipleOf,o.pattern=L(a.pattern),o.properties=[...o.properties,...a.properties],o.template=a.template,o.type=a.type,o.uniqueItems=a.uniqueItems,o};var ca=({code:e,openApi:t,response:r,types:n})=>{let s={$refs:[],base:e!==204?"unknown":"void",code:e,description:r.description||null,enum:[],enums:[],export:"generic",imports:[],in:"response",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],responseTypes:[],template:null,type:e!==204?"unknown":"void"};if(r.content){let o=Zr(t,r.content);if(o){if(o.schema.$ref?.startsWith("#/components/responses/")&&(o.schema=q(t,o.schema)),o.schema.$ref){let a=S({type:o.schema.$ref});return s.base=a.base,s.export="reference",s.$refs=[...s.$refs,...a.$refs],s.imports=[...s.imports,...a.imports],s.template=a.template,s.type=a.type,s}let i=K({definition:o.schema,openApi:t,types:n});return s.export=i.export,s.type=i.type,s.base=i.base,s.template=i.template,s.link=i.link,s.isReadOnly=i.isReadOnly,s.isRequired=i.isRequired,s.isNullable=i.isNullable,s.format=i.format,s.maximum=i.maximum,s.exclusiveMaximum=i.exclusiveMaximum,s.minimum=i.minimum,s.exclusiveMinimum=i.exclusiveMinimum,s.multipleOf=i.multipleOf,s.maxLength=i.maxLength,s.minLength=i.minLength,s.maxItems=i.maxItems,s.minItems=i.minItems,s.uniqueItems=i.uniqueItems,s.maxProperties=i.maxProperties,s.minProperties=i.minProperties,s.pattern=L(i.pattern),s.$refs=[...s.$refs,...i.$refs],s.imports=[...s.imports,...i.imports],s.enum=[...s.enum,...i.enum],s.enums=[...s.enums,...i.enums],s.properties=[...s.properties,...i.properties],s}}if(r.headers)for(let o in r.headers)return s.in="header",s.name=o,s.type="string",s.base="string",s;return s};var ma=({debug:e,openApi:t,responses:r,types:n})=>{let s=[];return Object.entries(r).forEach(([o,i])=>{let a=Lr(o);if(!a)return;let c=q(t,i),m=ca({code:a,openApi:t,response:c,types:n});s=[...s,m];}),s=Wr(s),s.sort(Br)};var Lt=(e,t)=>{let r=[...e],n=[...t];for(;n.length>0;){let s=n[0];n=n.slice(1),r.every(i=>i.in!==s.in||i.name!==s.name)&&(r=[...r,s]);}return r},la=({debug:e,method:t,op:r,openApi:n,pathParams:s,types:o,url:i})=>{let a={$refs:[],deprecated:!!r.deprecated,description:r.description||null,id:r.operationId||null,imports:[],method:t.toUpperCase(),parameters:[],parametersBody:s.parametersBody,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[],path:i,responseHeader:null,responses:[],summary:r.summary||null,tags:r.tags||null},c={...a,name:Hr({config:b(),method:a.method,operationId:r.operationId,path:a.path})};if(r.parameters){let m=Jr({openApi:n,parameters:r.parameters,types:o});c.$refs=[...c.$refs,...m.$refs],c.imports=[...c.imports,...m.imports],c.parameters=[...c.parameters,...m.parameters],c.parametersBody=m.parametersBody,c.parametersCookie=[...c.parametersCookie,...m.parametersCookie],c.parametersForm=[...c.parametersForm,...m.parametersForm],c.parametersHeader=[...c.parametersHeader,...m.parametersHeader],c.parametersPath=[...c.parametersPath,...m.parametersPath],c.parametersQuery=[...c.parametersQuery,...m.parametersQuery];}if(r.requestBody){let m=q(n,r.requestBody),l=pa({body:m,debug:e,openApi:n,types:o});c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports],c.parameters=[...c.parameters,l],c.parametersBody=l;}if(r.responses){c.responses=ma({openApi:n,responses:r.responses,types:o});let m=c.responses.filter(l=>l.responseTypes.includes("success"));c.responseHeader=Fr(m),m.forEach(l=>{c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports];});}return c.parameters=Lt(c.parameters,s.parameters),c.parametersCookie=Lt(c.parametersCookie,s.parametersCookie),c.parametersForm=Lt(c.parametersForm,s.parametersForm),c.parametersHeader=Lt(c.parametersHeader,s.parametersHeader),c.parametersPath=Lt(c.parametersPath,s.parametersPath),c.parametersQuery=Lt(c.parametersQuery,s.parametersQuery),c.parameters=Qr(c.parameters),c};var ua=({openApi:e,types:t})=>{let r=new Map,n=[];for(let s in e.paths){let o=e.paths[s],i=Jr({openApi:e,parameters:o.parameters??[],types:t});for(let a in o){let c=a,m=Ye({method:c,path:s});if(vr.includes(c)){let l=o[c];if(l.operationId&&(r.has(l.operationId)?console.warn(`\u2757\uFE0F Duplicate operationId: ${l.operationId} in ${m}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(l.operationId,m)),_r({config:b(),operationKey:m})){let u=la({method:c,op:l,openApi:e,pathParams:i,types:t,url:s});n.push(u);}}}}return n};var fa=e=>{let t=e.servers?.[0],r=t?.variables||{},n=t?.url||"";return Object.entries(r).forEach(([s,o])=>{n=n.replace(`{${s}}`,o.default);}),n.replace(/\/$/g,"")};var da=e=>{let t=qr(e.info.version),r=fa(e),{models:n,types:s}=ia(e),o=ua({openApi:e,types:s});return {models:n,operations:o,server:r,types:s,version:t}};function ya({openApi:e}){let t=e;if("openapi"in t)return da(t);if("swagger"in t)return ta(t);throw new Error(`Unsupported OpenAPI specification: ${JSON.stringify(t,null,2)}`)}var ga=({config:e,spec:t})=>{let r=new Ir({config:e,spec:t});if("swagger"in r.spec)return Un(r),r;switch(r.spec.openapi){case "3.0.0":case "3.0.1":case "3.0.2":case "3.0.3":case "3.0.4":return Qn(r),r;case "3.1.0":case "3.1.1":return Xn(r),r;}throw new Error("Unsupported OpenAPI specification")};var Yr="schemas",es=({plugin:e,schema:t})=>{e.type==="form"&&(t.description&&delete t.description,t["x-enum-descriptions"]&&delete t["x-enum-descriptions"],t["x-enum-varnames"]&&delete t["x-enum-varnames"],t["x-enumNames"]&&delete t["x-enumNames"],t.title&&delete t.title);},Bt=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(s=>Bt({context:e,plugin:t,schema:s}));let n=structuredClone(r);if(n.$ref)return n.$ref=decodeURI(n.$ref),n;if(es({plugin:t,schema:n}),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=Bt({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(s=>Bt({context:e,plugin:t,schema:s}))),n.items&&(n.items=Bt({context:e,plugin:t,schema:n.items})),n.properties)for(let s in n.properties){let o=n.properties[s];typeof o!="boolean"&&(n.properties[s]=Bt({context:e,plugin:t,schema:o}));}return n},et=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(s=>et({context:e,plugin:t,schema:s}));let n=structuredClone(r);if("$ref"in n)return n.$ref=decodeURI(n.$ref),n;if(es({plugin:t,schema:n}),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=et({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(s=>et({context:e,plugin:t,schema:s}))),n.anyOf&&(n.anyOf=n.anyOf.map(s=>et({context:e,plugin:t,schema:s}))),n.items&&(n.items=et({context:e,plugin:t,schema:n.items})),n.oneOf&&(n.oneOf=n.oneOf.map(s=>et({context:e,plugin:t,schema:s}))),n.properties)for(let s in n.properties){let o=n.properties[s];typeof o!="boolean"&&(n.properties[s]=et({context:e,plugin:t,schema:o}));}return n},_e=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(s=>_e({context:e,plugin:t,schema:s}));let n=structuredClone(r);if(es({plugin:t,schema:n}),n.$ref&&(n.$ref=decodeURI(n.$ref)),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=_e({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(s=>_e({context:e,plugin:t,schema:s}))),n.anyOf&&(n.anyOf=n.anyOf.map(s=>_e({context:e,plugin:t,schema:s}))),n.items&&(n.items=_e({context:e,plugin:t,schema:n.items})),n.oneOf&&(n.oneOf=n.oneOf.map(s=>_e({context:e,plugin:t,schema:s}))),n.prefixItems&&(n.prefixItems=n.prefixItems.map(s=>_e({context:e,plugin:t,schema:s}))),n.properties)for(let s in n.properties){let o=n.properties[s];typeof o!="boolean"&&(n.properties[s]=_e({context:e,plugin:t,schema:o}));}return n},ts=({name:e,plugin:t,schema:r})=>{let n=t.nameBuilder?.(e,r)??`${e}Schema`;return Sr(n)},Ll=({context:e,plugin:t})=>{if(e.spec.definitions)for(let r in e.spec.definitions){let n=e.spec.definitions[r],s=Bt({context:e,plugin:t,schema:n}),o=p.constVariable({assertion:"const",exportConst:true,expression:p.objectExpression({obj:s}),name:ts({name:r,plugin:t,schema:n})});e.file({id:Yr}).add(o);}},Bl=({context:e,plugin:t})=>{if(e.spec.components)for(let r in e.spec.components.schemas){let n=e.spec.components.schemas[r],s=et({context:e,plugin:t,schema:n}),o=p.constVariable({assertion:"const",exportConst:true,expression:p.objectExpression({obj:s}),name:ts({name:r,plugin:t,schema:n})});e.file({id:Yr}).add(o);}},_l=({context:e,plugin:t})=>{if(e.spec.components)for(let r in e.spec.components.schemas){let n=e.spec.components.schemas[r],s=_e({context:e,plugin:t,schema:n}),o=p.constVariable({assertion:"const",exportConst:true,expression:p.objectExpression({obj:s}),name:ts({name:r,plugin:t,schema:n})});e.file({id:Yr}).add(o);}},ha=({context:e,plugin:t})=>{if(e.createFile({exportFromIndex:t.exportFromIndex,id:Yr,path:t.output}),"swagger"in e.spec){Ll({context:e,plugin:t});return}switch(e.spec.openapi){case "3.0.0":case "3.0.1":case "3.0.2":case "3.0.3":case "3.0.4":Bl({context:e,plugin:t});break;case "3.1.0":case "3.1.1":_l({context:e,plugin:t});break;}};var rs=(e,t)=>{let r=b();if(Array.isArray(e))return e.map(s=>rs(s));if(typeof e!="object"||e===null)return e;let n={...e};return Object.entries(n).forEach(([s,o])=>{if(r.plugins["@hey-api/schemas"]?.type==="form"&&["description","x-enum-descriptions","x-enum-varnames","x-enumNames","title"].includes(s)&&t!=="properties"){delete n[s];return}s==="$ref"&&typeof o=="string"&&(n[s]=decodeURIComponent(o)),o&&typeof o=="object"&&(n[s]=rs(o,s));}),n},Hl=(e,t)=>{let r=b(),n=de(e);return r.plugins["@hey-api/schemas"]?.nameBuilder?r.plugins["@hey-api/schemas"].nameBuilder(n,t):`${n}Schema`},xa=({files:e,openApi:t})=>{let r=b();e.schemas=new Y({dir:r.output.path,name:"schemas.ts"});let n=(s,o)=>{let i=rs(o),a=p.objectExpression({obj:i}),c=p.constVariable({assertion:"const",exportConst:true,expression:a,name:Hl(s,o)});e.schemas.add(c);};"swagger"in t&&Object.entries(t.definitions??{}).forEach(([s,o])=>{n(s,o);}),"openapi"in t&&Object.entries(t.components?.schemas??{}).forEach(([s,o])=>{n(s,o);});};var ns={_handler:ha,_handlerLegacy:xa,name:"@hey-api/schemas",nameBuilder:e=>`${e}Schema`,output:"schemas",type:"json"};var tt=e=>{for(let t in e)if(e[t].required)return  true;return  false},ba=e=>e?!!(tt(e.cookie)||tt(e.header)||tt(e.path)||tt(e.query)):false,Oa=e=>{if(e){for(let t in e.cookie){let r=e.cookie[t];if(r.pagination)return {in:r.location,name:r.pagination===true?t:`${t}.${r.pagination}`,schema:r.pagination===true?r.schema:r.schema.properties[r.pagination]}}for(let t in e.header){let r=e.header[t];if(r.pagination)return {in:r.location,name:r.pagination===true?t:`${t}.${r.pagination}`,schema:r.pagination===true?r.schema:r.schema.properties[r.pagination]}}for(let t in e.path){let r=e.path[t];if(r.pagination)return {in:r.location,name:r.pagination===true?t:`${t}.${r.pagination}`,schema:r.pagination===true?r.schema:r.schema.properties[r.pagination]}}for(let t in e.query){let r=e.query[t];if(r.pagination)return {in:r.location,name:r.pagination===true?t:`${t}.${r.pagination}`,schema:r.pagination===true?r.schema:r.schema.properties[r.pagination]}}}};var je=({schema:e})=>{if(!e.items)return e;let t=[],r=[];for(let n of e.items){if(!n.type&&n.items){t.push(n);continue}if(!n.type||n.type==="boolean"||n.type==="integer"||n.type==="null"||n.type==="number"||n.type==="string"||n.type==="unknown"||n.type==="void"){let s=`${n.$ref??""}${n.type??""}${n.const!==undefined?`const-${n.const}`:""}`;r.includes(s)||(r.push(s),t.push(n));continue}t.push(n);}if(e.items=t,e.items.length<=1&&e.type!=="array"&&e.type!=="enum"&&e.type!=="tuple"){let n=e.items[0];delete e.logicalOperator,delete e.items,e={...e,...n};}return e.type==="unknown"?{}:e};var He=e=>!!(ba(e.parameters)||e.body?.required),Ra=({context:e,operation:t})=>{if(t.body?.pagination){if(typeof t.body.pagination=="boolean")return {in:"body",name:"body",schema:t.body.schema};let r=t.body.schema.$ref?e.resolveIrRef(t.body.schema.$ref):t.body.schema,n="schema"in r?r.schema:r;return {in:"body",name:t.body.pagination,schema:n.properties[t.body.pagination]}}return Oa(t.parameters)},ss=({statusCode:e})=>{switch(e){case "1XX":return "1XX";case "2XX":return "2XX";case "3XX":return "3XX";case "4XX":return "4XX";case "5XX":return "5XX";case "default":return "default";default:return `${e[0]}XX`}},rt=e=>{let t={};if(!e.responses)return t;let r={properties:{},type:"object"},n={properties:{},type:"object"},s;for(let a in e.responses){let c=e.responses[a];switch(ss({statusCode:a})){case "1XX":case "3XX":break;case "2XX":n.properties[a]=c.schema;break;case "4XX":case "5XX":r.properties[a]=c.schema;break;case "default":s=c;break}}if(s){let a=false;Object.keys(n.properties).length||(n.properties.default=s.schema,a=true);let c=(s.schema.description??"").toLocaleLowerCase(),m=(s.schema.$ref??"").toLocaleLowerCase();["success"].some(f=>c.includes(f)||m.includes(f))&&(n.properties.default=s.schema,a=true),["error","problem"].some(f=>c.includes(f)||m.includes(f))&&(r.properties.default=s.schema,a=true),a||(r.properties.default=s.schema);}let o=Object.keys(r.properties);if(o.length){r.required=o,t.errors=r;let a=v({items:Object.values(r.properties),mutateSchemaOneItem:true,schema:{}});a=je({schema:a}),Object.keys(a).length&&a.type!=="unknown"&&(t.error=a);}let i=Object.keys(n.properties);if(i.length){n.required=i,t.responses=n;let a=v({items:Object.values(n.properties),mutateSchemaOneItem:true,schema:{}});a=je({schema:a}),Object.keys(a).length&&a.type!=="unknown"&&(t.response=a);}return t};function Sa(e,t){return {...e,config:t,models:e.models.map(r=>Kl(r)),services:Vl(e.operations).map(Wl),types:{}}}var Kl=e=>({...e,$refs:e.$refs.filter((t,r,n)=>G(t,r,n)),enum:e.enum.filter((t,r,n)=>n.findIndex(s=>s.value===t.value)===r),enums:e.enums.filter((t,r,n)=>n.findIndex(s=>s.name===t.name)===r),imports:e.imports.filter((t,r,n)=>G(t,r,n)&&t!==e.name).sort(At)}),Vl=e=>{let t=b(),r=new Map;return e.forEach(n=>{(n.tags?.length&&(t.plugins["@hey-api/sdk"]?.asClass||w(t))?n.tags.filter(G):["Default"]).forEach(o=>{let i={...n,service:rr(o)},a=r.get(i.service)||Ql(i);a.$refs=[...a.$refs,...i.$refs],a.imports=[...a.imports,...i.imports],a.operations=[...a.operations,i],r.set(i.service,a);});}),Array.from(r.values())},Wl=e=>{let t={...e};return t.operations=Ul(t),t.operations.forEach(r=>{t.imports.push(...r.imports);}),t.imports=t.imports.filter(G).sort(At),t},Ul=e=>{let t=new Map;return e.operations.map(r=>{let n={...r};n.imports.push(...n.parameters.flatMap(a=>a.imports));let s=n.responses.filter(a=>a.responseTypes.includes("success"));n.imports.push(...s.flatMap(a=>a.imports));let o=n.name,i=t.get(o)||0;return i>0&&(n.name=`${o}${i}`),t.set(o,i+1),n})},Ql=e=>({$refs:[],imports:[],name:e.service,operations:[]}),rr=e=>C({case:"PascalCase",value:Xe(e)});var M=({case:e="PascalCase",id:t,type:r})=>{let n="";switch(r){case "data":n="Data";break;case "error":n="Error";break;case "errors":n="Errors";break;case "response":n="Response";break;case "responses":n="Responses";break}return `${vt}${C({case:e,value:t})}-${n}`};var sr="zod",Xl=p.identifier({text:"default"}),zl=p.identifier({text:"intersection"}),Gl=p.identifier({text:"lazy"}),Pa=p.identifier({text:"length"}),en=p.identifier({text:"literal"}),Ia=p.identifier({text:"max"}),Jl=p.identifier({text:"merge"}),Aa=p.identifier({text:"min"}),Zl=p.identifier({text:"optional"}),Yl=p.identifier({text:"readonly"}),eu=p.identifier({text:"regex"}),tu=p.identifier({text:"union"}),F=p.identifier({text:"z"}),os=e=>`z-${e}`,ru=({context:e,result:t,schema:r})=>{let n=p.propertyAccessExpression({expression:F,name:p.identifier({text:r.type})}),s;if(!r.items)s=p.callExpression({functionName:n,parameters:[nr({context:e,schema:{type:"unknown"}})]});else {r=je({schema:r});let o=r.items.map(i=>yt({context:e,result:t,schema:i}));o.length===1?s=p.callExpression({functionName:n,parameters:o}):(r.logicalOperator,s=p.callExpression({functionName:n,parameters:[nr({context:e,schema:{type:"unknown"}})]}));}return r.minItems===r.maxItems&&r.minItems!==undefined?s=p.callExpression({functionName:p.propertyAccessExpression({expression:s,name:Pa}),parameters:[p.valueToExpression({value:r.minItems})]}):(r.minItems!==undefined&&(s=p.callExpression({functionName:p.propertyAccessExpression({expression:s,name:Aa}),parameters:[p.valueToExpression({value:r.minItems})]})),r.maxItems!==undefined&&(s=p.callExpression({functionName:p.propertyAccessExpression({expression:s,name:Ia}),parameters:[p.valueToExpression({value:r.maxItems})]}))),s},nu=({schema:e})=>typeof e.const=="boolean"?p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:en}),parameters:[p.ots.boolean(e.const)]}):p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:e.type})})}),su=({context:e,schema:t})=>{let r=[];for(let s of t.items??[])s.type==="string"&&typeof s.const=="string"&&r.push(p.stringLiteral({text:s.const}));return r.length?p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:t.type})}),parameters:[p.arrayLiteralExpression({elements:r,multiLine:false})]}):nr({context:e,schema:{type:"unknown"}})},ou=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:e.type})})}),iu=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:e.type})})}),au=({schema:e})=>{let t=e.type==="integer"&&e.format==="int64";if(typeof e.const=="number")return p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:en}),parameters:[p.ots.number(e.const)]});let r=p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:t?p.identifier({text:"bigint"}):p.identifier({text:"number"})})});return !t&&e.type==="integer"&&(r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"int"})})})),e.exclusiveMinimum!==undefined?r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"gt"})}),parameters:[p.valueToExpression({value:e.exclusiveMinimum})]}):e.minimum!==undefined&&(r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"gte"})}),parameters:[p.valueToExpression({value:e.minimum})]})),e.exclusiveMaximum!==undefined?r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"lt"})}),parameters:[p.valueToExpression({value:e.exclusiveMaximum})]}):e.maximum!==undefined&&(r=p.callExpression({functionName:p.propertyAccessExpression({expression:r,name:p.identifier({text:"lte"})}),parameters:[p.valueToExpression({value:e.maximum})]})),r},pu=({context:e,result:t,schema:r})=>{let n=[],s=r.required??[];for(let i in r.properties){let a=r.properties[i],c=s.includes(i),m=yt({context:e,optional:!c,result:t,schema:a});we.lastIndex=0;let l=we.test(i)?g__default.default.factory.createNumericLiteral(i):i;(i.match(/^[0-9]/)&&i.match(/\D+/g)||i.match(/\W/g))&&!i.startsWith("'")&&!i.endsWith("'")&&(l=`'${i}'`),n.push(p.propertyAssignment({initializer:m,name:l}));}return p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:r.type})}),parameters:[g__default.default.factory.createObjectLiteralExpression(n,true)]})},cu=({schema:e})=>{if(typeof e.const=="string")return p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:en}),parameters:[p.ots.string(e.const)]});let t=p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:e.type})})});if(e.format)switch(e.format){case "date-time":t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:p.identifier({text:"datetime"})})});break;case "ipv4":case "ipv6":t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:p.identifier({text:"ip"})})});break;case "uri":t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:p.identifier({text:"url"})})});break;case "date":case "email":case "time":case "uuid":t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:p.identifier({text:e.format})})});break}if(e.minLength===e.maxLength&&e.minLength!==undefined?t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:Pa}),parameters:[p.valueToExpression({value:e.minLength})]}):(e.minLength!==undefined&&(t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:Aa}),parameters:[p.valueToExpression({value:e.minLength})]})),e.maxLength!==undefined&&(t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:Ia}),parameters:[p.valueToExpression({value:e.maxLength})]}))),e.pattern){let r=e.pattern.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\f/g,"\\f").replace(/\v/g,"\\v").replace(/'/g,"\\'").replace(/"/g,'\\"');t=p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:eu}),parameters:[p.regularExpressionLiteral({text:r})]});}return t},mu=({context:e,schema:t})=>{if(t.const&&Array.isArray(t.const)){let r=t.const.map(s=>p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:en}),parameters:[p.valueToExpression({value:s})]}));return p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:"tuple"})}),parameters:[p.arrayLiteralExpression({elements:r})]})}return nr({context:e,schema:{type:"unknown"}})},lu=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:e.type})})}),nr=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:e.type})})}),uu=({schema:e})=>p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:p.identifier({text:e.type})})}),Ca=({context:e,result:t,schema:r})=>{switch(r.type){case "array":return ru({context:e,result:t,schema:r});case "boolean":return nu({context:e,schema:r});case "enum":return su({context:e,schema:r});case "integer":case "number":return au({context:e,schema:r});case "never":return ou({context:e,schema:r});case "null":return iu({context:e,schema:r});case "object":return pu({context:e,result:t,schema:r});case "string":return cu({context:e,schema:r});case "tuple":return mu({context:e,schema:r});case "undefined":return lu({context:e,schema:r});case "unknown":return nr({context:e,schema:r});case "void":return uu({context:e,schema:r})}},fu=({context:e,operation:t,result:r})=>{if(t.responses){let{response:n}=rt(t);n&&yt({$ref:M({case:"camelCase",id:t.id,type:"response"}),context:e,result:r,schema:n});}},yt=({$ref:e,context:t,optional:r,result:n,schema:s})=>{let o=t.file({id:sr}),i,a;if(e&&(n.circularReferenceTracker.add(e),a=o.identifier({$ref:e,create:true,nameTransformer:os,namespace:"value"})),s.$ref){let c=n.circularReferenceTracker.has(s.$ref),m=o.identifier({$ref:s.$ref,nameTransformer:os,namespace:"value"});if(!m.name){let l=t.resolveIrRef(s.$ref);i=yt({context:t,result:n,schema:l}),m=o.identifier({$ref:s.$ref,nameTransformer:os,namespace:"value"});}if(m.name){let l=p.identifier({text:m.name});c?(i=p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:Gl}),parameters:[p.arrowFunction({statements:[p.returnStatement({expression:l})]})]}),n.hasCircularReference=true):i=l;}}else if(s.type)i=Ca({context:t,result:n,schema:s});else if(s.items)if(s=je({schema:s}),s.items){let c=s.items.map(m=>yt({context:t,result:n,schema:m}));if(s.logicalOperator==="and"){let m=s.items[0];m.logicalOperator==="or"||m.type&&m.type!=="object"?i=p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:zl}),parameters:c}):(i=c[0],c.slice(1).forEach(l=>{i=p.callExpression({functionName:p.propertyAccessExpression({expression:i,name:Jl}),parameters:[l]});}));}else i=p.callExpression({functionName:p.propertyAccessExpression({expression:F,name:tu}),parameters:[p.arrayLiteralExpression({elements:c})]});}else i=yt({context:t,result:n,schema:s});else i=Ca({context:t,result:n,schema:{type:"unknown"}});if(e&&n.circularReferenceTracker.delete(e),i&&(s.accessScope==="read"&&(i=p.callExpression({functionName:p.propertyAccessExpression({expression:i,name:Yl})})),r&&(i=p.callExpression({functionName:p.propertyAccessExpression({expression:i,name:Zl})})),s.default!==undefined)){let c=p.valueToExpression({value:s.default});c&&(i=p.callExpression({functionName:p.propertyAccessExpression({expression:i,name:Xl}),parameters:[c]}));}if(a?.name){let c=p.constVariable({exportConst:true,expression:i,name:a.name,typeName:n.hasCircularReference?p.propertyAccessExpression({expression:F,name:"ZodTypeAny"}):undefined});o.add(c);}return i},Ea=({context:e,plugin:t})=>{e.createFile({exportFromIndex:t.exportFromIndex,id:sr,identifierCase:"camelCase",path:t.output}).import({module:"zod",name:"z"}),e.subscribe("operation",({operation:n})=>{fu({context:e,operation:n,result:{circularReferenceTracker:new Set,hasCircularReference:false}});}),e.subscribe("schema",({$ref:n,schema:s})=>{yt({$ref:n,context:e,result:{circularReferenceTracker:new Set,hasCircularReference:false},schema:s});});};var du=({dataExpression:e})=>{let t=e!==undefined?p.callExpression({functionName:"BigInt",parameters:[p.callExpression({functionName:p.propertyAccessExpression({expression:e,name:"toString"})})]}):undefined;if(t){if(typeof e=="string")return [t];if(e)return [p.assignment({left:e,right:t})]}return []},yu=({dataExpression:e})=>{let t=p.identifier({text:"Date"});return typeof e=="string"?[p.newExpression({argumentsArray:[p.identifier({text:e})],expression:t})]:e?[p.assignment({left:e,right:p.newExpression({argumentsArray:[e],expression:t})})]:[]},rn=({id:e,type:t})=>{let r="";switch(t){case "data":r="DataResponseTransformer";break;case "error":r="ErrorResponseTransformer";break;case "response":r="ResponseTransformer";break}return `${vt}${C({case:"camelCase",value:e})}${r}`},gu=({$ref:e,type:t})=>{let r="";switch(t){case "response":r="SchemaResponseTransformer";break}let n=e.split("/");return `${n.slice(0,n.length-1).join("/")}/${C({case:"camelCase",value:n[n.length-1]})}${r}`},ja=({$ref:e})=>gu({$ref:e,type:"response"}),ar="transformers",nn="data",or=e=>e.map(t=>g__default.default.isStatement(t)?t:p.expressionToStatement({expression:t})),hu=({node:e})=>e.kind===g__default.default.SyntaxKind.ReturnStatement,va=({context:e,plugin:t,schema:r})=>{let n=p.identifier({text:nn}),s=ir({context:e,dataExpression:n,plugin:t,schema:r});return s.length&&!hu({node:s[s.length-1]})&&s.push(p.returnStatement({expression:n})),s},ir=({context:e,dataExpression:t,plugin:r,schema:n})=>{let s=e.file({id:ar});if(n.$ref){let o=s.identifier({$ref:ja({$ref:n.$ref}),create:true,namespace:"value"});if(o.created&&o.name){let i=e.resolveIrRef(n.$ref),a=va({context:e,plugin:r,schema:i});if(a.length){let c=p.constVariable({expression:p.arrowFunction({async:false,multiLine:true,parameters:[{name:nn,type:p.keywordTypeNode({keyword:"any"})}],statements:or(a)}),name:o.name});s.add(c);}else o=s.blockIdentifier({$ref:ja({$ref:n.$ref}),namespace:"value"});}if(o.name){let i=p.callExpression({functionName:o.name,parameters:[t]});if(t)return [typeof t=="string"?i:p.assignment({left:t,right:i})]}return []}if(n.type==="array"){if(!t||typeof t=="string")return [];let o=n.items?ir({context:e,plugin:r,schema:{...n,type:undefined}}):[];return o.length?[p.assignment({left:t,right:p.callExpression({functionName:p.propertyAccessExpression({expression:t,name:"map"}),parameters:[p.arrowFunction({multiLine:true,parameters:[{name:"item",type:"any"}],statements:o.length===1?g__default.default.isStatement(o[0])?[]:[p.returnStatement({expression:o[0]})]:or(o)})]})})]:[]}if(n.type==="object"){let o=[],i=n.required??[];for(let a in n.properties){let c=n.properties[a],m=p.propertyAccessExpression({expression:t||nn,name:a}),l=ir({context:e,dataExpression:m,plugin:r,schema:c});l.length&&(i.includes(a)?o=o.concat(l):o.push(p.ifStatement({expression:m,thenStatement:p.block({statements:or(l)})})));}return o.length&&o.push(p.returnStatement({expression:typeof t=="string"?p.identifier({text:t}):t})),o}if(r.dates&&n.type==="string"&&(n.format==="date"||n.format==="date-time"))return yu({dataExpression:t});if(r.bigInt&&n.type==="integer"&&n.format==="int64")return du({dataExpression:t});if(n.items){if(n.items.length===1)return ir({context:e,dataExpression:"item",plugin:r,schema:n.items[0]});let o=[];if(n.logicalOperator==="and"||n.items.length===2&&n.items.find(i=>i.type==="null"||i.type==="void")){for(let i of n.items){let a=ir({context:e,dataExpression:t||"item",plugin:r,schema:i});if(a.length)if(t)o=o.concat(a);else {let c=p.identifier({text:"item"});o.push(p.ifStatement({expression:c,thenStatement:p.block({statements:a.length===1?g__default.default.isStatement(a[0])?[]:[p.returnStatement({expression:a[0]})]:or(a)})}),p.returnStatement({expression:c}));}}return o}n.type!=="enum"&&console.warn(`\u2757\uFE0F Transformers warning: schema ${JSON.stringify(n)} is too complex and won't be currently processed. This will likely produce an incomplete transformer which is not what you want. Please open an issue if you'd like this improved https://github.com/hey-api/openapi-ts/issues`);}return []},qa=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:ar,path:t.output});e.subscribe("operation",({operation:n})=>{let{response:s}=rt(n);if(!s)return;if(s.items&&s.items.length>1){e.config.logs.level==="debug"&&console.warn(`\u2757\uFE0F Transformers warning: route ${`${n.method.toUpperCase()} ${n.path}`} has ${s.items.length} non-void success responses. This is currently not handled and we will not generate a response transformer. Please open an issue if you'd like this feature https://github.com/hey-api/openapi-ts/issues`);return}let o=e.file({id:"types"}).identifier({$ref:M({id:n.id,type:"response"}),namespace:"type"});if(!o.name)return;let i=r.identifier({$ref:rn({id:n.id,type:"response"}),create:true,namespace:"value"});if(!i.name)return;let a=va({context:e,plugin:t,schema:s});if(a.length){r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:o.name});let c=p.constVariable({exportConst:true,expression:p.arrowFunction({async:true,multiLine:true,parameters:[{name:nn,type:p.keywordTypeNode({keyword:"any"})}],returnType:p.typeReferenceNode({typeArguments:[p.typeReferenceNode({typeName:o.name})],typeName:"Promise"}),statements:or(a)}),name:i.name});r.add(c);}else i=r.blockIdentifier({$ref:rn({id:n.id,type:"response"}),namespace:"value"});});};var Ke="types";function is(e,t){return {...e,get name(){return t?.(e),e.name}}}var ka=({context:e,file:t,operation:r})=>{let n=e.file({id:"types"}).identifier({$ref:M({id:r.id,type:"data"}),namespace:"type"});return is(n,s=>{s.name&&t.import({asType:true,module:t.relativePathToFile({context:e,id:"types"}),name:s.name});})},sn=({context:e,file:t,operation:r})=>{let n=e.file({id:"types"}).identifier({$ref:M({id:r.id,type:"error"}),namespace:"type"});return is(n,s=>{s.name&&t.import({asType:true,module:t.relativePathToFile({context:e,id:"types"}),name:s.name});})},on=({context:e,file:t,operation:r})=>{let n=e.file({id:"types"}).identifier({$ref:M({id:r.id,type:"response"}),namespace:"type"});return is(n,s=>{s.name&&t.import({asType:true,module:t.relativePathToFile({context:e,id:"types"}),name:s.name});})};var gt=({meta:e,onImport:t,...r})=>{if(!e)return {created:false,name:""};let{created:n,name:s}=le({meta:e,...r});return s&&t(s),{created:n,name:s}},Ma=e=>`${e}ModelResponseTransformer`,ht=e=>`${C({case:"PascalCase",value:e})}Data`,_t=e=>`${C({case:"PascalCase",value:e})}Error`,as=e=>`${e}Transformer`,ve=e=>`${C({case:"PascalCase",value:e})}Response`,ps=({importedType:e,throwOnError:t})=>{let r=D.OptionsLegacyParser.name;return t?`${r}<${e||"unknown"}, ${t}>`:e?`${r}<${e}>`:r},wa=(e,t)=>{let r=b(),{name:n}=le({client:e,meta:{$ref:t.name,name:t.name},nameTransformer:ht}),s=Ee(t.parameters);if(!I(r))return [{isRequired:s,name:"options",type:ps({importedType:n,throwOnError:"ThrowOnError"})}];if(!t.parameters.length)return [];let o=i=>{if(i.default!==undefined)return JSON.stringify(i.default,null,4)};return r.useOptions?[{default:s?undefined:{},name:"data",type:n}]:t.parameters.map(i=>{let a=`${n}['${i.name}']`;return {default:i?.default,isRequired:(!i.isRequired&&!o(i)?"?":"")=="",name:i.name,type:a}})},Na=(e,t)=>{let r=b(),n=p.typeNode("void");if(t.responses.filter(o=>o.responseTypes.includes("success")).length){let{name:o}=le({client:e,meta:{$ref:t.name,name:t.name},nameTransformer:ve});n=p.typeUnionNode({types:[o]});}return r.useOptions&&r.plugins["@hey-api/sdk"]?.response==="response"&&(n=p.typeNode("ApiResult",[n])),r.client.name==="legacy/angular"?n=p.typeNode("Observable",[n]):n=p.typeNode("CancelablePromise",[n]),n},$a=e=>{let t=b();if(!I(t))return [e.deprecated&&"@deprecated",e.summary&&E(e.summary),e.description&&E(e.description)];let r=[];e.parameters.length&&(t.useOptions?r=["@param data The data for the request.",...e.parameters.map(o=>`@param data.${o.name} ${o.description?E(o.description):""}`)]:r=e.parameters.map(o=>`@param ${o.name} ${o.description?E(o.description):""}`));let n=e.responses.filter(o=>o.responseTypes.includes("success"));return [e.deprecated&&"@deprecated",e.summary&&E(e.summary),e.description&&E(e.description),...r,...n.map(o=>`@returns ${o.type} ${o.description?E(o.description):""}`),"@throws ApiError"]},xu=({client:e,onClientImport:t,onImport:r,operation:n})=>{let s=b(),o=ve(n.name),{name:i}=le({client:e,meta:{$ref:`transformers/${o}`,name:o},nameTransformer:as});if(i&&r(i),!I(s)){let l=[{spread:"options"}],f=n.parameters.filter(d=>d.in==="body"||d.in==="formData").map(d=>d.mediaType||(d.in==="formData"?"multipart/form-data":undefined)).filter(Boolean).filter(G);return f.length===1&&(f[0]==="multipart/form-data"&&(l=[...l,{spread:"formDataBodySerializer"},{key:"headers",value:[{key:"Content-Type",value:null},{spread:"options?.headers"}]}],t?.("formDataBodySerializer")),f[0]==="application/x-www-form-urlencoded"&&(l=[...l,{spread:"urlSearchParamsBodySerializer"},{key:"headers",value:[{key:"Content-Type",value:f[0]},{spread:"options?.headers"}]}],t?.("urlSearchParamsBodySerializer"))),l=[...l,{key:"url",value:n.path}],i&&(l=[...l,{key:"responseTransformer",value:i}]),p.objectExpression({identifiers:["responseTransformer"],obj:l})}let a=l=>l.reduce((u,f)=>{let d=f.prop,x=s.useOptions?`data.${f.name}`:f.name;return d===x?u[d]=d:ie(d)===d?u[d]=x:u[`'${d}'`]=x,u},{}),c={method:n.method,url:n.path};n.parametersPath.length&&(c.path=a(n.parametersPath)),n.parametersCookie.length&&(c.cookies=a(n.parametersCookie)),n.parametersHeader.length&&(c.headers=a(n.parametersHeader)),n.parametersQuery.length&&(c.query=a(n.parametersQuery)),n.parametersForm.length&&(c.formData=a(n.parametersForm)),n.parametersBody&&(n.parametersBody.in==="formData"&&(s.useOptions?c.formData=`data.${n.parametersBody.name}`:c.formData=n.parametersBody.name),n.parametersBody.in==="body"&&(s.useOptions?c.body=`data.${n.parametersBody.name}`:c.body=n.parametersBody.name)),n.parametersBody?.mediaType&&(c.mediaType=n.parametersBody?.mediaType),n.responseHeader&&(c.responseHeader=n.responseHeader),i&&(c.responseTransformer=i);let m=n.responses.filter(l=>l.responseTypes.includes("error"));if(m.length>0){let l={};m.forEach(u=>{l[u.code]=u.description??"";}),c.errors=l;}return p.objectExpression({identifiers:["body","cookies","formData","headers","path","query","responseTransformer"],obj:c,shorthand:true})},N=({config:e,handleIllegal:t,id:r,operation:n})=>e.plugins["@hey-api/sdk"]?.methodNameBuilder?e.plugins["@hey-api/sdk"].methodNameBuilder(n):t&&r.match(oe)?`${r}_`:r,Da=({client:e,onClientImport:t,onImport:r,operation:n})=>{let s=b(),o=xu({client:e,onClientImport:t,onImport:r,operation:n});if(!I(s)){let i=le({client:e,meta:{$ref:n.name,name:n.name},nameTransformer:_t}).name,c=n.responses.filter(m=>m.responseTypes.includes("success")).length?le({client:e,meta:{$ref:n.name,name:n.name},nameTransformer:ve}).name:"void";return [p.returnFunctionCall({args:[o],name:`(options?.client ?? client).${n.method.toLocaleLowerCase()}`,types:i&&c?[c,i,"ThrowOnError"]:i?["unknown",i,"ThrowOnError"]:c?[c,"unknown","ThrowOnError"]:[]})]}return w(s)?[p.returnFunctionCall({args:[o],name:"this.httpRequest.request"})]:s.client.name==="legacy/angular"?[p.returnFunctionCall({args:["OpenAPI","this.http",o],name:"__request"})]:[p.returnFunctionCall({args:["OpenAPI",o],name:"__request"})]},bu=({client:e,onClientImport:t,onImport:r,onNode:n,plugin:s,service:o})=>{let i=b(),a=I(i);for(let u of o.operations)u.parameters.length&&gt({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:ht,onImport:r}),a||gt({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:_t,onImport:r}),u.responses.filter(d=>d.responseTypes.includes("success")).length&&gt({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:ve,onImport:r});let c={default:s.throwOnError,extends:"boolean",name:"ThrowOnError"};if(!i.plugins["@hey-api/sdk"]?.asClass&&!w(i)){for(let u of o.operations){let f={parameters:wa(e,u),returnType:a?Na(e,u):undefined,statements:Da({client:e,onClientImport:t,onImport:r,operation:u}),types:a?undefined:[c]},d=i.client.name==="legacy/angular"?p.anonymousFunction(f):p.arrowFunction(f),x=p.constVariable({comment:$a(u),exportConst:true,expression:d,name:N({config:i,handleIllegal:true,id:u.name,operation:u})});n(x);}return}let m=o.operations.map(u=>p.methodDeclaration({accessLevel:"public",comment:$a(u),isStatic:w(i)===undefined&&i.client.name!=="legacy/angular",name:N({config:i,id:u.name,operation:u}),parameters:wa(e,u),returnType:a?Na(e,u):undefined,statements:Da({client:e,onClientImport:t,onImport:r,operation:u}),types:a?undefined:[c]}));if(!m.length)return;w(i)?m=[p.constructorDeclaration({multiLine:false,parameters:[{accessLevel:"public",isReadOnly:true,name:"httpRequest",type:"BaseHttpRequest"}]}),...m]:i.client.name==="legacy/angular"&&(m=[p.constructorDeclaration({multiLine:false,parameters:[{accessLevel:"public",isReadOnly:true,name:"http",type:"HttpClient"}]}),...m]);let l=p.classDeclaration({decorator:i.client.name==="legacy/angular"?{args:[{providedIn:"root"}],name:"Injectable"}:undefined,members:m,name:Ie({config:i,name:o.name})});n(l);},Fa=({client:e,files:t,plugin:r})=>{let n=b();if(!n.client.name)throw new Error("\u{1F6AB} client needs to be set to generate SDKs - which HTTP client do you want to use?");let s=I(n),o="sdk";if(t.sdk=new Y({dir:n.output.path,name:`${o}.ts`}),s?(n.client.name==="legacy/angular"?(t.sdk.import({module:"@angular/core",name:"Injectable"}),w(n)||t.sdk.import({module:"@angular/common/http",name:"HttpClient"}),t.sdk.import({asType:true,module:"rxjs",name:"Observable"})):t.sdk.import({asType:true,module:"./core/CancelablePromise",name:"CancelablePromise"}),n.plugins["@hey-api/sdk"]?.response==="response"&&t.sdk.import({asType:true,module:"./core/ApiResult",name:"ApiResult"}),w(n)?t.sdk.import({asType:n.client.name!=="legacy/angular",module:"./core/BaseHttpRequest",name:"BaseHttpRequest"}):(t.sdk.import({module:"./core/OpenAPI",name:"OpenAPI"}),t.sdk.import({alias:"__request",module:"./core/request",name:"request"}))):(t.sdk.import({module:ne({config:n,sourceOutput:o}),name:"createClient"}),t.sdk.import({module:ne({config:n,sourceOutput:o}),name:"createConfig"}),t.sdk.import({...D.OptionsLegacyParser,module:ne({config:n,sourceOutput:o})})),!s){let i=p.constVariable({exportConst:true,expression:p.callExpression({functionName:"createClient",parameters:[p.callExpression({functionName:"createConfig",parameters:[r.throwOnError?p.objectExpression({obj:[{key:"throwOnError",value:r.throwOnError}]}):undefined]})]}),name:"client"});t.sdk.add(i);}for(let i of e.services)bu({client:e,onClientImport:a=>{t.sdk.import({module:ne({config:n,sourceOutput:o}),name:a});},onImport:a=>{t.sdk.import({asType:!a.endsWith("Transformer"),module:`./${t.types.nameWithoutExtension()}`,name:a});},onNode:a=>{t.sdk.add(a);},plugin:r,service:i});};var an=({context:e,file:t,operation:r,throwOnError:n})=>{let s=ka({context:e,file:t,operation:r}),o=D.Options.name;return n?`${o}<${s?.name||"unknown"}, ${n}>`:s?`${o}<${s.name}>`:o},pn="sdk",Ou=e=>{if(!e)return;let t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return "json";if(["application/","audio/","image/","video/"].some(r=>t.startsWith(r)))return "blob";if(t.startsWith("text/"))return "text"}},Ru=({securitySchemeObject:e})=>{if(e.type==="oauth2")return e.flows.password?{scheme:"bearer",type:"http"}:undefined;if(e.type==="apiKey")return e.in==="header"?{name:e.name,type:"apiKey"}:e.in==="query"?{in:e.in,name:e.name,type:"apiKey"}:undefined;if(e.type==="http")return e.scheme==="bearer"||e.scheme==="basic"?{scheme:e.scheme,type:"http"}:undefined},Su=({operation:e,plugin:t})=>{if(!e.security||!t.auth)return [];let r=[];for(let n of e.security){let s=Ru({securitySchemeObject:n});s?r.push(s):console.warn(`\u2757\uFE0F SDK warning: unsupported security scheme. Please open an issue if you'd like it added https://github.com/hey-api/openapi-ts/issues
${JSON.stringify(n,null,2)}`);}return r},La=({context:e,operation:t,plugin:r})=>{let n=e.file({id:pn}),s=n.nameWithoutExtension(),o=sn({context:e,file:n,operation:t}),i=on({context:e,file:n,operation:t}),a=[{spread:"options"}];if(t.body){switch(t.body.type){case "form-data":a.push({spread:"formDataBodySerializer"}),n.import({module:ne({config:e.config,sourceOutput:s}),name:"formDataBodySerializer"});break;case "json":break;case "url-search-params":a.push({spread:"urlSearchParamsBodySerializer"}),n.import({module:ne({config:e.config,sourceOutput:s}),name:"urlSearchParamsBodySerializer"});break}a.push({key:"headers",value:[{key:"Content-Type",value:t.body.type==="form-data"?null:t.body.mediaType},{spread:"options?.headers"}]});}if(e.config.client.name==="@hey-api/client-axios"){for(let m in t.responses)if(ss({statusCode:m})==="2XX"){let l=t.responses[m],u=Ou(l?.mediaType);u&&u!=="json"&&a.push({key:"responseType",value:u});}}let c=Su({context:e,operation:t,plugin:r});c.length&&a.push({key:"security",value:p.arrayLiteralExpression({elements:c})});for(let m in t.parameters?.query){let l=t.parameters.query[m];if((l.schema.type==="array"||l.schema.type==="tuple")&&(l.style!=="form"||!l.explode)){a.push({key:"querySerializer",value:[{key:"array",value:[{key:"explode",value:false},{key:"style",value:"form"}]}]});break}}if(r.transformer==="@hey-api/transformers"){let m=e.file({id:ar}).identifier({$ref:rn({id:t.id,type:"response"}),namespace:"value"});m.name&&(n.import({module:n.relativePathToFile({context:e,id:ar}),name:m.name}),a.push({key:"responseTransformer",value:m.name}));}if(r.validator==="zod"){let m=e.file({id:sr}).identifier({$ref:M({case:"camelCase",id:t.id,type:"response"}),namespace:"value"});m.name&&(n.import({module:n.relativePathToFile({context:e,id:sr}),name:m.name}),a.push({key:"responseValidator",value:p.arrowFunction({async:true,parameters:[{name:"data"}],statements:[p.returnStatement({expression:p.awaitExpression({expression:p.callExpression({functionName:p.propertyAccessExpression({expression:p.identifier({text:m.name}),name:p.identifier({text:"parseAsync"})}),parameters:[p.identifier({text:"data"})]})})})]})}));}return a.push({key:"url",value:t.path}),[p.returnFunctionCall({args:[p.objectExpression({identifiers:["responseTransformer"],obj:a})],name:`(options?.client ?? client).${t.method}`,types:[i.name||"unknown",o.name||"unknown","ThrowOnError"]})]},Tu=({context:e,plugin:t})=>{let r=e.file({id:pn}),n=new Map;e.subscribe("operation",({operation:s})=>{let o=p.methodDeclaration({accessLevel:"public",comment:[s.deprecated&&"@deprecated",s.summary&&E(s.summary),s.description&&E(s.description)],isStatic:true,name:N({config:e.config,handleIllegal:false,id:s.id,operation:s}),parameters:[{isRequired:He(s),name:"options",type:an({context:e,file:r,operation:s,throwOnError:"ThrowOnError"})}],returnType:undefined,statements:La({context:e,operation:s,plugin:t}),types:[{default:t.throwOnError,extends:"boolean",name:"ThrowOnError"}]}),i=Array.from(new Set(s.tags));i.length||i.push("default");for(let a of i){let c=rr(a),m=n.get(c)??[];m.push(o),n.set(c,m);}}),e.subscribe("after",()=>{for(let[s,o]of n){let i=p.classDeclaration({decorator:undefined,members:o,name:Ie({config:e.config,name:s})});r.add(i);}});},Cu=({context:e,plugin:t})=>{let r=e.file({id:pn});e.subscribe("operation",({operation:n})=>{let s=p.constVariable({comment:[n.deprecated&&"@deprecated",n.summary&&E(n.summary),n.description&&E(n.description)],exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:He(n),name:"options",type:an({context:e,file:r,operation:n,throwOnError:"ThrowOnError"})}],returnType:undefined,statements:La({context:e,operation:n,plugin:t}),types:[{default:t.throwOnError,extends:"boolean",name:"ThrowOnError"}]}),name:N({config:e.config,handleIllegal:true,id:n.id,operation:n})});r.add(s);});},Ba=({context:e,plugin:t})=>{if(!e.config.client.name)throw new Error("\u{1F6AB} client needs to be set to generate SDKs - which HTTP client do you want to use?");let r=e.createFile({exportFromIndex:t.exportFromIndex,id:pn,path:t.output}),n=r.nameWithoutExtension(),s=ne({config:e.config,sourceOutput:n});r.import({module:s,name:"createClient"}),r.import({module:s,name:"createConfig"}),r.import({...D.Options,module:s});let o=p.constVariable({exportConst:true,expression:p.callExpression({functionName:"createClient",parameters:[p.callExpression({functionName:"createConfig",parameters:[t.throwOnError?p.objectExpression({obj:[{key:"throwOnError",value:t.throwOnError}]}):undefined]})]}),name:"client"});r.add(o),t.asClass?Tu({context:e,plugin:t}):Cu({context:e,plugin:t});};var cs={_dependencies:["@hey-api/typescript"],_handler:Ba,_handlerLegacy:Fa,_infer:(e,t)=>{e.transformer&&(typeof e.transformer=="boolean"&&(e.transformer=t.pluginByTag("transformer")),t.ensureDependency(e.transformer)),e.validator&&(typeof e.validator=="boolean"&&(e.validator=t.pluginByTag("validator")),t.ensureDependency(e.validator));},asClass:false,auth:true,exportFromIndex:true,name:"@hey-api/sdk",operationId:true,output:"sdk",response:"body",serviceNameBuilder:"{{name}}Service",throwOnError:false};var Pu="$OpenApiTs",V={$refs:[],base:"",description:null,enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],template:null,type:""},Iu=({comments:e,leadingComment:t,meta:r,obj:n,onNode:s,...o})=>{if(!r)return;let{created:i,name:a}=le({create:true,meta:r,...o});if(i){let c=p.enumDeclaration({comments:e,leadingComment:t,name:a,obj:n});s(c);}},Ve=({comment:e,meta:t,onCreated:r,onNode:n,type:s,...o})=>{if(!t)return {created:false,name:""};let i=le({create:true,meta:t,...o}),{created:a,name:c}=i;if(a){let m=p.typeAliasDeclaration({comment:e,exportType:true,name:c,type:s});n(m),r?.(c);}return i},Au=e=>{let t=b(),r=[];Ha(e),e.model.enums.forEach(n=>t.plugins["@hey-api/typescript"]?.enums!=="typescript+namespace"?_a({...e,model:n}):Eu({...e,model:n,onNode:s=>{r.push(s);}})),r.length&&e.onNode(p.namespaceDeclaration({name:e.model.name,statements:r}));},_a=({client:e,model:t,onNode:r})=>{let n=b(),s={},o={};t.enum.forEach(a=>{let{key:c,value:m}=$r(a);s[c]=m;let l=a.customDescription||a.description;l&&(o[c]=[E(l)]);});let i=[t.description&&E(t.description),t.deprecated&&"@deprecated"];if(n.plugins["@hey-api/typescript"]?.enums==="typescript"||n.plugins["@hey-api/typescript"]?.enums==="typescript+namespace"){Iu({client:e,comments:o,leadingComment:i,meta:t.meta,obj:s,onNode:r});return}Ve({client:e,comment:i,meta:t.meta,onCreated:a=>{if(n.plugins["@hey-api/typescript"]?.enums==="javascript"){let c=p.objectExpression({multiLine:true,obj:Object.entries(s).map(([l,u])=>({comments:o[l],key:l,value:u})),unescape:true}),m=p.constVariable({assertion:"const",comment:i,exportConst:true,expression:c,name:a});r(m);}},onNode:r,type:Vi(t.enum)});},Eu=({model:e,onNode:t})=>{let r={},n={};e.enum.forEach(s=>{let{key:o,value:i}=$r(s);r[o]=i;let a=s.customDescription||s.description;a&&(n[o]=[E(a)]);}),t(p.enumDeclaration({comments:n,leadingComment:[e.description&&E(e.description),e.deprecated&&"@deprecated"],name:e.meta?.name||e.name,obj:r}));},Ha=({client:e,model:t,onNode:r})=>{Ve({client:e,comment:[t.description&&E(t.description),t.deprecated&&"@deprecated"],meta:t.meta,onNode:r,type:me(t)});},ju=e=>{switch(e.model.export){case "all-of":case "any-of":case "one-of":case "interface":return Au(e);case "enum":return _a(e);default:return Ha(e)}},vu=({client:e,onNode:t})=>{let r={},n=b();if(!n.plugins["@hey-api/sdk"]&&!n.plugins["@hey-api/typescript"]?.tree)return;let s=I(n);for(let i of e.services)for(let a of i.operations){if(!a.parameters.length&&!a.responses.length)continue;r[a.path]||(r[a.path]={});let c=r[a.path];c[a.method]||(c[a.method]={});let m=c[a.method];if(m.$ref=a.name,a.responses.length>0){if(m.res||(m.res={}),Array.isArray(m.res))continue;a.responses.forEach(u=>{m.res[u.code]=u;});}if(a.parameters.length>0){let u={mediaType:null,...V,in:"body",name:"body",prop:"body"},f=a.parameters.filter(O=>O.in==="body");f.length||(f=a.parameters.filter(O=>O.in==="formData")),f.length===1?u={...V,...f[0],in:"body",isRequired:f[0].isRequired,name:"body",prop:"body"}:f.length>1&&(u={...V,in:"body",isRequired:f.some(O=>O.isRequired),mediaType:"multipart/form-data",name:"body",prop:"body",properties:f});let d={...V,in:"header",isRequired:Ee(a.parameters.filter(O=>O.in==="header")),mediaType:null,name:s?"header":"headers",prop:s?"header":"headers",properties:a.parameters.filter(O=>O.in==="header").sort(zt)},x={...V,in:"path",isRequired:Ee(a.parameters.filter(O=>O.in==="path")),mediaType:null,name:"path",prop:"path",properties:a.parameters.filter(O=>O.in==="path").sort(zt)},h={...V,in:"query",isRequired:Ee(a.parameters.filter(O=>O.in==="query")),mediaType:null,name:"query",prop:"query",properties:a.parameters.filter(O=>O.in==="query").sort(zt)},T=s?Gt([...a.parameters]):[u,d,x,h].filter(O=>O.properties.length||O.$refs.length||O.mediaType);m.req=T,Ve({client:e,meta:{$ref:a.name,name:a.name},nameTransformer:ht,onNode:t,type:me({...V,isRequired:true,properties:T})});}let l=a.responses.filter(u=>u.responseTypes.includes("success"));if(l.length>0){Ve({client:e,meta:{$ref:a.name,name:a.name},nameTransformer:ve,onNode:t,type:me({...V,export:"any-of",isRequired:true,properties:l})});let u=a.responses.filter(f=>f.responseTypes.includes("error"));s||Ve({client:e,meta:{$ref:a.name,name:a.name},nameTransformer:_t,onNode:t,type:me(u.length?{...V,export:"one-of",isRequired:true,properties:u}:{...V,base:"unknown",isRequired:true,type:"unknown"})});}}let o=Object.entries(r).map(([i,a])=>{let c=Object.entries(a).map(([l,u])=>{let f=l,d=[];if(u.req){let h=u.$ref,{name:T}=le({client:e,meta:{$ref:h,name:h},nameTransformer:ht}),O={...V,base:T,export:"reference",isRequired:true,name:"req",properties:[],type:T};d=[...d,O];}if(u.res){let h=Object.entries(u.res).map(([O,$])=>({...V,...$,isRequired:true,name:String(O)})),T={...V,isRequired:true,name:"res",properties:h};d=[...d,T];}return {...V,isRequired:true,name:f.toLocaleLowerCase(),properties:d}}).filter(Boolean);return {...V,isRequired:true,name:`'${i}'`,properties:c}});n.plugins["@hey-api/typescript"]?.tree&&Ve({client:e,meta:{$ref:"@hey-api/openapi-ts",name:Pu},onNode:t,type:me({...V,properties:o})});},Ka=({client:e,files:t})=>{let r=b();t.types=new Y({dir:r.output.path,name:"types.ts"});let n=s=>{t.types?.add(s);};for(let s of e.models)ju({client:e,model:s,onNode:n});vu({client:e,onNode:n});};var nt="data",qu=e=>e.base==="unknown"&&e.export==="generic"&&e.type==="unknown",Va=({client:e,model:t})=>t.$refs.map(n=>{let s=e.models.find(o=>o.meta?.$ref===n);if(!s)throw new Error(`Ref ${n} could not be found. Transformers cannot be generated without having access to all refs.`);return s}),Wa=e=>{let t=e.model.meta.name,{name:r}=Ve({...e,meta:{$ref:`transformers/${t}`,name:t},nameTransformer:Ma,onCreated:s=>{let o=cn({...e,meta:{$ref:`transformers/${t}`,name:s},path:[nt]});Ua({...e,async:false,name:s,statements:o});},type:`(${nt}: any) => ${t}`});return {created:!!e.client.types[r],name:r}},ku=e=>{let{model:t}=e,r=Va(e);if(r.length===1){let{created:n,name:s}=Wa({...e,model:r[0]});return n?[p.transformArrayMutation({path:e.path,transformerName:s})]:[]}return tr(t)||t.link&&!Array.isArray(t.link)&&t.link.export==="any-of"&&t.link.properties.find(n=>tr(n))?[p.transformArrayMap({path:e.path,transformExpression:p.conditionalExpression({condition:p.identifier({text:"item"}),whenFalse:p.identifier({text:"item"}),whenTrue:p.transformNewDate({parameterName:"item"})})})]:[]},wu=e=>{let{model:t}=e,r=[...e.path,t.name];return t.type==="string"&&t.export!=="array"&&tr(t)?[p.transformDateMutation({path:r})]:cn({...e,model:t,path:r})},cn=e=>{let{model:t}=e;switch(t.export){case "array":return ku(e);case "interface":return t.properties.flatMap(r=>wu({...e,model:r}));case "reference":{if(t.$refs.length!==1)return [];let r=Va(e),{created:n,name:s}=Wa({...e,model:r[0]});return n?t.in==="response"?[p.expressionToStatement({expression:p.callExpression({functionName:s,parameters:[nt]})})]:p.transformFunctionMutation({path:e.path,transformerName:s}):[]}default:return []}},Ua=({async:e,client:t,name:r,onNode:n,onRemoveNode:s,statements:o})=>{let i={created:false,name:r};if(!o.length)return Qi({client:t,name:r}),s?.(),i;let a=p.arrowFunction({async:e,multiLine:true,parameters:[{name:nt}],statements:[...o,p.returnVariable({expression:nt})]}),c=p.constVariable({exportConst:true,expression:a,name:r,typeName:r});return n(c),{created:true,name:r}},Qa=({client:e,files:t})=>{let r=b(),n=o=>{t.types?.add(o);},s=()=>{t.types?.removeNode();};for(let o of e.services)for(let i of o.operations){let a=i.responses.filter(l=>l.responseTypes.includes("success"));if(!a.length)continue;let c=a.filter(l=>!qu(l));if(!c.length)continue;if(c.length>1){r.logs.level==="debug"&&console.warn(`\u2757\uFE0F Transformers warning: route ${Ye(i)} has ${c.length} non-void success responses. This is currently not handled and we will not generate a response transformer. Please open an issue if you'd like this feature https://github.com/hey-api/openapi-ts/issues`);continue}let m=ve(i.name);Ve({client:e,meta:{$ref:`transformers/${m}`,name:m},nameTransformer:as,onCreated:l=>{let u=a.length>1?a.flatMap(f=>{let d=cn({client:e,meta:{$ref:`transformers/${m}`,name:m},model:f,onNode:n,onRemoveNode:s,path:[nt]});return d.length?[p.ifStatement({expression:p.safeAccessExpression(["data"]),thenStatement:p.block({statements:d})})]:[]}):cn({client:e,meta:{$ref:`transformers/${m}`,name:m},model:a[0],onNode:n,onRemoveNode:s,path:[nt]});Ua({async:true,client:e,name:l,onNode:n,onRemoveNode:s,statements:u});},onNode:n,type:`(${nt}: any) => Promise<${m}>`});}};var ms={_dependencies:["@hey-api/typescript"],_handler:qa,_handlerLegacy:Qa,_tags:["transformer"],bigInt:true,dates:true,name:"@hey-api/transformers",output:"transformers"};var Xa=({context:e,name:t})=>(we.lastIndex=0,we.test(t)?g__default.default.factory.createNumericLiteral(t):C({case:e.config.output.case,value:t}));var Ht=({schema:e})=>{let t=[e.description&&E(e.description),e.deprecated&&"@deprecated"].filter(Boolean);if(t.length)return t},$u=({$ref:e,context:t,plugin:r,schema:n})=>{let o=t.file({id:Ke}).identifier({$ref:e,create:true,namespace:"value"});if(!o.created)return;let i=Ja({plugin:r,schema:n}),a=p.objectExpression({multiLine:true,obj:i.obj});return p.constVariable({assertion:"const",comment:Ht({schema:n}),exportConst:true,expression:a,name:o.name||""})},Ja=({plugin:e,schema:t})=>{let r=[];return {obj:(t.items??[]).map(s=>{let o=typeof s.const;r.includes(o)||r.push(o);let i;return s.title?i=s.title:o==="number"||o==="string"?i=`${s.const}`:o==="boolean"?i=s.const?"true":"false":s.const===null&&(i="null"),i&&(i=C({case:e.enumsCase,stripLeadingSeparators:false,value:i}),we.lastIndex=0,we.test(i)&&(e.enums==="typescript"||e.enums==="typescript+namespace")&&(i=`_${i}`)),{comments:Ht({schema:s}),key:i,value:s.const}}),typeofItems:r}},us=({$ref:e,context:t,plugin:r,schema:n})=>{let o=t.file({id:Ke}).identifier({$ref:e,create:true,namespace:"type"});return !o.created&&!Pr(e)&&r.enums!=="typescript+namespace"?undefined:p.typeAliasDeclaration({comment:Ht({schema:n}),exportType:true,name:o.name||"",type:W({context:t,plugin:r,schema:{...n,type:undefined}})})},za=({$ref:e,context:t,plugin:r,schema:n})=>{let o=t.file({id:Ke}).identifier({$ref:e,create:true,namespace:"value"});if(!o.created&&r.enums!=="typescript+namespace")return;let i=Ja({plugin:r,schema:n});return i.typeofItems.filter(c=>c!=="number"&&c!=="string").length?us({$ref:e,context:t,plugin:r,schema:n}):p.enumDeclaration({leadingComment:Ht({schema:n}),name:o.name||"",obj:i.obj})},Du=({context:e,namespace:t,plugin:r,schema:n})=>{if(!n.items)return p.typeArrayNode(p.keywordTypeNode({keyword:"unknown"}));n=je({schema:n});let s=n.items.map(o=>W({context:e,namespace:t,plugin:r,schema:o}));return s.length===1?p.typeArrayNode(s[0]):n.logicalOperator==="and"?p.typeArrayNode(p.typeIntersectionNode({types:s})):p.typeArrayNode(p.typeUnionNode({types:s}))},Mu=({schema:e})=>e.const!==undefined?p.literalTypeNode({literal:p.ots.boolean(e.const)}):p.keywordTypeNode({keyword:"boolean"}),Fu=({$ref:e,context:t,namespace:r,plugin:n,schema:s})=>{let o=t.file({id:Ke}),i=e?Pr(e):false,a=i||!!n.exportInlineEnums;if(e&&a){if(!n.enums){let m=us({$ref:e,context:t,plugin:n,schema:s});m&&o.add(m);}if(n.enums==="javascript"){let m=us({$ref:e,context:t,plugin:n,schema:s});m&&o.add(m);let l=$u({$ref:e,context:t,plugin:n,schema:s});l&&o.add(l);}if(n.enums==="typescript"){let m=za({$ref:e,context:t,plugin:n,schema:s});m&&o.add(m);}if(n.enums==="typescript+namespace"){let m=za({$ref:e,context:t,plugin:n,schema:s});m&&(i?o.add(m):r.push(m));}}return W({context:t,plugin:n,schema:{...s,type:undefined}})},Lu=({context:e,schema:t})=>t.const!==undefined?p.literalTypeNode({literal:p.ots.number(t.const)}):t.type==="integer"&&t.format==="int64"&&e.config.plugins["@hey-api/transformers"]?.bigInt?p.typeReferenceNode({typeName:"BigInt"}):p.keywordTypeNode({keyword:"number"}),Bu=({context:e,namespace:t,plugin:r,schema:n})=>{let s,o=[],i=[],a=n.required??[],c=false;for(let m in n.properties){let l=n.properties[m],u=a.includes(m);o.push({comment:Ht({schema:l}),isReadOnly:l.accessScope==="read",isRequired:u,name:Xa({context:e,name:m}),type:W({$ref:`${vt}${m}`,context:e,namespace:t,plugin:r,schema:l})}),i.push(l),u||(c=true);}return n.additionalProperties&&(n.additionalProperties.type!=="never"||!i.length)&&(n.additionalProperties.type==="never"?i=[n.additionalProperties]:i.unshift(n.additionalProperties),c&&i.push({type:"undefined"}),s={isRequired:true,name:"key",type:W({context:e,namespace:t,plugin:r,schema:i.length===1?i[0]:{items:i,logicalOperator:"or"}})}),p.typeInterfaceNode({indexProperty:s,properties:o,useLegacyResolution:false})},_u=({context:e,schema:t})=>{if(t.const!==undefined)return p.literalTypeNode({literal:p.stringLiteral({text:t.const})});if(t.format){if(t.format==="binary")return p.typeUnionNode({types:[p.typeReferenceNode({typeName:"Blob"}),p.typeReferenceNode({typeName:"File"})]});if((t.format==="date-time"||t.format==="date")&&e.config.plugins["@hey-api/transformers"]?.dates)return p.typeReferenceNode({typeName:"Date"})}return p.keywordTypeNode({keyword:"string"})},Hu=({context:e,namespace:t,plugin:r,schema:n})=>{let s=[];return n.const&&Array.isArray(n.const)?s=n.const.map(o=>p.valueToExpression({value:o})??p.identifier({text:"unknown"})):n.items&&(s=n.items.map(o=>W({context:e,namespace:t,plugin:r,schema:o}))),p.typeTupleNode({types:s})},Ga=({$ref:e,context:t,namespace:r,plugin:n,schema:s})=>{switch(s.type){case "array":return Du({context:t,namespace:r,plugin:n,schema:s});case "boolean":return Mu({context:t,namespace:r,schema:s});case "enum":return Fu({$ref:e,context:t,namespace:r,plugin:n,schema:s});case "integer":case "number":return Lu({context:t,namespace:r,schema:s});case "never":return p.keywordTypeNode({keyword:"never"});case "null":return p.literalTypeNode({literal:p.null()});case "object":return Bu({context:t,namespace:r,plugin:n,schema:s});case "string":return _u({context:t,namespace:r,schema:s});case "tuple":return Hu({context:t,namespace:r,plugin:n,schema:s});case "undefined":return p.keywordTypeNode({keyword:"undefined"});case "unknown":return p.keywordTypeNode({keyword:"unknown"});case "void":return p.keywordTypeNode({keyword:"void"})}},ls=({parameters:e})=>{let t={type:"object"};if(e){let r={},n=[];for(let s in e){let o=e[s];r[s]=je({schema:o.schema}),o.required&&n.push(s);}t.properties=r,n.length&&(t.required=n);}return t},Ku=({context:e,operation:t,plugin:r})=>{let n=e.file({id:Ke}),s={type:"object"},o=[];s.properties||(s.properties={}),t.body?(s.properties.body=t.body.schema,t.body.required&&o.push("body")):s.properties.body={type:"never"},t.parameters?.header&&(s.properties.headers=ls({parameters:t.parameters.header}),s.properties.headers.required&&o.push("headers")),t.parameters?.path?(s.properties.path=ls({parameters:t.parameters.path}),s.properties.path.required&&o.push("path")):s.properties.path={type:"never"},t.parameters?.query?(s.properties.query=ls({parameters:t.parameters.query}),s.properties.query.required&&o.push("query")):s.properties.query={type:"never"},s.properties.url={const:t.path,type:"string"},o.push("url"),s.required=o;let i=n.identifier({$ref:M({id:t.id,type:"data"}),create:true,namespace:"type"}),a=p.typeAliasDeclaration({exportType:true,name:i.name||"",type:W({context:e,plugin:r,schema:s})});n.add(a);},Vu=({context:e,operation:t,plugin:r})=>{Ku({context:e,operation:t,plugin:r});let n=e.file({id:Ke}),{error:s,errors:o,response:i,responses:a}=rt(t);if(o){let c=n.identifier({$ref:M({id:t.id,type:"errors"}),create:true,namespace:"type"});if(c.name){let m=p.typeAliasDeclaration({exportType:true,name:c.name,type:W({context:e,plugin:r,schema:o})});if(n.add(m),s){let l=n.identifier({$ref:M({id:t.id,type:"error"}),create:true,namespace:"type"});if(l.name){let u=p.typeReferenceNode({typeName:c.name}),f=g__default.default.factory.createTypeOperatorNode(g__default.default.SyntaxKind.KeyOfKeyword,u),d=p.typeAliasDeclaration({exportType:true,name:l.name,type:p.indexedAccessTypeNode({indexType:f,objectType:u})});n.add(d);}}}}if(a){let c=n.identifier({$ref:M({id:t.id,type:"responses"}),create:true,namespace:"type"});if(c.name){let m=p.typeAliasDeclaration({exportType:true,name:c.name,type:W({context:e,plugin:r,schema:a})});if(n.add(m),i){let l=n.identifier({$ref:M({id:t.id,type:"response"}),create:true,namespace:"type"});if(l.name){let u=p.typeReferenceNode({typeName:c.name}),f=g__default.default.factory.createTypeOperatorNode(g__default.default.SyntaxKind.KeyOfKeyword,u),d=p.typeAliasDeclaration({exportType:true,name:l.name,type:p.indexedAccessTypeNode({indexType:f,objectType:u})});n.add(d);}}}}},W=({$ref:e,context:t,namespace:r=[],plugin:n,schema:s})=>{let o=t.file({id:Ke}),i;if(s.$ref){let a=o.identifier({$ref:s.$ref,create:true,namespace:"type"});i=p.typeReferenceNode({typeName:a.name||""});}else if(s.type)i=Ga({$ref:e,context:t,namespace:r,plugin:n,schema:s});else if(s.items)if(s=je({schema:s}),s.items){let a=s.items.map(c=>W({context:t,namespace:r,plugin:n,schema:c}));i=s.logicalOperator==="and"?p.typeIntersectionNode({types:a}):p.typeUnionNode({types:a});}else i=W({context:t,namespace:r,plugin:n,schema:s});else i=Ga({context:t,namespace:r,plugin:n,schema:{type:"unknown"}});if(e&&Pr(e)){if(r.length){let a=o.identifier({$ref:e,create:true,namespace:"value"}),c=p.namespaceDeclaration({name:a.name||"",statements:r});o.add(c);}if(s.type!=="enum"){let a=o.identifier({$ref:e,create:true,namespace:"type"}),c=p.typeAliasDeclaration({comment:Ht({schema:s}),exportType:true,name:a.name||"",type:i});o.add(c);}}return i},Za=({context:e,plugin:t})=>{e.createFile({exportFromIndex:t.exportFromIndex,id:Ke,identifierCase:t.identifierCase,path:t.output}),e.subscribe("schema",({$ref:r,schema:n})=>{W({$ref:r,context:e,plugin:t,schema:n});}),e.subscribe("parameter",({$ref:r,parameter:n})=>{W({$ref:r,context:e,plugin:t,schema:n.schema});}),e.subscribe("requestBody",({$ref:r,requestBody:n})=>{W({$ref:r,context:e,plugin:t,schema:n.schema});}),e.subscribe("operation",({operation:r})=>{Vu({context:e,operation:r,plugin:t});});};var fs={_handler:Za,_handlerLegacy:Ka,enums:false,enumsCase:"SCREAMING_SNAKE_CASE",exportFromIndex:true,exportInlineEnums:false,identifierCase:"PascalCase",name:"@hey-api/typescript",output:"types",style:"preserve",tree:false};var ln=()=>b().client.name==="@hey-api/client-axios"?"baseURL":"baseUrl";var st=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name});return an({context:e,file:n,operation:t})},un=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name}),o={asType:true,name:sn({context:e,file:n,operation:t}).name||""};if(o.name||(o=n.import({asType:true,module:r.name,name:"DefaultError"})),e.config.client.name==="@hey-api/client-axios"){let i=n.import({asType:true,module:"axios",name:"AxiosError"});o={...i,name:`${i.name}<${o.name}>`};}return o},fn=({context:e,operation:t,plugin:r})=>{let n=e.file({id:r.name});return on({context:e,file:n,operation:t}).name||"unknown"};var Ya="createQueryKey",dn="QueryKey",pr="TOptions",yn=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=p.indexedAccessTypeNode({indexType:p.literalTypeNode({literal:p.ots.number(0)}),objectType:p.typeReferenceNode({typeArguments:[p.typeReferenceNode({typeName:pr})],typeName:dn})}),s=p.identifier({text:"infinite"}),o=r.identifier({$ref:`#/ir/${Ya}`,create:true,namespace:"value"}),i=p.constVariable({expression:p.arrowFunction({multiLine:true,parameters:[{name:"id",type:p.typeReferenceNode({typeName:"string"})},{isRequired:false,name:"options",type:p.typeReferenceNode({typeName:pr})},{isRequired:false,name:"infinite",type:p.typeReferenceNode({typeName:"boolean"})}],returnType:n,statements:[p.constVariable({assertion:n,expression:p.objectExpression({multiLine:false,obj:[{key:"_id",value:p.identifier({text:"id"})},{key:ln(),value:p.identifier({text:`(options?.client ?? client).getConfig().${ln()}`})}]}),name:"params",typeName:n}),p.ifStatement({expression:s,thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"_infinite"}),right:s})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"body"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"body"}),right:p.propertyAccessExpression({expression:"options",name:"body"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"headers"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"headers"}),right:p.propertyAccessExpression({expression:"options",name:"headers"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"path"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"path"}),right:p.propertyAccessExpression({expression:"options",name:"path"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"query"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"query"}),right:p.propertyAccessExpression({expression:"options",name:"query"})})})]})}),p.returnVariable({expression:"params"})],types:[{extends:p.typeReferenceNode({typeName:p.identifier({text:D.Options.name})}),name:pr}]}),name:o.name||""});r.add(i);},Wu=({context:e,id:t,isInfinite:r,plugin:n})=>{let o=e.file({id:n.name}).identifier({$ref:`#/ir/${Ya}`,namespace:"value"});return p.arrayLiteralExpression({elements:[p.callExpression({functionName:o.name||"",parameters:[p.ots.string(t),"options",r?p.ots.boolean(true):undefined]})],multiLine:false})},gn=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=[{name:"_id",type:p.keywordTypeNode({keyword:"string"})},{isRequired:false,name:"_infinite",type:p.keywordTypeNode({keyword:"boolean"})}],s=p.typeAliasDeclaration({name:dn,type:p.typeTupleNode({types:[p.typeIntersectionNode({types:[p.typeReferenceNode({typeName:`Pick<${pr}, '${ln()}' | 'body' | 'headers' | 'path' | 'query'>`}),p.typeInterfaceNode({properties:n,useLegacyResolution:true})]})]}),typeParameters:[{extends:p.typeReferenceNode({typeName:p.identifier({text:D.Options.name})}),name:pr}]});r.add(s);},cr=({context:e,isInfinite:t,operation:r})=>`${N({config:e.config,id:r.id,operation:r})}${t?"Infinite":""}QueryKey`,hn=({context:e,isInfinite:t,operation:r,plugin:n,typeQueryKey:s})=>{let o=e.file({id:n.name}),i=st({context:e,operation:r,plugin:n}),a=cr({context:e,isInfinite:t,operation:r}),c=o.identifier({$ref:`#/queryKey/${a}`,create:true,namespace:"value"});return p.constVariable({exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:He(r),name:"options",type:i}],returnType:t?s:undefined,statements:Wu({context:e,id:r.id,isInfinite:t,plugin:n})}),name:c.name||""})};var tp="createInfiniteParams",ep="infiniteQueryOptions",Uu=({context:e,plugin:t})=>{let r=e.file({id:t.name}),n=p.constVariable({expression:p.arrowFunction({multiLine:true,parameters:[{name:"queryKey",type:p.typeReferenceNode({typeName:`QueryKey<${D.Options.name}>`})},{name:"page",type:p.typeReferenceNode({typeName:"K"})}],statements:[p.constVariable({expression:p.identifier({text:"queryKey[0]"}),name:"params"}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"body"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"body"}),right:p.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].body"},{assertion:"any",spread:"page.body"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"headers"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"headers"}),right:p.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].headers"},{spread:"page.headers"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"path"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"path"}),right:p.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].path"},{assertion:"any",spread:"page.path"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"query"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"query"}),right:p.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].query"},{assertion:"any",spread:"page.query"}]})})})]})}),p.returnVariable({expression:g__default.default.factory.createAsExpression(g__default.default.factory.createAsExpression(p.identifier({text:"params"}),g__default.default.factory.createKeywordTypeNode(g__default.default.SyntaxKind.UnknownKeyword)),g__default.default.factory.createTypeQueryNode(p.identifier({text:"page"})))})],types:[{extends:p.typeReferenceNode({typeName:p.identifier({text:`Pick<QueryKey<${D.Options.name}>[0], 'body' | 'headers' | 'path' | 'query'>`})}),name:"K"}]}),name:tp});r.add(n);},Qu=({context:e,operation:t})=>`${N({config:e.config,id:t.id,operation:t})}InfiniteOptions`,rp=({context:e,operation:t,plugin:r,queryFn:n,state:s})=>{if(!r.infiniteQueryOptions||!["get","post"].includes(t.method))return s;let o=Ra({context:e,operation:t});if(!o)return s;let i=e.file({id:r.name}),a=He(t);s.hasInfiniteQueries||(s.hasInfiniteQueries=true,s.hasCreateQueryKeyParamsFunction||(gn({context:e,plugin:r}),yn({context:e,plugin:r}),s.hasCreateQueryKeyParamsFunction=true),s.hasCreateInfiniteParamsFunction||(Uu({context:e,plugin:r}),s.hasCreateInfiniteParamsFunction=true),i.import({module:r.name,name:ep}),s.typeInfiniteData=i.import({asType:true,module:r.name,name:"InfiniteData"})),s.hasUsedQueryFn=true;let c=st({context:e,operation:t,plugin:r}),m=un({context:e,operation:t,plugin:r}),l=fn({context:e,operation:t,plugin:r}),u=`${dn}<${c}>`,f=`Pick<${u}[0], 'body' | 'headers' | 'path' | 'query'>`,d=`${he({node:W({context:e,plugin:e.config.plugins["@hey-api/typescript"],schema:o.schema}),unescape:true})} | ${f}`,x=hn({context:e,isInfinite:true,operation:t,plugin:r,typeQueryKey:u});i.add(x);let h=cr({context:e,isInfinite:true,operation:t}),T=i.identifier({$ref:`#/queryKey/${h}`,namespace:"value"}),O=p.constVariable({comment:[],exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:a,name:"options",type:c}],statements:[p.returnFunctionCall({args:[p.objectExpression({comments:[{jsdoc:false,lines:["@ts-ignore"]}],obj:[{key:"queryFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"pageParam"},{name:"queryKey"},{name:"signal"}]}],statements:[p.constVariable({comment:[{jsdoc:false,lines:["@ts-ignore"]}],expression:p.conditionalExpression({condition:p.binaryExpression({left:p.typeOfExpression({text:"pageParam"}),operator:"===",right:p.ots.string("object")}),whenFalse:p.objectExpression({multiLine:true,obj:[{key:o.in,value:p.objectExpression({multiLine:true,obj:[{key:o.name,value:p.identifier({text:"pageParam"})}]})}]}),whenTrue:p.identifier({text:"pageParam"})}),name:"page",typeName:f}),p.constVariable({expression:p.callExpression({functionName:tp,parameters:["queryKey","page"]}),name:"params"}),p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:n,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"params"},{key:"signal",shorthand:true,value:p.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})},{key:"queryKey",value:p.callExpression({functionName:T.name||"",parameters:["options"]})}]})],name:ep,types:[l,m.name,`${typeof s.typeInfiniteData=="string"?s.typeInfiniteData:s.typeInfiniteData.name}<${l}>`,u,d]})]}),name:Qu({context:e,operation:t})});i.add(O);};var np="mutationOptions",Xu=({context:e,operation:t})=>`${N({config:e.config,id:t.id,operation:t})}Mutation`,sp=({context:e,operation:t,plugin:r,queryFn:n,state:s})=>{if(!r.mutationOptions||!["delete","patch","post","put"].includes(t.method))return s;let o=r.name==="@tanstack/angular-query-experimental"||r.name==="@tanstack/svelte-query"||r.name==="@tanstack/solid-query"?"MutationOptions":"UseMutationOptions",i=e.file({id:r.name});s.hasMutations||(s.hasMutations=true,i.import({asType:true,module:r.name,name:o})),s.hasUsedQueryFn=true;let a=st({context:e,operation:t,plugin:r}),c=un({context:e,operation:t,plugin:r}),m=fn({context:e,operation:t,plugin:r}),l=p.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${a}>`}],statements:[p.constVariable({expression:p.objectExpression({obj:[{key:"mutationFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{name:"localOptions"}],statements:[p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:n,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"localOptions"},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})}]}),name:np,typeName:`${o}<${m}, ${c.name}, ${a}>`}),p.returnVariable({expression:np})]}),u=p.constVariable({comment:[],exportConst:true,expression:l,name:Xu({context:e,operation:t})});return i.add(u),s};var op="queryOptions",zu=({context:e,operation:t})=>`${N({config:e.config,id:t.id,operation:t})}Options`,ip=({context:e,operation:t,plugin:r,queryFn:n,state:s})=>{if(!r.queryOptions||!["get","post"].includes(t.method))return s;let o=e.file({id:r.name}),i=He(t);s.hasQueries||(s.hasQueries=true,s.hasCreateQueryKeyParamsFunction||(gn({context:e,plugin:r}),yn({context:e,plugin:r}),s.hasCreateQueryKeyParamsFunction=true),o.import({module:r.name,name:op})),s.hasUsedQueryFn=true;let a=hn({context:e,isInfinite:false,operation:t,plugin:r});o.add(a);let c=st({context:e,operation:t,plugin:r}),m=cr({context:e,isInfinite:false,operation:t}),l=o.identifier({$ref:`#/queryKey/${m}`,namespace:"value"}),u=p.constVariable({comment:[],exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:i,name:"options",type:c}],statements:[p.returnFunctionCall({args:[p.objectExpression({obj:[{key:"queryFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"queryKey"},{name:"signal"}]}],statements:[p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:n,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"queryKey[0]"},{key:"signal",shorthand:true,value:p.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})},{key:"queryKey",value:p.callExpression({functionName:l.name||"",parameters:["options"]})}]})],name:op})]}),name:zu({context:e,operation:t})});return o.add(u),s};var qe=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:t.name,path:t.output}),n={hasCreateInfiniteParamsFunction:false,hasCreateQueryKeyParamsFunction:false,hasInfiniteQueries:false,hasMutations:false,hasQueries:false,hasUsedQueryFn:false,typeInfiniteData:undefined};e.subscribe("before",()=>{r.import({...D.Options,module:ne({config:e.config,sourceOutput:t.output})});}),e.subscribe("operation",({operation:s})=>{n.hasUsedQueryFn=false;let o=[e.config.plugins["@hey-api/sdk"]?.asClass&&Ie({config:e.config,name:rr(s.tags?.[0]||"default")}),N({config:e.config,handleIllegal:!e.config.plugins["@hey-api/sdk"]?.asClass,id:s.id,operation:s})].filter(Boolean).join(".");ip({context:e,operation:s,plugin:t,queryFn:o,state:n}),rp({context:e,operation:s,plugin:t,queryFn:o,state:n}),sp({context:e,operation:s,plugin:t,queryFn:o,state:n}),n.hasUsedQueryFn&&r.import({module:r.relativePathToFile({context:e,id:"sdk"}),name:o.split(".")[0]});}),e.subscribe("after",()=>{(n.hasQueries||n.hasInfiniteQueries)&&r.import({module:r.relativePathToFile({context:e,id:"sdk"}),name:"client"});});};var Gu=e=>`${N({config:b(),id:e.name,operation:e})}InfiniteOptions`,Ju=e=>`${N({config:b(),id:e.name,operation:e})}Mutation`,Zu=({config:e,id:t,operation:r})=>`${N({config:e,id:t,operation:r})}Options`,xn=({config:e,id:t,isInfinite:r,operation:n})=>`${N({config:e,id:t,operation:n})}${r?"Infinite":""}QueryKey`,Yu=e=>{switch(e.in){case "formData":return "body";case "header":return "headers";default:return e.in}},ef="createInfiniteParams",yp="createQueryKey",ap="infiniteQueryOptions",pp="mutationOptions",gs="QueryKey",cp="queryOptions",ur="TOptions",ys=()=>b().client.name==="@hey-api/client-axios"?"baseURL":"baseUrl",tf=({file:e})=>{let t=p.constVariable({expression:p.arrowFunction({multiLine:true,parameters:[{name:"queryKey",type:p.typeNode(`QueryKey<${D.OptionsLegacyParser.name}>`)},{name:"page",type:p.typeNode("K")}],statements:[p.constVariable({expression:p.identifier({text:"queryKey[0]"}),name:"params"}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"body"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"body"}),right:p.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].body"},{assertion:"any",spread:"page.body"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"headers"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"headers"}),right:p.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].headers"},{spread:"page.headers"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"path"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"path"}),right:p.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].path"},{spread:"page.path"}]})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"page"}),name:p.identifier({text:"query"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"query"}),right:p.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].query"},{spread:"page.query"}]})})})]})}),p.returnVariable({expression:g__default.default.factory.createAsExpression(g__default.default.factory.createAsExpression(p.identifier({text:"params"}),g__default.default.factory.createKeywordTypeNode(g__default.default.SyntaxKind.UnknownKeyword)),g__default.default.factory.createTypeQueryNode(p.identifier({text:"page"})))})],types:[{extends:p.typeReferenceNode({typeName:p.identifier({text:`Pick<QueryKey<${D.OptionsLegacyParser.name}>[0], 'body' | 'headers' | 'path' | 'query'>`})}),name:"K"}]}),name:ef});e.add(t);},mp=({file:e})=>{let t=p.indexedAccessTypeNode({indexType:p.typeNode(0),objectType:p.typeNode(gs,[p.typeNode(ur)])}),r=p.identifier({text:"infinite"}),n=p.constVariable({expression:p.arrowFunction({multiLine:true,parameters:[{name:"id",type:p.typeNode("string")},{isRequired:false,name:"options",type:p.typeNode(ur)},{isRequired:false,name:"infinite",type:p.typeNode("boolean")}],returnType:t,statements:[p.constVariable({assertion:t,expression:p.objectExpression({multiLine:false,obj:[{key:"_id",value:p.identifier({text:"id"})},{key:ys(),value:p.identifier({text:`(options?.client ?? client).getConfig().${ys()}`})}]}),name:"params",typeName:t}),p.ifStatement({expression:r,thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"_infinite"}),right:r})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"body"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"body"}),right:p.propertyAccessExpression({expression:"options",name:"body"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"headers"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"headers"}),right:p.propertyAccessExpression({expression:"options",name:"headers"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"path"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"path"}),right:p.propertyAccessExpression({expression:"options",name:"path"})})})]})}),p.ifStatement({expression:p.propertyAccessExpression({expression:p.identifier({text:"options"}),isOptional:true,name:p.identifier({text:"query"})}),thenStatement:p.block({statements:[p.expressionToStatement({expression:p.binaryExpression({left:p.propertyAccessExpression({expression:"params",name:"query"}),right:p.propertyAccessExpression({expression:"options",name:"query"})})})]})}),p.returnVariable({expression:"params"})],types:[{extends:p.typeReferenceNode({typeName:p.identifier({text:D.OptionsLegacyParser.name})}),name:ur}]}),name:yp});e.add(n);},lp=({file:e})=>{let t=[{name:"_id",type:p.keywordTypeNode({keyword:"string"})},{isRequired:false,name:"_infinite",type:p.keywordTypeNode({keyword:"boolean"})}],r=p.typeAliasDeclaration({name:gs,type:p.typeTupleNode({types:[p.typeIntersectionNode({types:[p.typeReferenceNode({typeName:`Pick<${ur}, '${ys()}' | 'body' | 'headers' | 'path' | 'query'>`}),p.typeInterfaceNode({properties:t,useLegacyResolution:true})]})]}),typeParameters:[{extends:p.typeReferenceNode({typeName:p.identifier({text:D.OptionsLegacyParser.name})}),name:ur}]});e.add(r);},ds=({client:e,file:t,operation:r,typesModulePath:n})=>{let{name:s}=gt({client:e,meta:r.parameters.length?{$ref:r.name,name:r.name}:undefined,nameTransformer:ht,onImport:i=>{t.import({asType:true,module:n,name:i});}});return {typeData:ps({importedType:s})}},up=({client:e,file:t,operation:r,pluginName:n,typesModulePath:s})=>{let o=b(),{name:i}=gt({client:e,meta:{$ref:r.name,name:r.name},nameTransformer:_t,onImport:c=>{t.import({asType:true,module:s,name:c});}}),a={asType:true,name:i};if(a.name||(a=t.import({asType:true,module:n,name:"DefaultError"})),o.client.name==="@hey-api/client-axios"){let c=t.import({asType:true,module:"axios",name:"AxiosError"});a={...c,name:`${c.name}<${a.name}>`};}return {typeError:a}},fp=({client:e,file:t,operation:r,typesModulePath:n})=>{let{name:s}=gt({client:e,meta:{$ref:r.name,name:r.name},nameTransformer:ve,onImport:i=>{t.import({asType:true,module:n,name:i});}});return {typeResponse:s||"void"}},dp=({id:e,isInfinite:t})=>p.arrayLiteralExpression({elements:[p.callExpression({functionName:yp,parameters:[p.ots.string(e),"options",t?p.ots.boolean(true):undefined]})],multiLine:false}),ke=({client:e,files:t,plugin:r})=>{let n=b();if(I(n))throw new Error("\u{1F6AB} TanStack Query plugin does not support legacy clients");let s=t[r.name];s.import({...D.OptionsLegacyParser,module:ne({config:n,sourceOutput:r.output})});let o=Jt({moduleOutput:t.types.nameWithoutExtension(),sourceOutput:r.output}),i=r.name==="@tanstack/angular-query-experimental"||r.name==="@tanstack/svelte-query"||r.name==="@tanstack/solid-query"?"MutationOptions":"UseMutationOptions",a,c=false,m=false,l=false,u=false,f=false,d=new Map;for(let x of e.services)for(let h of x.operations){let T=Ye(h);if(d.has(T))continue;d.set(T,true);let O=[n.plugins["@hey-api/sdk"]?.asClass&&Ie({config:n,name:x.name}),N({config:n,handleIllegal:!n.plugins["@hey-api/sdk"]?.asClass,id:h.name,operation:h})].filter(Boolean).join("."),$=false;if(r.queryOptions&&["GET","POST"].includes(h.method)){f||(f=true,m||(lp({file:s}),mp({file:s}),m=true),s.import({module:r.name,name:cp})),$=true;let{typeData:se}=ds({client:e,file:s,operation:h,typesModulePath:o}),ot=Ee(h.parameters),J=p.constVariable({exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:ot,name:"options",type:se}],statements:dp({id:h.name})}),name:xn({config:n,id:h.name,operation:h})});s.add(J);let ye=p.constVariable({comment:[],exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:ot,name:"options",type:se}],statements:[p.returnFunctionCall({args:[p.objectExpression({obj:[{key:"queryFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"queryKey"},{name:"signal"}]}],statements:[p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:O,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"queryKey[0]"},{key:"signal",shorthand:true,value:p.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})},{key:"queryKey",value:p.callExpression({functionName:xn({config:n,id:h.name,operation:h}),parameters:["options"]})}]})],name:cp})]}),name:Zu({config:n,id:h.name,operation:h})});s.add(ye);}if(r.infiniteQueryOptions&&["GET","POST"].includes(h.method)){let se,ot=h.parameters.find(J=>{if(j.lastIndex=0,j.test(J.name))return se=J,true;if(J.in==="body"){if(J.export==="reference"){let ye=J.$refs[0];return e.models.find(it=>it.meta?.$ref===ye)?.properties.find(it=>{if(j.lastIndex=0,j.test(it.name))return se=it,true})}return J.properties.find(ye=>{if(j.lastIndex=0,j.test(ye.name))return se=ye,true})}});if(ot&&se){l||(l=true,m||(lp({file:s}),mp({file:s}),m=true),c||(tf({file:s}),c=true),s.import({module:r.name,name:ap}),a=s.import({asType:true,module:r.name,name:"InfiniteData"})),$=true;let{typeData:J}=ds({client:e,file:s,operation:h,typesModulePath:o}),{typeError:ye}=up({client:e,file:s,operation:h,pluginName:r.name,typesModulePath:o}),{typeResponse:Kt}=fp({client:e,file:s,operation:h,typesModulePath:o}),it=Ee(h.parameters),Tn=`${gs}<${J}>`,Is=`Pick<${Tn}[0], 'body' | 'headers' | 'path' | 'query'>`,dc=`${se.base} | ${Is}`,yc=p.constVariable({exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:it,name:"options",type:J}],returnType:Tn,statements:dp({id:h.name,isInfinite:true})}),name:xn({config:n,id:h.name,isInfinite:true,operation:h})});s.add(yc);let gc=p.constVariable({comment:[],exportConst:true,expression:p.arrowFunction({parameters:[{isRequired:it,name:"options",type:J}],statements:[p.returnFunctionCall({args:[p.objectExpression({comments:[{jsdoc:false,lines:["@ts-ignore"]}],obj:[{key:"queryFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"pageParam"},{name:"queryKey"},{name:"signal"}]}],statements:[p.constVariable({comment:[{jsdoc:false,lines:["@ts-ignore"]}],expression:p.conditionalExpression({condition:p.binaryExpression({left:p.typeOfExpression({text:"pageParam"}),operator:"===",right:p.ots.string("object")}),whenFalse:p.objectExpression({multiLine:true,obj:[{key:Yu(ot),value:p.objectExpression({multiLine:true,obj:[{key:se.name,value:p.identifier({text:"pageParam"})}]})}]}),whenTrue:p.identifier({text:"pageParam"})}),name:"page",typeName:Is}),p.constVariable({expression:p.callExpression({functionName:"createInfiniteParams",parameters:["queryKey","page"]}),name:"params"}),p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:O,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"params"},{key:"signal",shorthand:true,value:p.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})},{key:"queryKey",value:p.callExpression({functionName:xn({config:n,id:h.name,isInfinite:true,operation:h}),parameters:["options"]})}]})],name:ap,types:[Kt,ye.name,`${typeof a=="string"?a:a.name}<${Kt}>`,Tn,dc]})]}),name:Gu(h)});s.add(gc);}}if(r.mutationOptions&&["DELETE","PATCH","POST","PUT"].includes(h.method)){u||(u=true,s.import({asType:true,module:r.name,name:i})),$=true;let{typeData:se}=ds({client:e,file:s,operation:h,typesModulePath:o}),{typeError:ot}=up({client:e,file:s,operation:h,pluginName:r.name,typesModulePath:o}),{typeResponse:J}=fp({client:e,file:s,operation:h,typesModulePath:o}),ye=p.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${se}>`}],statements:[p.constVariable({expression:p.objectExpression({obj:[{key:"mutationFn",value:p.arrowFunction({async:true,multiLine:true,parameters:[{name:"localOptions"}],statements:[p.constVariable({destructure:true,expression:p.awaitExpression({expression:p.callExpression({functionName:O,parameters:[p.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"localOptions"},{key:"throwOnError",value:true}]})]})}),name:"data"}),p.returnVariable({expression:"data"})]})}]}),name:pp,typeName:`${i}<${J}, ${ot.name}, ${se}>`}),p.returnVariable({expression:pp})]}),Kt=p.constVariable({comment:[],exportConst:true,expression:ye,name:Ju(h)});s.add(Kt);}let Sn=Jt({moduleOutput:t.sdk.nameWithoutExtension(),sourceOutput:r.output});(f||l)&&s.import({module:Sn,name:"client"}),$&&s.import({module:Sn,name:O.split(".")[0]});}};var hs={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:qe,_handlerLegacy:ke,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/angular-query-experimental",output:"@tanstack/angular-query-experimental",queryOptions:true};var xs={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:qe,_handlerLegacy:ke,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/react-query",output:"@tanstack/react-query",queryOptions:true};var bs={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:qe,_handlerLegacy:ke,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/solid-query",output:"@tanstack/solid-query",queryOptions:true};var Os={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:qe,_handlerLegacy:ke,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/svelte-query",output:"@tanstack/svelte-query",queryOptions:true};var Rs={_dependencies:["@hey-api/sdk","@hey-api/typescript"],_handler:qe,_handlerLegacy:ke,infiniteQueryOptions:true,mutationOptions:true,name:"@tanstack/vue-query",output:"@tanstack/vue-query",queryOptions:true};var gp="fastify",rf=({context:e,operation:t})=>{let r=e.file({id:gp}),n=e.file({id:"types"}),s=[],o=n.identifier({$ref:M({id:t.id,type:"data"}),namespace:"type"});o.name&&(t.body&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:o.name}),s.push({isRequired:t.body.required,name:"Body",type:`${o.name}['body']`})),t.parameters&&(t.parameters.header&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:o.name}),s.push({isRequired:tt(t.parameters.header),name:"Headers",type:`${o.name}['headers']`})),t.parameters.path&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:o.name}),s.push({isRequired:tt(t.parameters.path),name:"Params",type:`${o.name}['path']`})),t.parameters.query&&(r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:o.name}),s.push({isRequired:tt(t.parameters.query),name:"Querystring",type:`${o.name}['query']`}))));let{errors:i,responses:a}=rt(t),c,m=n.identifier({$ref:M({id:t.id,type:"errors"}),namespace:"type"});if(m.name&&i&&i.properties){let x=Object.keys(i.properties);if(x.length){if(!x.includes("default"))r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:m.name}),c=p.typeReferenceNode({typeName:m.name});else if(x.length>1){r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:m.name});let T=p.typeReferenceNode({typeName:m.name}),O=p.literalTypeNode({literal:p.stringLiteral({text:"default"})});c=p.typeReferenceNode({typeArguments:[T,O],typeName:"Omit"});}}}let l,u=n.identifier({$ref:M({id:t.id,type:"responses"}),namespace:"type"});if(u.name&&a&&a.properties){let x=Object.keys(a.properties);if(x.length){if(!x.includes("default"))r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:u.name}),l=p.typeReferenceNode({typeName:u.name});else if(x.length>1){r.import({asType:true,module:r.relativePathToFile({context:e,id:"types"}),name:u.name});let T=p.typeReferenceNode({typeName:u.name}),O=p.literalTypeNode({literal:p.stringLiteral({text:"default"})});l=p.typeReferenceNode({typeArguments:[T,O],typeName:"Omit"});}}}let f=[c,l].filter(Boolean);return f.length&&s.push({name:"Reply",type:p.typeIntersectionNode({types:f})}),s.length?{name:t.id,type:p.typeNode("RouteHandler",[p.typeInterfaceNode({properties:s,useLegacyResolution:false})])}:undefined},hp=({context:e,plugin:t})=>{let r=e.createFile({exportFromIndex:t.exportFromIndex,id:gp,path:t.output}),n=[];e.subscribe("operation",({operation:s})=>{let o=rf({context:e,operation:s});o&&n.push(o);}),e.subscribe("after",()=>{let s=r.identifier({$ref:"RouteHandlers",create:true,namespace:"type"});s.name&&(n.length&&r.import({asType:true,module:"fastify",name:"RouteHandler"}),r.add(p.typeAliasDeclaration({exportType:true,name:s.name,type:p.typeInterfaceNode({properties:n,useLegacyResolution:false})})));});};var Ss={_dependencies:["@hey-api/typescript"],_handler:hp,_handlerLegacy:()=>{},name:"fastify",output:"fastify"};var Ts={_handler:Ea,_handlerLegacy:()=>{},_tags:["validator"],name:"zod",output:"zod"};var bn={"@hey-api/schemas":ns,"@hey-api/sdk":cs,"@hey-api/transformers":ms,"@hey-api/typescript":fs,"@tanstack/angular-query-experimental":hs,"@tanstack/react-query":xs,"@tanstack/solid-query":bs,"@tanstack/svelte-query":Os,"@tanstack/vue-query":Rs,fastify:Ss,zod:Ts};var xp=["@hey-api/client-axios","@hey-api/client-fetch","legacy/angular","legacy/axios","legacy/fetch","legacy/node","legacy/xhr"];var bp={1:function(e,t,r,n,s){return `import { NgModule} from '@angular/core';
import { HttpClientModule } from '@angular/common/http';

import { AngularHttpRequest } from './core/AngularHttpRequest';
import { BaseHttpRequest } from './core/BaseHttpRequest';
import type { OpenAPIConfig } from './core/OpenAPI';
import { OpenAPI } from './core/OpenAPI';
import { Interceptors } from './core/OpenAPI';
`},3:function(e,t,r,n,s){var o,i=e.strict,a=e.lambda;return `import type { BaseHttpRequest } from './core/BaseHttpRequest';
import type { OpenAPIConfig } from './core/OpenAPI';
import { Interceptors } from './core/OpenAPI';
import { `+((o=a(i(t,"httpRequest",{start:{line:14,column:12},end:{line:14,column:23}}),t))!=null?o:"")+" } from './core/"+((o=a(i(t,"httpRequest",{start:{line:14,column:45},end:{line:14,column:56}}),t))!=null?o:"")+`';
`},5:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return (o=i(r,"each").call(t??(e.nullContext||{}),i(t,"services"),{name:"each",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s,loc:{start:{line:18,column:0},end:{line:20,column:9}}}))!=null?o:""},6:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return "import { "+((o=i(r,"transformServiceName").call(t??(e.nullContext||{}),i(t,"name"),{name:"transformServiceName",hash:{},data:s,loc:{start:{line:19,column:9},end:{line:19,column:40}}}))!=null?o:"")+` } from './sdk.gen';
`},8:function(e,t,r,n,s){var o,i=e.strict,a=e.lambda,c=e.lookupProperty||function(m,l){if(Object.prototype.hasOwnProperty.call(m,l))return m[l]};return `@NgModule({
	imports: [HttpClientModule],
	providers: [
		{
			provide: OpenAPI,
			useValue: {
				BASE: OpenAPI?.BASE ?? '`+((o=a(i(t,"server",{start:{line:30,column:31},end:{line:30,column:37}}),t))!=null?o:"")+`',
				VERSION: OpenAPI?.VERSION ?? '`+((o=a(i(t,"version",{start:{line:31,column:37},end:{line:31,column:44}}),t))!=null?o:"")+`',
				WITH_CREDENTIALS: OpenAPI?.WITH_CREDENTIALS ?? false,
				CREDENTIALS: OpenAPI?.CREDENTIALS ?? 'include',
				TOKEN: OpenAPI?.TOKEN,
				USERNAME: OpenAPI?.USERNAME,
				PASSWORD: OpenAPI?.PASSWORD,
				HEADERS: OpenAPI?.HEADERS,
				ENCODE_PATH: OpenAPI?.ENCODE_PATH,
				interceptors: {
					response: OpenAPI?.interceptors?.response ?? new Interceptors(),
				},
			} as OpenAPIConfig,
		},
		{
			provide: BaseHttpRequest,
			useClass: AngularHttpRequest,
		},
`+((o=c(r,"each").call(t??(e.nullContext||{}),c(t,"services"),{name:"each",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s,loc:{start:{line:48,column:2},end:{line:50,column:11}}}))!=null?o:"")+`	]
})
export class `+((o=a(i(c(c(s,"root"),"$config"),"name",{start:{line:53,column:16},end:{line:53,column:34}}),t))!=null?o:"")+` {}
`},9:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return "		"+((o=i(r,"transformServiceName").call(t??(e.nullContext||{}),i(t,"name"),{name:"transformServiceName",hash:{},data:s,loc:{start:{line:49,column:2},end:{line:49,column:33}}}))!=null?o:"")+`,
`},11:function(e,t,r,n,s){var o,i=e.strict,a=e.lambda,c=t??(e.nullContext||{}),m=e.lookupProperty||function(l,u){if(Object.prototype.hasOwnProperty.call(l,u))return l[u]};return `type HttpRequestConstructor = new (config: OpenAPIConfig) => BaseHttpRequest;

export class `+((o=a(i(m(m(s,"root"),"$config"),"name",{start:{line:57,column:16},end:{line:57,column:34}}),t))!=null?o:"")+` {

`+((o=m(r,"each").call(c,m(t,"services"),{name:"each",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s,loc:{start:{line:59,column:1},end:{line:61,column:10}}}))!=null?o:"")+`
	public readonly request: BaseHttpRequest;

	constructor(config?: Partial<OpenAPIConfig>, HttpRequest: HttpRequestConstructor = `+((o=a(i(t,"httpRequest",{start:{line:65,column:87},end:{line:65,column:98}}),t))!=null?o:"")+`) {
		this.request = new HttpRequest({
			BASE: config?.BASE ?? '`+((o=a(i(t,"server",{start:{line:67,column:29},end:{line:67,column:35}}),t))!=null?o:"")+`',
			VERSION: config?.VERSION ?? '`+((o=a(i(t,"version",{start:{line:68,column:35},end:{line:68,column:42}}),t))!=null?o:"")+`',
			WITH_CREDENTIALS: config?.WITH_CREDENTIALS ?? false,
			CREDENTIALS: config?.CREDENTIALS ?? 'include',
			TOKEN: config?.TOKEN,
			USERNAME: config?.USERNAME,
			PASSWORD: config?.PASSWORD,
			HEADERS: config?.HEADERS,
			ENCODE_PATH: config?.ENCODE_PATH,
			interceptors: {
				request: config?.interceptors?.request ?? new Interceptors(),
				response: config?.interceptors?.response ?? new Interceptors(),
      },
		});

`+((o=m(r,"each").call(c,m(t,"services"),{name:"each",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s,loc:{start:{line:82,column:2},end:{line:84,column:11}}}))!=null?o:"")+`	}
}
`},12:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return "	public readonly "+((o=a(r,"camelCase").call(i,a(t,"name"),{name:"camelCase",hash:{},data:s,loc:{start:{line:60,column:17},end:{line:60,column:37}}}))!=null?o:"")+": "+((o=a(r,"transformServiceName").call(i,a(t,"name"),{name:"transformServiceName",hash:{},data:s,loc:{start:{line:60,column:39},end:{line:60,column:70}}}))!=null?o:"")+`;
`},14:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return "		this."+((o=a(r,"camelCase").call(i,a(t,"name"),{name:"camelCase",hash:{},data:s,loc:{start:{line:83,column:7},end:{line:83,column:27}}}))!=null?o:"")+" = new "+((o=a(r,"transformServiceName").call(i,a(t,"name"),{name:"transformServiceName",hash:{},data:s,loc:{start:{line:83,column:34},end:{line:83,column:65}}}))!=null?o:"")+`(this.request);
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:1,column:0},end:{line:15,column:11}}}))!=null?o:"")+`
`+((o=a(r,"if").call(i,a(t,"services"),{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:17,column:0},end:{line:21,column:7}}}))!=null?o:"")+`
`+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(8,s,0),inverse:e.program(11,s,0),data:s,loc:{start:{line:23,column:0},end:{line:87,column:11}}}))!=null?o:"")},useData:true};var Op={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getHeaders = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Observable<HttpHeaders> => {
	return forkJoin({
		// @ts-ignore
		token: resolve(options, config.TOKEN),
		// @ts-ignore
		username: resolve(options, config.USERNAME),
		// @ts-ignore
		password: resolve(options, config.PASSWORD),
		// @ts-ignore
		additionalHeaders: resolve(options, config.HEADERS),
	}).pipe(
		map(({ token, username, password, additionalHeaders }) => {
			const headers = Object.entries({
				Accept: 'application/json',
				...additionalHeaders,
				...options.headers,
			})
				.filter(([, value]) => value !== undefined && value !== null)
				.reduce((headers, [key, value]) => ({
					...headers,
					[key]: String(value),
				}), {} as Record<string, string>);

			if (isStringWithValue(token)) {
				headers['Authorization'] = \`Bearer \${token}\`;
			}

			if (isStringWithValue(username) && isStringWithValue(password)) {
				const credentials = base64(\`\${username}:\${password}\`);
				headers['Authorization'] = \`Basic \${credentials}\`;
			}

			if (options.body !== undefined) {
				if (options.mediaType) {
					headers['Content-Type'] = options.mediaType;
				} else if (isBlob(options.body)) {
					headers['Content-Type'] = options.body.type || 'application/octet-stream';
				} else if (isString(options.body)) {
					headers['Content-Type'] = 'text/plain';
				} else if (!isFormData(options.body)) {
					headers['Content-Type'] = 'application/json';
				}
			}

			return new HttpHeaders(headers);
		}),
	);
};`},useData:true};var Rp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var Sp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseBody = <T>(response: HttpResponse<T>): T | undefined => {
	if (response.status !== 204 && response.body !== null) {
		return response.body;
	}
	return undefined;
};`},useData:true};var Tp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseHeader = <T>(response: HttpResponse<T>, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const value = response.headers.get(responseHeader);
		if (isString(value)) {
			return value;
		}
	}
	return undefined;
};`},useData:true};var Cp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return `import { HttpClient, HttpHeaders } from '@angular/common/http';
import type { HttpResponse, HttpErrorResponse } from '@angular/common/http';
import { forkJoin, of, throwError } from 'rxjs';
import { catchError, map, switchMap } from 'rxjs/operators';
import type { Observable } from 'rxjs';

import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import type { OpenAPIConfig } from './OpenAPI';

`+((o=e.invokePartial(i(n,"functions/isString"),t,{name:"functions/isString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isBlob"),t,{name:"functions/isBlob",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/isFormData"),t,{name:"functions/isFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/base64"),t,{name:"functions/base64",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getUrl"),t,{name:"functions/getUrl",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/getFormData"),t,{name:"functions/getFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/resolve"),t,{name:"functions/resolve",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"angular/getHeaders"),t,{name:"angular/getHeaders",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"angular/getRequestBody"),t,{name:"angular/getRequestBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"angular/sendRequest"),t,{name:"angular/sendRequest",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"angular/getResponseHeader"),t,{name:"angular/getResponseHeader",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"angular/getResponseBody"),t,{name:"angular/getResponseBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(i(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param http The Angular HTTP client
 * @param options The request options from the service
 * @returns Observable<T>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, http: HttpClient, options: ApiRequestOptions<T>): Observable<T> => {
	const url = getUrl(config, options);
	const formData = getFormData(options);
	const body = getRequestBody(options);

	return getHeaders(config, options).pipe(
		switchMap(headers => {
			return sendRequest<T>(config, options, http, url, body, formData, headers);
		}),
		switchMap(async response => {
			for (const fn of config.interceptors.response._fns) {
				response = await fn(response);
			}
			const responseBody = getResponseBody(response);
			const responseHeader = getResponseHeader(response, options.responseHeader);

			let transformedBody = responseBody;
			if (options.responseTransformer && response.ok) {
				transformedBody = await options.responseTransformer(responseBody)
			}

			return {
				url,
				ok: response.ok,
				status: response.status,
				statusText: response.statusText,
				body: responseHeader ?? transformedBody,
			} as ApiResult;
		}),
		catchError((error: HttpErrorResponse) => {
			if (!error.status) {
				return throwError(() => error);
			}
			return of({
				url,
				ok: error.ok,
				status: error.status,
				statusText: error.statusText,
				body: error.error ?? error.statusText,
			} as ApiResult);
		}),
		map(result => {
			catchErrorCodes(options, result);
			return result.body as T;
		}),
		catchError((error: ApiError) => {
			return throwError(() => error);
		}),
	);
};`},usePartial:true,useData:true};var Pp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const sendRequest = <T>(
	config: OpenAPIConfig,
	options: ApiRequestOptions<T>,
	http: HttpClient,
	url: string,
	body: unknown,
	formData: FormData | undefined,
	headers: HttpHeaders
): Observable<HttpResponse<T>> => {
	return http.request<T>(options.method, url, {
		headers,
		body: body ?? formData,
		withCredentials: config.WITH_CREDENTIALS,
		observe: 'response',
	});
};`},useData:true};var Ip={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';

export class ApiError extends Error {
	public readonly url: string;
	public readonly status: number;
	public readonly statusText: string;
	public readonly body: unknown;
	public readonly request: ApiRequestOptions;

	constructor(request: ApiRequestOptions, response: ApiResult, message: string) {
		super(message);

		this.name = 'ApiError';
		this.url = response.url;
		this.status = response.status;
		this.statusText = response.statusText;
		this.body = response.body;
		this.request = request;
	}
}`},useData:true};var Ap={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export type ApiRequestOptions<T = unknown> = {
	readonly body?: any;
	readonly cookies?: Record<string, unknown>;
	readonly errors?: Record<number | string, string>;
	readonly formData?: Record<string, unknown> | any[] | Blob | File;
	readonly headers?: Record<string, unknown>;
	readonly mediaType?: string;
	readonly method:
		| 'DELETE'
		| 'GET'
		| 'HEAD'
		| 'OPTIONS'
		| 'PATCH'
		| 'POST'
		| 'PUT';
	readonly path?: Record<string, unknown>;
	readonly query?: Record<string, unknown>;
	readonly responseHeader?: string;
	readonly responseTransformer?: (data: unknown) => Promise<T>;
	readonly url: string;
};`},useData:true};var Ep={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export type ApiResult<TData = any> = {
	readonly body: TData;
	readonly ok: boolean;
	readonly status: number;
	readonly statusText: string;
	readonly url: string;
};`},useData:true};var jp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Record<string, string>> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
	.filter(([, value]) => value !== undefined && value !== null)
	.reduce((headers, [key, value]) => ({
		...headers,
		[key]: String(value),
	}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	} else if (options.formData !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		}
	}

	return headers;
};`},useData:true};var vp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body) {
		return options.body;
	}
	return undefined;
};`},useData:true};var qp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseBody = (response: AxiosResponse<unknown>): unknown => {
	if (response.status !== 204) {
		return response.data;
	}
	return undefined;
};`},useData:true};var kp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseHeader = (response: AxiosResponse<unknown>, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = response.headers[responseHeader];
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var wp={1:function(e,t,r,n,s){return "ApiResult<T>"},3:function(e,t,r,n,s){return "T"},5:function(e,t,r,n,s){return "result.body"},7:function(e,t,r,n,s){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return `import axios from 'axios';
import type { AxiosError, AxiosRequestConfig, AxiosResponse, AxiosInstance } from 'axios';

import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((o=e.invokePartial(a(n,"functions/isString"),t,{name:"functions/isString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isBlob"),t,{name:"functions/isBlob",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isFormData"),t,{name:"functions/isFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isSuccess"),t,{name:"functions/isSuccess",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/base64"),t,{name:"functions/base64",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getUrl"),t,{name:"functions/getUrl",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getFormData"),t,{name:"functions/getFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/resolve"),t,{name:"functions/resolve",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"axios/getHeaders"),t,{name:"axios/getHeaders",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"axios/getRequestBody"),t,{name:"axios/getRequestBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"axios/sendRequest"),t,{name:"axios/sendRequest",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"axios/getResponseHeader"),t,{name:"axios/getResponseHeader",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"axios/getResponseBody"),t,{name:"axios/getResponseBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @param axiosClient The axios client instance to use
 * @returns CancelablePromise<`+((o=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:64,column:30},end:{line:64,column:108}}}))!=null?o:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>, axiosClient: AxiosInstance = axios): CancelablePromise<`+((o=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:67,column:136},end:{line:67,column:214}}}))!=null?o:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest<T>(config, options, url, body, formData, headers, onCancel, axiosClient);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && isSuccess(response.status)) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: isSuccess(response.status),
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((o=a(r,"ifServicesResponse").call(i,"body",{name:"ifServicesResponse",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s,loc:{start:{line:100,column:12},end:{line:100,column:90}}}))!=null?o:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var Np={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const sendRequest = async <T>(
	config: OpenAPIConfig,
	options: ApiRequestOptions<T>,
	url: string,
	body: unknown,
	formData: FormData | undefined,
	headers: Record<string, string>,
	onCancel: OnCancel,
	axiosClient: AxiosInstance
): Promise<AxiosResponse<T>> => {
	const controller = new AbortController();

	let requestConfig: AxiosRequestConfig = {
		data: body ?? formData,
		headers,
		method: options.method,
		signal: controller.signal,
		url,
		withCredentials: config.WITH_CREDENTIALS,
	};

	onCancel(() => controller.abort());

	for (const fn of config.interceptors.request._fns) {
		requestConfig = await fn(requestConfig);
	}

	try {
		return await axiosClient.request(requestConfig);
	} catch (error) {
		const axiosError = error as AxiosError<T>;
		if (axiosError.response) {
			return axiosError.response;
		}
		throw error;
	}
};`},useData:true};var $p={1:function(e,t,r,n,s){return `import type { HttpClient } from '@angular/common/http';
import type { Observable } from 'rxjs';

import type { ApiRequestOptions } from './ApiRequestOptions';
import type { OpenAPIConfig } from './OpenAPI';
`},3:function(e,t,r,n,s){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import type { CancelablePromise } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';
`},5:function(e,t,r,n,s){return `	constructor(
		public readonly config: OpenAPIConfig,
		public readonly http: HttpClient,
	) {}
`},7:function(e,t,r,n,s){return `	constructor(public readonly config: OpenAPIConfig) {}
`},9:function(e,t,r,n,s){return `	public abstract request<T>(options: ApiRequestOptions<T>): Observable<T>;
`},11:function(e,t,r,n,s){return `	public abstract request<T>(options: ApiRequestOptions<T>): CancelablePromise<T>;
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:1,column:0},end:{line:11,column:11}}}))!=null?o:"")+`
export abstract class BaseHttpRequest {

`+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s,loc:{start:{line:15,column:1},end:{line:22,column:12}}}))!=null?o:"")+`
`+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(9,s,0),inverse:e.program(11,s,0),data:s,loc:{start:{line:24,column:1},end:{line:28,column:12}}}))!=null?o:"")+"}"},useData:true};var Dp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export class CancelError extends Error {
	constructor(message: string) {
		super(message);
		this.name = 'CancelError';
	}

	public get isCancelled(): boolean {
		return true;
	}
}

export interface OnCancel {
	readonly isResolved: boolean;
	readonly isRejected: boolean;
	readonly isCancelled: boolean;

	(cancelHandler: () => void): void;
}

export class CancelablePromise<T> implements Promise<T> {
	private _isResolved: boolean;
	private _isRejected: boolean;
	private _isCancelled: boolean;
	readonly cancelHandlers: (() => void)[];
	readonly promise: Promise<T>;
	private _resolve?: (value: T | PromiseLike<T>) => void;
	private _reject?: (reason?: unknown) => void;

	constructor(
		executor: (
			resolve: (value: T | PromiseLike<T>) => void,
			reject: (reason?: unknown) => void,
			onCancel: OnCancel
		) => void
	) {
		this._isResolved = false;
		this._isRejected = false;
		this._isCancelled = false;
		this.cancelHandlers = [];
		this.promise = new Promise<T>((resolve, reject) => {
			this._resolve = resolve;
			this._reject = reject;

			const onResolve = (value: T | PromiseLike<T>): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this._isResolved = true;
				if (this._resolve) this._resolve(value);
			};

			const onReject = (reason?: unknown): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this._isRejected = true;
				if (this._reject) this._reject(reason);
			};

			const onCancel = (cancelHandler: () => void): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this.cancelHandlers.push(cancelHandler);
			};

			Object.defineProperty(onCancel, 'isResolved', {
				get: (): boolean => this._isResolved,
			});

			Object.defineProperty(onCancel, 'isRejected', {
				get: (): boolean => this._isRejected,
			});

			Object.defineProperty(onCancel, 'isCancelled', {
				get: (): boolean => this._isCancelled,
			});

			return executor(onResolve, onReject, onCancel as OnCancel);
		});
	}

	get [Symbol.toStringTag]() {
		return "Cancellable Promise";
	}

	public then<TResult1 = T, TResult2 = never>(
		onFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,
		onRejected?: ((reason: unknown) => TResult2 | PromiseLike<TResult2>) | null
	): Promise<TResult1 | TResult2> {
		return this.promise.then(onFulfilled, onRejected);
	}

	public catch<TResult = never>(
		onRejected?: ((reason: unknown) => TResult | PromiseLike<TResult>) | null
	): Promise<T | TResult> {
		return this.promise.catch(onRejected);
	}

	public finally(onFinally?: (() => void) | null): Promise<T> {
		return this.promise.finally(onFinally);
	}

	public cancel(): void {
		if (this._isResolved || this._isRejected || this._isCancelled) {
			return;
		}
		this._isCancelled = true;
		if (this.cancelHandlers.length) {
			try {
				for (const cancelHandler of this.cancelHandlers) {
					cancelHandler();
				}
			} catch (error) {
				console.warn('Cancellation threw an error', error);
				return;
			}
		}
		this.cancelHandlers.length = 0;
		if (this._reject) this._reject(new CancelError('Request aborted'));
	}

	public get isCancelled(): boolean {
		return this._isCancelled;
	}
}`},useData:true};var Mp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Headers> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
		.filter(([, value]) => value !== undefined && value !== null)
		.reduce((headers, [key, value]) => ({
			...headers,
			[key]: String(value),
		}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	}

	return new Headers(headers);
};`},useData:true};var Fp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body !== undefined) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var Lp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseBody = async (response: Response): Promise<unknown> => {
	if (response.status !== 204) {
		try {
			const contentType = response.headers.get('Content-Type');
			if (contentType) {
				const binaryTypes = ['application/octet-stream', 'application/pdf', 'application/zip', 'audio/', 'image/', 'video/'];
				if (contentType.includes('application/json') || contentType.includes('+json')) {
					return await response.json();
				} else if (binaryTypes.some(type => contentType.includes(type))) {
					return await response.blob();
				} else if (contentType.includes('multipart/form-data')) {
					return await response.formData();
				} else if (contentType.includes('text/')) {
					return await response.text();
				}
			}
		} catch (error) {
			console.error(error);
		}
	}
	return undefined;
};`},useData:true};var Bp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseHeader = (response: Response, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = response.headers.get(responseHeader);
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var _p={1:function(e,t,r,n,s){return `import fetch, { FormData, Headers } from 'node-fetch';
import type { RequestInit, Response } from 'node-fetch';

`},3:function(e,t,r,n,s){return "ApiResult<T>"},5:function(e,t,r,n,s){return "T"},7:function(e,t,r,n,s){return "result.body"},9:function(e,t,r,n,s){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:5,column:11}}}))!=null?o:"")+`import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((o=e.invokePartial(a(n,"functions/isString"),t,{name:"functions/isString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isBlob"),t,{name:"functions/isBlob",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isFormData"),t,{name:"functions/isFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/base64"),t,{name:"functions/base64",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getUrl"),t,{name:"functions/getUrl",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getFormData"),t,{name:"functions/getFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/resolve"),t,{name:"functions/resolve",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"fetch/getHeaders"),t,{name:"fetch/getHeaders",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"fetch/getRequestBody"),t,{name:"fetch/getRequestBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"fetch/sendRequest"),t,{name:"fetch/sendRequest",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"fetch/getResponseHeader"),t,{name:"fetch/getResponseHeader",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"fetch/getResponseBody"),t,{name:"fetch/getResponseBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @returns CancelablePromise<`+((o=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s,loc:{start:{line:62,column:30},end:{line:62,column:108}}}))!=null?o:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): CancelablePromise<`+((o=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(3,s,0),inverse:e.program(5,s,0),data:s,loc:{start:{line:65,column:100},end:{line:65,column:178}}}))!=null?o:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest(config, options, url, body, formData, headers, onCancel);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = await getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && response.ok) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: response.ok,
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((o=a(r,"ifServicesResponse").call(i,"body",{name:"ifServicesResponse",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s,loc:{start:{line:98,column:12},end:{line:98,column:90}}}))!=null?o:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var Hp={1:function(e,t,r,n,s){return `	if (config.WITH_CREDENTIALS) {
		request.credentials = config.CREDENTIALS;
	}
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return `export const sendRequest = async (
	config: OpenAPIConfig,
	options: ApiRequestOptions,
	url: string,
	body: any,
	formData: FormData | undefined,
	headers: Headers,
	onCancel: OnCancel
): Promise<Response> => {
	const controller = new AbortController();

	let request: RequestInit = {
		headers,
		body: body ?? formData,
		method: options.method,
		signal: controller.signal,
	};

`+((o=i(r,"equals").call(t??(e.nullContext||{}),i(i(i(i(s,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:19,column:1},end:{line:23,column:12}}}))!=null?o:"")+`
	for (const fn of config.interceptors.request._fns) {
		request = await fn(request);
	}

	onCancel(() => controller.abort());

	return await fetch(url, request);
};`},useData:true};var Kp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const base64 = (str: string): string => {
	try {
		return btoa(str);
	} catch (err) {
		// @ts-ignore
		return Buffer.from(str).toString('base64');
	}
};`},useData:true};var Vp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const catchErrorCodes = (options: ApiRequestOptions, result: ApiResult): void => {
	const errors: Record<number, string> = {
		400: 'Bad Request',
		401: 'Unauthorized',
		402: 'Payment Required',
		403: 'Forbidden',
		404: 'Not Found',
		405: 'Method Not Allowed',
		406: 'Not Acceptable',
		407: 'Proxy Authentication Required',
		408: 'Request Timeout',
		409: 'Conflict',
		410: 'Gone',
		411: 'Length Required',
		412: 'Precondition Failed',
		413: 'Payload Too Large',
		414: 'URI Too Long',
		415: 'Unsupported Media Type',
		416: 'Range Not Satisfiable',
		417: 'Expectation Failed',
		418: 'Im a teapot',
		421: 'Misdirected Request',
		422: 'Unprocessable Content',
		423: 'Locked',
		424: 'Failed Dependency',
		425: 'Too Early',
		426: 'Upgrade Required',
		428: 'Precondition Required',
		429: 'Too Many Requests',
		431: 'Request Header Fields Too Large',
		451: 'Unavailable For Legal Reasons',
		500: 'Internal Server Error',
		501: 'Not Implemented',
		502: 'Bad Gateway',
		503: 'Service Unavailable',
		504: 'Gateway Timeout',
		505: 'HTTP Version Not Supported',
		506: 'Variant Also Negotiates',
		507: 'Insufficient Storage',
		508: 'Loop Detected',
		510: 'Not Extended',
		511: 'Network Authentication Required',
		...options.errors,
	}

	const error = errors[result.status];
	if (error) {
		throw new ApiError(options, result, error);
	}

	if (!result.ok) {
		const errorStatus = result.status ?? 'unknown';
		const errorStatusText = result.statusText ?? 'unknown';
		const errorBody = (() => {
			try {
				return JSON.stringify(result.body, null, 2);
			} catch (e) {
				return undefined;
			}
		})();

		throw new ApiError(options, result,
			\`Generic Error: status: \${errorStatus}; status text: \${errorStatusText}; body: \${errorBody}\`
		);
	}
};`},useData:true};var Wp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getFormData = (options: ApiRequestOptions): FormData | undefined => {
	if (options.formData) {
		const formData = new FormData();

		const process = (key: string, value: unknown) => {
			if (isString(value) || isBlob(value)) {
				formData.append(key, value);
			} else {
				formData.append(key, JSON.stringify(value));
			}
		};

		Object.entries(options.formData)
			.filter(([, value]) => value !== undefined && value !== null)
			.forEach(([key, value]) => {
				if (Array.isArray(value)) {
					value.forEach(v => process(key, v));
				} else {
					process(key, value);
				}
			});

		return formData;
	}
	return undefined;
};`},useData:true};var Up={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getQueryString = (params: Record<string, unknown>): string => {
	const qs: string[] = [];

	const append = (key: string, value: unknown) => {
		qs.push(\`\${encodeURIComponent(key)}=\${encodeURIComponent(String(value))}\`);
	};

	const encodePair = (key: string, value: unknown) => {
		if (value === undefined || value === null) {
			return;
		}

		if (value instanceof Date) {
			append(key, value.toISOString());
		} else if (Array.isArray(value)) {
			value.forEach(v => encodePair(key, v));
		} else if (typeof value === 'object') {
			Object.entries(value).forEach(([k, v]) => encodePair(\`\${key}[\${k}]\`, v));
		} else {
			append(key, value);
		}
	};

	Object.entries(params).forEach(([key, value]) => encodePair(key, value));

	return qs.length ? \`?\${qs.join('&')}\` : '';
};`},useData:true};var Qp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `const getUrl = (config: OpenAPIConfig, options: ApiRequestOptions): string => {
	const encoder = config.ENCODE_PATH || encodeURI;

	const path = options.url
		.replace('{api-version}', config.VERSION)
		.replace(/{(.*?)}/g, (substring: string, group: string) => {
			if (options.path?.hasOwnProperty(group)) {
				return encoder(String(options.path[group]));
			}
			return substring;
		});

	const url = config.BASE + path;
	return options.query ? url + getQueryString(options.query) : url;
};`},useData:true};var Xp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isBlob = (value: any): value is Blob => {
	return value instanceof Blob;
};`},useData:true};var zp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isFormData = (value: unknown): value is FormData => {
	return value instanceof FormData;
};`},useData:true};var Gp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isString = (value: unknown): value is string => {
	return typeof value === 'string';
};`},useData:true};var Jp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isStringWithValue = (value: unknown): value is string => {
	return isString(value) && value !== '';
};`},useData:true};var Zp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const isSuccess = (status: number): boolean => {
	return status >= 200 && status < 300;
};`},useData:true};var Yp={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `type Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;

export const resolve = async <T>(options: ApiRequestOptions<T>, resolver?: T | Resolver<T>): Promise<T | undefined> => {
	if (typeof resolver === 'function') {
		return (resolver as Resolver<T>)(options);
	}
	return resolver;
};`},useData:true};var ec={1:function(e,t,r,n,s){return `import { Inject, Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import type { Observable } from 'rxjs';

import type { ApiRequestOptions } from './ApiRequestOptions';
import { BaseHttpRequest } from './BaseHttpRequest';
import type { OpenAPIConfig } from './OpenAPI';
import { OpenAPI } from './OpenAPI';
import { request as __request } from './request';
`},3:function(e,t,r,n,s){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import { BaseHttpRequest } from './BaseHttpRequest';
import type { CancelablePromise } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';
import { request as __request } from './request';
`},5:function(e,t,r,n,s){return `@Injectable()
`},7:function(e,t,r,n,s){return `	constructor(
		@Inject(OpenAPI)
		config: OpenAPIConfig,
		http: HttpClient,
	) {
		super(config, http);
	}
`},9:function(e,t,r,n,s){return `	constructor(config: OpenAPIConfig) {
		super(config);
	}
`},11:function(e,t,r,n,s){return `	/**
	 * Request method
	 * @param options The request options from the service
	 * @returns Observable<T>
	 * @throws ApiError
	 */
	public override request<T>(options: ApiRequestOptions<T>): Observable<T> {
		return __request(this.config, this.http, options);
	}
`},13:function(e,t,r,n,s){return `	/**
	 * Request method
	 * @param options The request options from the service
	 * @returns CancelablePromise<T>
	 * @throws ApiError
	 */
	public override request<T>(options: ApiRequestOptions<T>): CancelablePromise<T> {
		return __request(this.config, options);
	}
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:1,column:0},end:{line:17,column:11}}}))!=null?o:"")+`
`+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:19,column:0},end:{line:21,column:11}}}))!=null?o:"")+"export class "+((o=e.lambda(e.strict(t,"httpRequest",{start:{line:22,column:15},end:{line:22,column:26}}),t))!=null?o:"")+` extends BaseHttpRequest {

`+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(7,s,0),inverse:e.program(9,s,0),data:s,loc:{start:{line:24,column:1},end:{line:36,column:12}}}))!=null?o:"")+`
`+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(11,s,0),inverse:e.program(13,s,0),data:s,loc:{start:{line:38,column:1},end:{line:58,column:12}}}))!=null?o:"")+"}"},useData:true};var tc={1:function(e,t,r,n,s){return `import type { HttpResponse } from '@angular/common/http';
`},3:function(e,t,r,n,s){return `import type { AxiosRequestConfig, AxiosResponse } from 'axios';
`},5:function(e,t,r,n,s){return `import type { RequestInit, Response } from 'node-fetch';
`},7:function(e,t,r,n,s){return `		response: Interceptors<HttpResponse<any>>;
`},9:function(e,t,r,n,s){return `		request: Interceptors<AxiosRequestConfig>;
		response: Interceptors<AxiosResponse>;
`},11:function(e,t,r,n,s){return `		request: Interceptors<RequestInit>;
		response: Interceptors<Response>;
`},13:function(e,t,r,n,s){return `		request: Interceptors<XMLHttpRequest>;
		response: Interceptors<XMLHttpRequest>;
`},15:function(e,t,r,n,s){return `		request: new Interceptors(),
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.strict,c=e.lambda,m=e.lookupProperty||function(l,u){if(Object.prototype.hasOwnProperty.call(l,u))return l[u]};return ((o=m(r,"equals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:3,column:11}}}))!=null?o:"")+((o=m(r,"equals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s,loc:{start:{line:4,column:0},end:{line:6,column:11}}}))!=null?o:"")+((o=m(r,"equals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:7,column:0},end:{line:9,column:11}}}))!=null?o:"")+`import type { ApiRequestOptions } from './ApiRequestOptions';

type Headers = Record<string, string>;
type Middleware<T> = (value: T) => T | Promise<T>;
type Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;

export class Interceptors<T> {
  _fns: Middleware<T>[];

  constructor() {
    this._fns = [];
  }

  eject(fn: Middleware<T>): void {
    const index = this._fns.indexOf(fn);
    if (index !== -1) {
      this._fns = [...this._fns.slice(0, index), ...this._fns.slice(index + 1)];
    }
  }

  use(fn: Middleware<T>): void {
    this._fns = [...this._fns, fn];
  }
}

export type OpenAPIConfig = {
	BASE: string;
	CREDENTIALS: 'include' | 'omit' | 'same-origin';
	ENCODE_PATH?: ((path: string) => string) | undefined;
	HEADERS?: Headers | Resolver<Headers> | undefined;
	PASSWORD?: string | Resolver<string> | undefined;
	TOKEN?: string | Resolver<string> | undefined;
	USERNAME?: string | Resolver<string> | undefined;
	VERSION: string;
	WITH_CREDENTIALS: boolean;
	interceptors: {
`+((o=m(r,"equals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s,loc:{start:{line:46,column:2},end:{line:48,column:13}}}))!=null?o:"")+((o=m(r,"equals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s,loc:{start:{line:49,column:2},end:{line:52,column:13}}}))!=null?o:"")+((o=m(r,"equals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s,loc:{start:{line:53,column:2},end:{line:56,column:13}}}))!=null?o:"")+((o=m(r,"equals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s,loc:{start:{line:57,column:2},end:{line:60,column:13}}}))!=null?o:"")+((o=m(r,"equals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/xhr",{name:"equals",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s,loc:{start:{line:61,column:2},end:{line:64,column:13}}}))!=null?o:"")+`	};
};

export const OpenAPI: OpenAPIConfig = {
	BASE: '`+((o=c(a(t,"server",{start:{line:69,column:11},end:{line:69,column:17}}),t))!=null?o:"")+`',
	CREDENTIALS: 'include',
	ENCODE_PATH: undefined,
	HEADERS: undefined,
	PASSWORD: undefined,
	TOKEN: undefined,
	USERNAME: undefined,
	VERSION: '`+((o=c(a(t,"version",{start:{line:76,column:14},end:{line:76,column:21}}),t))!=null?o:"")+`',
	WITH_CREDENTIALS: false,
	interceptors: {
`+((o=m(r,"notEquals").call(i,m(m(m(m(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"notEquals",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s,loc:{start:{line:79,column:2},end:{line:81,column:16}}}))!=null?o:"")+`		response: new Interceptors(),
	},
};`},useData:true};var rc={1:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return (o=e.invokePartial(i(n,"angular/request"),t,{name:"angular/request",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:""},3:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return (o=e.invokePartial(i(n,"axios/request"),t,{name:"axios/request",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:""},5:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return (o=e.invokePartial(i(n,"fetch/request"),t,{name:"fetch/request",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:""},7:function(e,t,r,n,s){var o,i=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return (o=e.invokePartial(i(n,"xhr/request"),t,{name:"xhr/request",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:""},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s,loc:{start:{line:1,column:0},end:{line:1,column:87}}}))!=null?o:"")+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s,loc:{start:{line:2,column:0},end:{line:2,column:83}}}))!=null?o:"")+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:3,column:0},end:{line:3,column:83}}}))!=null?o:"")+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s,loc:{start:{line:4,column:0},end:{line:4,column:82}}}))!=null?o:"")+((o=a(r,"equals").call(i,a(a(a(a(s,"root"),"$config"),"client"),"name"),"legacy/xhr",{name:"equals",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s,loc:{start:{line:5,column:0},end:{line:5,column:79}}}))!=null?o:"")},usePartial:true,useData:true};var nc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Headers> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
		.filter(([, value]) => value !== undefined && value !== null)
		.reduce((headers, [key, value]) => ({
			...headers,
			[key]: String(value),
		}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	}

	return new Headers(headers);
};`},useData:true};var sc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body !== undefined) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var oc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseBody = (xhr: XMLHttpRequest): unknown => {
	if (xhr.status !== 204) {
		try {
			const contentType = xhr.getResponseHeader('Content-Type');
			if (contentType) {
				if (contentType.includes('application/json') || contentType.includes('+json')) {
					return JSON.parse(xhr.responseText);
				} else {
					return xhr.responseText;
				}
			}
		} catch (error) {
			console.error(error);
		}
	}
	return undefined;
};`},useData:true};var ic={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const getResponseHeader = (xhr: XMLHttpRequest, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = xhr.getResponseHeader(responseHeader);
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var ac={1:function(e,t,r,n,s){return "ApiResult<T>"},3:function(e,t,r,n,s){return "T"},5:function(e,t,r,n,s){return "result.body"},7:function(e,t,r,n,s){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){var o,i=t??(e.nullContext||{}),a=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return `import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((o=e.invokePartial(a(n,"functions/isString"),t,{name:"functions/isString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isBlob"),t,{name:"functions/isBlob",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isFormData"),t,{name:"functions/isFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/isSuccess"),t,{name:"functions/isSuccess",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/base64"),t,{name:"functions/base64",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getUrl"),t,{name:"functions/getUrl",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/getFormData"),t,{name:"functions/getFormData",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/resolve"),t,{name:"functions/resolve",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"fetch/getHeaders"),t,{name:"fetch/getHeaders",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"xhr/getRequestBody"),t,{name:"xhr/getRequestBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"xhr/sendRequest"),t,{name:"xhr/sendRequest",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"xhr/getResponseHeader"),t,{name:"xhr/getResponseHeader",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"xhr/getResponseBody"),t,{name:"xhr/getResponseBody",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

`+((o=e.invokePartial(a(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:s,helpers:r,partials:n,decorators:e.decorators}))!=null?o:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @returns CancelablePromise<`+((o=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:60,column:30},end:{line:60,column:108}}}))!=null?o:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): CancelablePromise<`+((o=a(r,"ifServicesResponse").call(i,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s,loc:{start:{line:63,column:100},end:{line:63,column:178}}}))!=null?o:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest(config, options, url, body, formData, headers, onCancel);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && isSuccess(response.status)) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: isSuccess(response.status),
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((o=a(r,"ifServicesResponse").call(i,"body",{name:"ifServicesResponse",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s,loc:{start:{line:96,column:12},end:{line:96,column:90}}}))!=null?o:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var pc={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,s){return `export const sendRequest = async (
	config: OpenAPIConfig,
	options: ApiRequestOptions,
	url: string,
	body: any,
	formData: FormData | undefined,
	headers: Headers,
	onCancel: OnCancel
): Promise<XMLHttpRequest> => {
	let xhr = new XMLHttpRequest();
	xhr.open(options.method, url, true);
	xhr.withCredentials = config.WITH_CREDENTIALS;

	headers.forEach((value, key) => {
		xhr.setRequestHeader(key, value);
	});

	return new Promise<XMLHttpRequest>(async (resolve, reject) => {
		xhr.onload = () => resolve(xhr);
		xhr.onabort = () => reject(new Error('Request aborted'));
		xhr.onerror = () => reject(new Error('Network error'));

		for (const fn of config.interceptors.request._fns) {
			xhr = await fn(xhr);
		}

		xhr.send(body ?? formData);

		onCancel(() => xhr.abort());
	});
};`},useData:true};var nf=()=>{y__default.default.registerHelper("camelCase",function(e){return C({case:"camelCase",value:e})}),y__default.default.registerHelper("equals",function(e,t,r){return e===t?r.fn(this):r.inverse(this)}),y__default.default.registerHelper("ifServicesResponse",function(e,t){return b().plugins["@hey-api/sdk"]?.response===e?t.fn(this):t.inverse(this)}),y__default.default.registerHelper("ifdef",function(...e){let t=e.pop();return e.every(r=>!r)?t.inverse(this):t.fn(this)}),y__default.default.registerHelper("notEquals",function(e,t,r){return e!==t?r.fn(this):r.inverse(this)}),y__default.default.registerHelper("transformServiceName",function(e){return Ie({config:b(),name:e})});},cc=()=>{nf();let e={client:y__default.default.template(bp),core:{apiError:y__default.default.template(Ip),apiRequestOptions:y__default.default.template(Ap),apiResult:y__default.default.template(Ep),baseHttpRequest:y__default.default.template($p),cancelablePromise:y__default.default.template(Dp),httpRequest:y__default.default.template(ec),request:y__default.default.template(rc),settings:y__default.default.template(tc)}};return y__default.default.registerPartial("functions/base64",y__default.default.template(Kp)),y__default.default.registerPartial("functions/catchErrorCodes",y__default.default.template(Vp)),y__default.default.registerPartial("functions/getFormData",y__default.default.template(Wp)),y__default.default.registerPartial("functions/getQueryString",y__default.default.template(Up)),y__default.default.registerPartial("functions/getUrl",y__default.default.template(Qp)),y__default.default.registerPartial("functions/isBlob",y__default.default.template(Xp)),y__default.default.registerPartial("functions/isFormData",y__default.default.template(zp)),y__default.default.registerPartial("functions/isString",y__default.default.template(Gp)),y__default.default.registerPartial("functions/isStringWithValue",y__default.default.template(Jp)),y__default.default.registerPartial("functions/isSuccess",y__default.default.template(Zp)),y__default.default.registerPartial("functions/resolve",y__default.default.template(Yp)),y__default.default.registerPartial("fetch/getHeaders",y__default.default.template(Mp)),y__default.default.registerPartial("fetch/getRequestBody",y__default.default.template(Fp)),y__default.default.registerPartial("fetch/getResponseBody",y__default.default.template(Lp)),y__default.default.registerPartial("fetch/getResponseHeader",y__default.default.template(Bp)),y__default.default.registerPartial("fetch/request",y__default.default.template(_p)),y__default.default.registerPartial("fetch/sendRequest",y__default.default.template(Hp)),y__default.default.registerPartial("xhr/getHeaders",y__default.default.template(nc)),y__default.default.registerPartial("xhr/getRequestBody",y__default.default.template(sc)),y__default.default.registerPartial("xhr/getResponseBody",y__default.default.template(oc)),y__default.default.registerPartial("xhr/getResponseHeader",y__default.default.template(ic)),y__default.default.registerPartial("xhr/request",y__default.default.template(ac)),y__default.default.registerPartial("xhr/sendRequest",y__default.default.template(pc)),y__default.default.registerPartial("axios/getHeaders",y__default.default.template(jp)),y__default.default.registerPartial("axios/getRequestBody",y__default.default.template(vp)),y__default.default.registerPartial("axios/getResponseBody",y__default.default.template(qp)),y__default.default.registerPartial("axios/getResponseHeader",y__default.default.template(kp)),y__default.default.registerPartial("axios/request",y__default.default.template(wp)),y__default.default.registerPartial("axios/sendRequest",y__default.default.template(Np)),y__default.default.registerPartial("angular/getHeaders",y__default.default.template(Op)),y__default.default.registerPartial("angular/getRequestBody",y__default.default.template(Rp)),y__default.default.registerPartial("angular/getResponseBody",y__default.default.template(Sp)),y__default.default.registerPartial("angular/getResponseHeader",y__default.default.template(Tp)),y__default.default.registerPartial("angular/request",y__default.default.template(Cp)),y__default.default.registerPartial("angular/sendRequest",y__default.default.template(Pp)),e};var mc=e=>`${e}-end`,Cs=e=>`${e}-length`,lc=e=>`${e}-start`,B={clear:()=>{performance.clearMarks(),performance.clearMeasures();},end:e=>performance.mark(mc(e)),getEntriesByName:e=>performance.getEntriesByName(Cs(e)),measure:e=>performance.measure(Cs(e),lc(e),mc(e)),start:e=>performance.mark(lc(e))},On=class{totalMeasure;constructor({totalMark:t}){this.totalMeasure=B.measure(t);}report({marks:t}){let r=Math.ceil(this.totalMeasure.duration*100)/100,n=this.totalMeasure.name;console.warn(`${n.substring(0,n.length-Cs("").length)}: ${r.toFixed(2)}ms`),t.forEach(s=>{let o=B.measure(s),i=Math.ceil(o.duration*100)/100,a=Math.ceil(o.duration/this.totalMeasure.duration*100*100)/100;console.warn(`${s}: ${i.toFixed(2)}ms (${a.toFixed(2)}%)`);});}};var sf={stringCase:C};var mf={biome:{args:e=>["format","--write",e],command:"biome",name:"Biome (Format)"},prettier:{args:e=>["--ignore-unknown",e,"--write","--ignore-path","./.prettierignore"],command:"prettier",name:"Prettier"}},lf={biome:{args:e=>["lint","--apply",e],command:"biome",name:"Biome (Lint)"},eslint:{args:e=>[e,"--fix"],command:"eslint",name:"ESLint"},oxlint:{args:e=>["--fix",e],command:"oxlint",name:"oxlint"}},uf=({config:e})=>{if(e.output.format){let t=mf[e.output.format];console.log(`\u2728 Running ${t.name}`),(0, Ps.sync)(t.command,t.args(e.output.path));}if(e.output.lint){let t=lf[e.output.lint];console.log(`\u2728 Running ${t.name}`),(0, Ps.sync)(t.command,t.args(e.output.path));}},ff=e=>{let t={bundle:false,name:""};return typeof e.client=="string"?t.name=e.client:e.client&&(t={...t,...e.client}),t},df=e=>{let t={path:""};return typeof e.input=="string"?t.path=e.input:e.input&&e.input.path?t={...t,...e.input}:t={...t,path:e.input},t},fc=e=>{let t={level:"info",path:process.cwd()};return typeof e.logs=="string"?t.path=e.logs:t={...t,...e.logs},t},yf=e=>{let t={clean:true,format:false,lint:false,path:""};return typeof e.output=="string"?t.path=e.output:t={...t,...e.output},t},gf=({pluginConfigs:e,userPlugins:t,userPluginsConfig:r})=>{let n=new Set,s=new Set,o={},i=a=>{if(n.has(a))throw new Error(`Circular reference detected at '${a}'`);if(!s.has(a)){if(n.add(a),!e[a])throw new Error(`\u{1F6AB} unknown plugin dependency "${a}" - do you need to register a custom plugin with this name?`);let m=bn[a],l=r[a];if(l&&m){let f=Object.keys(l).find(d=>d.startsWith("_"));if(f)throw new Error(`\u{1F6AB} cannot register plugin "${a}" - attempting to override a native plugin option "${f}"`)}let u={_dependencies:[],...m,...l};if(u._infer){let f={ensureDependency:d=>{typeof d=="string"&&!u._dependencies.includes(d)&&(u._dependencies=[...u._dependencies,d]);},pluginByTag:d=>{for(let x of t){let h=bn[x];if(h&&h._tags?.includes(d)&&x!==a)return x}}};u._infer(u,f);}for(let f of u._dependencies)i(f);n.delete(a),s.add(a),o[a]=u;}};for(let a of t)i(a);return {pluginOrder:Array.from(s),plugins:o}},hf=e=>{let t={},r=(e.plugins??Rf).map(n=>typeof n=="string"?n:(n.name&&(t[n.name]=n),n.name)).filter(Boolean);return gf({pluginConfigs:{...t,...bn},userPlugins:r,userPluginsConfig:t})},xf=async({inputPath:e,watch:t})=>{let r=new jsonSchemaRefParser.$RefParser,n=jsonSchemaRefParser.getResolvedInput({pathOrUrlOrSchema:e}),s,o,i;if(n.type==="url"){if(t.lastValue){if(i=(await jsonSchemaRefParser.sendRequest({init:{headers:t.headers,method:"HEAD"},url:n.path})).response,!i.ok)return {error:"not-ok",response:i};if(i.status===304)return {error:"not-modified",response:i};if(o===undefined){let l=i.headers.get("ETag");l&&(o=l!==t.headers.get("If-None-Match"),o&&t.headers.set("If-None-Match",l));}if(o===undefined){let l=i.headers.get("Last-Modified");l&&(o=l!==t.headers.get("If-Modified-Since"),o&&t.headers.set("If-Modified-Since",l));}if(o===false)return {error:"not-modified",response:i}}if(i=(await jsonSchemaRefParser.sendRequest({init:{method:"GET"},url:n.path})).response,!i.ok)return {error:"not-ok",response:i};if(s=i.body?await i.arrayBuffer():new ArrayBuffer(0),o===undefined){let m=new TextDecoder().decode(s);o=m!==t.lastValue,t.lastValue=m;}}return o===false?{error:"not-modified",response:i}:{data:await r.bundle({arrayBuffer:s,pathOrUrlOrSchema:undefined,resolvedInput:n})}},bf=e=>{let t={enabled:false,interval:1e3};return typeof e.input.path!="string"||(typeof e.watch=="boolean"?t.enabled=e.watch:typeof e.watch=="number"?t={enabled:true,interval:e.watch}:e.watch&&(t={...t,...e.watch})),t},Of=async e=>{let t;if(e.configFile){let s=e.configFile.split(".");t=s.slice(0,s.length-1).join(".");}let{config:r}=await c12.loadConfig({configFile:t,name:"openapi-ts"});return (Array.isArray(e)?e:Array.isArray(r)?r.map(s=>({...s,...e})):[{...r??{},...e}]).map(s=>{let{base:o,configFile:i="",dryRun:a=false,experimentalParser:c=false,exportCore:m=true,name:l,request:u,useOptions:f=true}=s,d=fc(s);d.level==="debug"&&console.warn("userConfig:",s);let x=df(s),h=yf(s);if(!x.path)throw new Error("\u{1F6AB} missing input - which OpenAPI specification should we use to generate your client?");if(!h.path)throw new Error("\u{1F6AB} missing output - where should we generate your client?");let T=ff(s);if(T.name&&!xp.includes(T.name))throw new Error("\u{1F6AB} invalid client - select a valid client value");f||console.warn("\u2757\uFE0F Deprecation warning: useOptions set to false. This setting will be removed in future versions. Please migrate useOptions to true https://heyapi.dev/openapi-ts/migrating.html#v0-27-38"),h.path=ce__default.default.resolve(process.cwd(),h.path);let O=So({...hf(s),base:o,client:T,configFile:i,dryRun:a,experimentalParser:c,exportCore:I(T)?m:false,input:x,logs:d,name:l,output:h,request:u,useOptions:f,watch:bf({...s,input:x})});return d.level==="debug"&&console.warn("config:",O),O})};async function cA(e){let t=[];try{B.start("createClient"),B.start("config"),t=await Of(e),B.end("config"),B.start("handlebars");let r=cc();B.end("handlebars");let n=async({config:a,watch:c})=>{let m=a.input.path,l=c||{headers:new Headers,lastValue:void 0};B.start("spec");let{data:u,error:f,response:d}=await xf({inputPath:m,watch:l});if(B.end("spec"),f&&!c)throw new Error(`Request failed with status ${d.status}: ${d.statusText}`);let x,h;if(u){if(console.log(c?`\u23F3 Input changed, generating from ${m}`:`\u23F3 Generating from ${m}`),B.start("parser"),a.experimentalParser&&!I(a)&&!w(a)&&(h=ga({config:a,spec:u})),!h){let T=ya({openApi:u});x=Sa(T,a);}if(B.end("parser"),B.start("generator"),h?await gi({context:h}):x&&await yi({client:x,openApi:u,templates:r}),B.end("generator"),B.start("postprocess"),!a.dryRun){uf({config:a});let T=process.env.INIT_CWD?`./${ce__default.default.relative(process.env.INIT_CWD,a.output.path)}`:a.output.path;console.log(`\u{1F680} Done! Your output is in ${T}`);}B.end("postprocess");}return a.watch.enabled&&typeof m=="string"&&setTimeout(()=>{n({config:a,watch:l});},a.watch.interval),h||x},o=(await Promise.all(t.map(a=>n({config:a})))).filter(a=>!!a);B.end("createClient");let i=t[0];return i&&i.logs.level==="debug"&&new On({totalMark:"createClient"}).report({marks:["config","openapi","handlebars","parser","generator","postprocess"]}),o}catch(r){let n=t[0];if(!(n?n.dryRun:e?.dryRun)){let o=n?.logs??fc(e);if(o.level!=="silent"){let i=`openapi-ts-error-${Date.now()}.log`,a=ce__default.default.resolve(process.cwd(),o.path??"");Qe(a);let c=ce__default.default.resolve(a,i);pe__default.default.writeFileSync(c,`${r.message}
${r.stack}`),console.error(`\u{1F525} Unexpected error occurred. Log saved to ${c}`);}}throw console.error(`\u{1F525} Unexpected error occurred. ${r.message}`),r}}var Rf=["@hey-api/typescript","@hey-api/sdk"],mA=e=>e;

exports.createClient = cA;
exports.defaultPlugins = Rf;
exports.defineConfig = mA;
exports.utils = sf;
//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map